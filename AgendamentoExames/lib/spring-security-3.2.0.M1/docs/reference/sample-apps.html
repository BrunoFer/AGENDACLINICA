<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>4.&nbsp;Sample Applications</title><link rel="stylesheet" href="css/manual.css" type="text/css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="springsecurity.html" title="Spring Security"><link rel="up" href="getting-started.html" title="Part&nbsp;I.&nbsp;Getting Started"><link rel="prev" href="ns-config.html" title="3.&nbsp;Security Namespace Configuration"><link rel="next" href="community.html" title="5.&nbsp;Spring Security Community"><!--Begin Google Analytics code--><script type="text/javascript">
			var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
			document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
		</script><script type="text/javascript">
			var pageTracker = _gat._getTracker("UA-2728886-3");
			pageTracker._setDomainName("none");
			pageTracker._setAllowLinker(true);
			pageTracker._trackPageview();
		</script><!--End Google Analytics code--></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">4.&nbsp;Sample Applications</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ns-config.html">Prev</a>&nbsp;</td><th width="60%" align="center">Part&nbsp;I.&nbsp;Getting Started</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="community.html">Next</a></td></tr></table><hr></div><div class="chapter" title="4.&nbsp;Sample Applications"><div class="titlepage"><div><div><h1 class="title"><a name="sample-apps"></a>Sample Applications</h1></div></div></div><p> There are several sample web applications that are available with the project. To avoid
        an overly large download, only the "tutorial" and "contacts" samples are included in the
        distribution zip file. The others can be built directly from the source which you can obtain
        as described in <a class="link" href="introduction.html#get-source" title="1.4.2&nbsp;Checking out the Source">the introduction</a>. It's easy to build
        the project yourself and there's more information on the project web site at <a class="link" href="http://www.springsource.org/security/" target="_top">
            http://www.springsource.org/security/ </a>. All paths referred to in this chapter are
        relative to the project source directory. </p><div class="section" title="4.1&nbsp;Tutorial Sample"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="tutorial-sample"></a>4.1&nbsp;Tutorial Sample</h2></div></div></div><p> The tutorial sample is a nice basic example to get you started. It uses simple
            namespace configuration throughout. The compiled application is included in the
            distribution zip file, ready to be deployed into your web container
            (<code class="filename">spring-security-samples-tutorial-3.1.x.war</code>). The <a class="link" href="ns-config.html#ns-form-and-basic" title="3.2.3&nbsp;Form and Basic Login Options">form-based</a> authentication mechanism is used in
            combination with the commonly-used <a class="link" href="remember-me.html" title="11.&nbsp;Remember-Me Authentication">remember-me</a>
            authentication provider to automatically remember the login using cookies.</p><p>We recommend you start with the tutorial sample, as the XML is minimal and easy to
            follow. Most importantly, you can easily add this one XML file (and its corresponding
            <code class="literal">web.xml</code> entries) to your existing application. Only when this basic
            integration is achieved do we suggest you attempt adding in method authorization or
            domain object security.</p></div><div class="section" title="4.2&nbsp;Contacts"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="contacts-sample"></a>4.2&nbsp;Contacts</h2></div></div></div><p> The Contacts Sample is an advanced example in that it illustrates the more powerful
            features of domain object access control lists (ACLs) in addition to basic application
            security. The application provides an interface with which the users are able to
            administer a simple database of contacts (the domain objects).</p><p>To deploy, simply copy the WAR file from Spring Security distribution into your
            container&#8217;s <code class="literal">webapps</code> directory. The war should be called
            <code class="filename">spring-security-samples-contacts-3.1.x.war</code> (the appended version
            number will vary depending on what release you are using). </p><p>After starting your container, check the application can load. Visit
            <code class="literal">http://localhost:8080/contacts</code> (or whichever URL is appropriate for
            your web container and the WAR you deployed). </p><p>Next, click "Debug". You will be prompted to authenticate, and a series of usernames
            and passwords are suggested on that page. Simply authenticate with any of these and view
            the resulting page. It should contain a success message similar to the following:
            </p><div class="literallayout"><p><br>
Security&nbsp;Debug&nbsp;Information<br>
<br>
Authentication&nbsp;object&nbsp;is&nbsp;of&nbsp;type:<br>
org.springframework.security.authentication.UsernamePasswordAuthenticationToken<br>
<br>
Authentication&nbsp;object&nbsp;as&nbsp;a&nbsp;String:<br>
<br>
org.springframework.security.authentication.UsernamePasswordAuthenticationToken@1f127853:<br>
Principal:&nbsp;org.springframework.security.core.userdetails.User@b07ed00:&nbsp;Username:&nbsp;rod;&nbsp;\<br>
Password:&nbsp;[PROTECTED];&nbsp;Enabled:&nbsp;true;&nbsp;AccountNonExpired:&nbsp;true;<br>
credentialsNonExpired:&nbsp;true;&nbsp;AccountNonLocked:&nbsp;true;&nbsp;\<br>
Granted&nbsp;Authorities:&nbsp;ROLE_SUPERVISOR,&nbsp;ROLE_USER;&nbsp;\<br>
Password:&nbsp;[PROTECTED];&nbsp;Authenticated:&nbsp;true;&nbsp;\<br>
Details:&nbsp;org.springframework.security.web.authentication.WebAuthenticationDetails@0:&nbsp;\<br>
RemoteIpAddress:&nbsp;127.0.0.1;&nbsp;SessionId:&nbsp;8fkp8t83ohar;&nbsp;\<br>
Granted&nbsp;Authorities:&nbsp;ROLE_SUPERVISOR,&nbsp;ROLE_USER<br>
<br>
Authentication&nbsp;object&nbsp;holds&nbsp;the&nbsp;following&nbsp;granted&nbsp;authorities:<br>
<br>
ROLE_SUPERVISOR&nbsp;(getAuthority():&nbsp;ROLE_SUPERVISOR)<br>
ROLE_USER&nbsp;(getAuthority():&nbsp;ROLE_USER)<br>
<br>
Success!&nbsp;Your&nbsp;web&nbsp;filters&nbsp;appear&nbsp;to&nbsp;be&nbsp;properly&nbsp;configured!<br>
&nbsp;&nbsp;&nbsp;&nbsp;</p></div><p>Once you successfully receive the above message, return to the sample application's
            home page and click "Manage". You can then try out the application. Notice that only the
            contacts available to the currently logged on user are displayed, and only users with
            <code class="literal">ROLE_SUPERVISOR</code> are granted access to delete their contacts. Behind
            the scenes, the <code class="classname">MethodSecurityInterceptor</code> is securing the
            business objects. </p><p>The application allows you to modify the access control lists associated with
            different contacts. Be sure to give this a try and understand how it works by reviewing
            the application context XML files.</p></div><div class="section" title="4.3&nbsp;LDAP Sample"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="ldap-sample"></a>4.3&nbsp;LDAP Sample</h2></div></div></div><p> The LDAP sample application provides a basic configuration and sets up both a
            namespace configuration and an equivalent configuration using traditional beans, both in
            the same application context file. This means there are actually two identical
            authentication providers configured in this application. </p></div><div class="section" title="4.4&nbsp;OpenID Sample"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="openid-sample"></a>4.4&nbsp;OpenID Sample</h2></div></div></div><p>
            The OpenID sample demonstrates how to use the namespace to configure OpenID and how to set up
            <a class="link" href="http://openid.net/specs/openid-attribute-exchange-1_0.html" target="_top">attribute exchange</a>
            configurations for Google, Yahoo and MyOpenID identity providers (you can experiment with adding others
            if you wish). It uses the JQuery-based <a class="link" href="http://code.google.com/p/openid-selector/" target="_top">openid-selector</a>
            project to provide a user-friendly login page which allows the user to easily select a provider, rather than
            typing in the full OpenID identifier.
        </p><p>
            The application differs from normal authentication scenarios in that it allows any user to access the site (provided
            their OpenID authentication is successful). The first time you login, you will get a <span class="quote">&#8220;<span class="quote">Welcome [your name]"</span>&#8221;</span>
            message. If you logout and log back in (with the same OpenID identity) then this should change to <span class="quote">&#8220;<span class="quote">Welcome Back</span>&#8221;</span>.
            This is achieved by using a custom <code class="interfacename">UserDetailsService</code> which assigns a standard role
            to any user and stores the identities internally in a map. Obviously a real application would use a database instead.
            Have a look at the source form more information. This class also takes into account the fact that different attributes may be returned
            from different providers and builds the name with which it addresses the user accordingly.
        </p></div><div class="section" title="4.5&nbsp;CAS Sample"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="cas-sample"></a>4.5&nbsp;CAS Sample</h2></div></div></div><p> The CAS sample requires that you run both a CAS server and CAS client. It isn't
            included in the distribution so you should check out the project code as described in
            <a class="link" href="introduction.html#get-source" title="1.4.2&nbsp;Checking out the Source">the introduction</a>. You'll find the relevant files
            under the <code class="filename">sample/cas</code> directory. There's also a
            <code class="filename">Readme.txt</code> file in there which explains how to run both the server
            and the client directly from the source tree, complete with SSL support.</p></div><div class="section" title="4.6&nbsp;JAAS Sample"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="jaas-sample"></a>4.6&nbsp;JAAS Sample</h2></div></div></div><p>The JAAS sample is very simple example of how to use a JAAS LoginModule with Spring Security. The provided LoginModule will
            successfully authenticate a user if the username equals the password otherwise a LoginException is thrown. The AuthorityGranter
            used in this example always grants the role ROLE_USER. The sample application also demonstrates how to run as the JAAS Subject
            returned by the LoginModule by setting <a class="link" href="appendix-namespace.html#nsa-http-jaas-api-provision" title="jaas-api-provision">jaas-api-provision</a> equal to "true".</p></div><div class="section" title="4.7&nbsp;Pre-Authentication Sample"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="preauth-sample"></a>4.7&nbsp;Pre-Authentication Sample</h2></div></div></div><p> This sample application demonstrates how to wire up beans from the <a class="link" href="preauth.html" title="18.&nbsp;Pre-Authentication Scenarios">pre-authentication</a> framework to make use of login
            information from a J2EE container. The user name and roles are those setup by the
            container. </p><p> The code is in <code class="filename">samples/preauth</code>. </p></div></div><!--Begin LoopFuse code--><script src="http://loopfuse.net/webrecorder/js/listen.js" type="text/javascript"></script><script type="text/javascript">
			_lf_cid = "LF_48be82fa";
			_lf_remora();
		</script><!--End LoopFuse code--><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ns-config.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="getting-started.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="community.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">3.&nbsp;Security Namespace Configuration&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="springsecurity.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;5.&nbsp;Spring Security Community</td></tr></table></div></body></html>