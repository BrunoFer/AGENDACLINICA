<?xml version="1.0" encoding="utf-8"?><fo:root xmlns:fo="http://www.w3.org/1999/XSL/Format" font-family="serif,Symbol,ZapfDingbats" font-size="11pt" text-align="justify" line-height="1.4" font-selection-strategy="character-by-character" line-height-shift-adjustment="disregard-shifts" writing-mode="lr-tb" language="en"><fo:layout-master-set><fo:simple-page-master master-name="blank" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body display-align="center" margin-bottom="1.5cm" margin-top="1.5cm"/><fo:region-before region-name="xsl-region-before-blank" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-blank" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="lot-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="lot-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="lot-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="front-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="front-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="front-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="body-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="body-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="body-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="back-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="back-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="back-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="index-first" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="2"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="index-odd" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="2"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="index-even" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="2"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="blank-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-blank" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-blank" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-first-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-odd-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="titlepage-even-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="lot-first-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="lot-odd-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="lot-even-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="front-first-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="front-odd-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="front-even-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="body-first-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="body-odd-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="body-even-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="back-first-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="back-odd-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="back-even-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="1" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="index-first-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="2" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-first" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-first" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="index-odd-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="2" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-odd" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-odd" extent="1cm" display-align="after"/></fo:simple-page-master><fo:simple-page-master master-name="index-even-draft" page-width="210mm" page-height="297mm" margin-top="1cm" margin-bottom="1cm" margin-left="2cm" margin-right="2cm"><fo:region-body margin-bottom="1.5cm" margin-top="1.5cm" column-gap="12pt" column-count="2" background-image="url(http://docbook.sourceforge.net/release/images/draft.png)" background-attachment="fixed" background-repeat="no-repeat" background-position-horizontal="center" background-position-vertical="center"/><fo:region-before region-name="xsl-region-before-even" extent="1cm" display-align="before"/><fo:region-after region-name="xsl-region-after-even" extent="1cm" display-align="after"/></fo:simple-page-master><fo:page-sequence-master master-name="titlepage"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="titlepage-first" page-position="first"/><fo:conditional-page-master-reference master-reference="titlepage-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="titlepage-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="lot"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="lot-first" page-position="first"/><fo:conditional-page-master-reference master-reference="lot-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="lot-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="front"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="front-first" page-position="first"/><fo:conditional-page-master-reference master-reference="front-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="front-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="body"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="body-first" page-position="first"/><fo:conditional-page-master-reference master-reference="body-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="body-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="back"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="back-first" page-position="first"/><fo:conditional-page-master-reference master-reference="back-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="back-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="index"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="index-first" page-position="first"/><fo:conditional-page-master-reference master-reference="index-odd" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="index-odd"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="titlepage-draft"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank-draft" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="titlepage-first-draft" page-position="first"/><fo:conditional-page-master-reference master-reference="titlepage-odd-draft" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="titlepage-odd-draft"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="lot-draft"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank-draft" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="lot-first-draft" page-position="first"/><fo:conditional-page-master-reference master-reference="lot-odd-draft" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="lot-odd-draft"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="front-draft"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank-draft" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="front-first-draft" page-position="first"/><fo:conditional-page-master-reference master-reference="front-odd-draft" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="front-odd-draft"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="body-draft"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank-draft" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="body-first-draft" page-position="first"/><fo:conditional-page-master-reference master-reference="body-odd-draft" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="body-odd-draft"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="back-draft"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank-draft" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="back-first-draft" page-position="first"/><fo:conditional-page-master-reference master-reference="back-odd-draft" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="back-odd-draft"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master><fo:page-sequence-master master-name="index-draft"><fo:repeatable-page-master-alternatives><fo:conditional-page-master-reference master-reference="blank-draft" blank-or-not-blank="blank"/><fo:conditional-page-master-reference master-reference="index-first-draft" page-position="first"/><fo:conditional-page-master-reference master-reference="index-odd-draft" odd-or-even="odd"/><fo:conditional-page-master-reference odd-or-even="even" master-reference="index-odd-draft"/></fo:repeatable-page-master-alternatives></fo:page-sequence-master></fo:layout-master-set><fo:declarations xmlns:fox="http://xmlgraphics.apache.org/fop/extensions"><x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description xmlns:dc="http://purl.org/dc/elements/1.1/" rdf:about=""><dc:title>Spring Security - Reference Documentation</dc:title><dc:creator>Ben Alex and Luke Taylor</dc:creator></rdf:Description><rdf:Description xmlns:pdf="http://ns.adobe.com/pdf/1.3/" rdf:about=""/><rdf:Description xmlns:xmp="http://ns.adobe.com/xap/1.0/" rdf:about=""><xmp:CreatorTool>DocBook XSL Stylesheets with Apache FOP</xmp:CreatorTool></rdf:Description></rdf:RDF></x:xmpmeta></fo:declarations><fo:bookmark-tree><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="spring-security-reference-guide" starting-state="hide"><fo:bookmark-title>Spring Security</fo:bookmark-title></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="toc...spring-security-reference-guide"><fo:bookmark-title>Table of Contents</fo:bookmark-title></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="preface" starting-state="hide"><fo:bookmark-title>Preface</fo:bookmark-title></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="getting-started" starting-state="hide"><fo:bookmark-title>Part I. Getting Started</fo:bookmark-title><fo:bookmark internal-destination="introduction" starting-state="hide"><fo:bookmark-title>1. Introduction</fo:bookmark-title><fo:bookmark internal-destination="what-is-acegi-security" starting-state="hide"><fo:bookmark-title>1.1 What is Spring Security?</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="history" starting-state="hide"><fo:bookmark-title>1.2 History</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="release-numbering" starting-state="hide"><fo:bookmark-title>1.3 Release Numbering</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="get-spring-security" starting-state="hide"><fo:bookmark-title>1.4 Getting Spring Security</fo:bookmark-title><fo:bookmark internal-destination="modules" starting-state="hide"><fo:bookmark-title>Project Modules</fo:bookmark-title><fo:bookmark internal-destination="spring-security-core" starting-state="hide"><fo:bookmark-title>Core - spring-security-core.jar</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="spring-security-remoting" starting-state="hide"><fo:bookmark-title>Remoting - spring-security-remoting.jar</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="spring-security-web" starting-state="hide"><fo:bookmark-title>Web - spring-security-web.jar</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="spring-security-config" starting-state="hide"><fo:bookmark-title>Config - spring-security-config.jar</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="spring-security-ldap" starting-state="hide"><fo:bookmark-title>LDAP - spring-security-ldap.jar</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="spring-security-acl" starting-state="hide"><fo:bookmark-title>ACL - spring-security-acl.jar</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="spring-security-cas" starting-state="hide"><fo:bookmark-title>CAS - spring-security-cas.jar</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="spring-security-openid" starting-state="hide"><fo:bookmark-title>OpenID - spring-security-openid.jar</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="get-source" starting-state="hide"><fo:bookmark-title>Checking out the Source</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="new-3.1" starting-state="hide"><fo:bookmark-title>2. What's new in Spring Security 3.1</fo:bookmark-title><fo:bookmark internal-destination="new-3.1-highlevel" starting-state="hide"><fo:bookmark-title>2.1 High level updates found Spring Security 3.1</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="new-3.1-ns" starting-state="hide"><fo:bookmark-title>2.2 Spring Security 3.1 namespace updates</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ns-config" starting-state="hide"><fo:bookmark-title>3. Security Namespace Configuration</fo:bookmark-title><fo:bookmark internal-destination="d0e507" starting-state="hide"><fo:bookmark-title>3.1 Introduction</fo:bookmark-title><fo:bookmark internal-destination="d0e545" starting-state="hide"><fo:bookmark-title>Design of the Namespace</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ns-getting-started" starting-state="hide"><fo:bookmark-title>3.2 Getting Started with Security Namespace Configuration</fo:bookmark-title><fo:bookmark internal-destination="ns-web-xml" starting-state="hide"><fo:bookmark-title>web.xml Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ns-minimal" starting-state="hide"><fo:bookmark-title>A Minimal &lt;http&gt; Configuration</fo:bookmark-title><fo:bookmark internal-destination="ns-auto-config" starting-state="hide"><fo:bookmark-title>What does auto-config Include?</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ns-form-and-basic" starting-state="hide"><fo:bookmark-title>Form and Basic Login Options</fo:bookmark-title><fo:bookmark internal-destination="ns-form-target" starting-state="hide"><fo:bookmark-title>Setting a Default Post-Login Destination</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ns-logout" starting-state="hide"><fo:bookmark-title>Logout Handling</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ns-auth-providers" starting-state="hide"><fo:bookmark-title>Using other Authentication Providers</fo:bookmark-title><fo:bookmark internal-destination="ns-password-encoder" starting-state="hide"><fo:bookmark-title>Adding a Password Encoder</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ns-web-advanced" starting-state="hide"><fo:bookmark-title>3.3 Advanced Web Features</fo:bookmark-title><fo:bookmark internal-destination="ns-remember-me" starting-state="hide"><fo:bookmark-title>Remember-Me Authentication</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ns-requires-channel" starting-state="hide"><fo:bookmark-title>Adding HTTP/HTTPS Channel Security</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ns-session-mgmt" starting-state="hide"><fo:bookmark-title>Session Management</fo:bookmark-title><fo:bookmark internal-destination="d0e1033" starting-state="hide"><fo:bookmark-title>Detecting Timeouts</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ns-concurrent-sessions" starting-state="hide"><fo:bookmark-title>Concurrent Session Control</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ns-session-fixation" starting-state="hide"><fo:bookmark-title>Session Fixation Attack Protection</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ns-openid" starting-state="hide"><fo:bookmark-title>OpenID Support</fo:bookmark-title><fo:bookmark internal-destination="d0e1165" starting-state="hide"><fo:bookmark-title>Attribute Exchange</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ns-custom-filters" starting-state="hide"><fo:bookmark-title>Adding in Your Own Filters</fo:bookmark-title><fo:bookmark internal-destination="ns-entry-point-ref" starting-state="hide"><fo:bookmark-title>Setting a Custom AuthenticationEntryPoint</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ns-method-security" starting-state="hide"><fo:bookmark-title>3.4 Method Security</fo:bookmark-title><fo:bookmark internal-destination="ns-global-method" starting-state="hide"><fo:bookmark-title>The &lt;global-method-security&gt; Element</fo:bookmark-title><fo:bookmark internal-destination="ns-protect-pointcut" starting-state="hide"><fo:bookmark-title>Adding Security Pointcuts using protect-pointcut</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ns-access-manager" starting-state="hide"><fo:bookmark-title>3.5 The Default AccessDecisionManager</fo:bookmark-title><fo:bookmark internal-destination="ns-custom-access-mgr" starting-state="hide"><fo:bookmark-title>Customizing the AccessDecisionManager</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ns-auth-manager" starting-state="hide"><fo:bookmark-title>3.6 The Authentication Manager and the Namespace</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="sample-apps" starting-state="hide"><fo:bookmark-title>4. Sample Applications</fo:bookmark-title><fo:bookmark internal-destination="tutorial-sample" starting-state="hide"><fo:bookmark-title>4.1 Tutorial Sample</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="contacts-sample" starting-state="hide"><fo:bookmark-title>4.2 Contacts</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ldap-sample" starting-state="hide"><fo:bookmark-title>4.3 LDAP Sample</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="openid-sample" starting-state="hide"><fo:bookmark-title>4.4 OpenID Sample</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cas-sample" starting-state="hide"><fo:bookmark-title>4.5 CAS Sample</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="jaas-sample" starting-state="hide"><fo:bookmark-title>4.6 JAAS Sample</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="preauth-sample" starting-state="hide"><fo:bookmark-title>4.7 Pre-Authentication Sample</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="community" starting-state="hide"><fo:bookmark-title>5. Spring Security Community</fo:bookmark-title><fo:bookmark internal-destination="jira" starting-state="hide"><fo:bookmark-title>5.1 Issue Tracking</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="becoming-involved" starting-state="hide"><fo:bookmark-title>5.2 Becoming Involved</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="further-info" starting-state="hide"><fo:bookmark-title>5.3 Further Information</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="overall-architecture" starting-state="hide"><fo:bookmark-title>Part II. Architecture and Implementation</fo:bookmark-title><fo:bookmark internal-destination="technical-overview" starting-state="hide"><fo:bookmark-title>6. Technical Overview</fo:bookmark-title><fo:bookmark internal-destination="runtime-environment" starting-state="hide"><fo:bookmark-title>6.1 Runtime Environment</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="core-components" starting-state="hide"><fo:bookmark-title>6.2 Core Components</fo:bookmark-title><fo:bookmark internal-destination="d0e1837" starting-state="hide"><fo:bookmark-title>SecurityContextHolder, SecurityContext and Authentication Objects</fo:bookmark-title><fo:bookmark internal-destination="d0e1877" starting-state="hide"><fo:bookmark-title>Obtaining information about the current user</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="tech-userdetailsservice" starting-state="hide"><fo:bookmark-title>The UserDetailsService</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tech-granted-authority" starting-state="hide"><fo:bookmark-title>GrantedAuthority</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e2045" starting-state="hide"><fo:bookmark-title>Summary</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="tech-intro-authentication" starting-state="hide"><fo:bookmark-title>6.3 Authentication</fo:bookmark-title><fo:bookmark internal-destination="d0e2101" starting-state="hide"><fo:bookmark-title>What is authentication in Spring Security?</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e2171" starting-state="hide"><fo:bookmark-title>Setting the SecurityContextHolder Contents Directly</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="tech-intro-web-authentication" starting-state="hide"><fo:bookmark-title>6.4 Authentication in a Web Application</fo:bookmark-title><fo:bookmark internal-destination="d0e2260" starting-state="hide"><fo:bookmark-title>ExceptionTranslationFilter</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tech-intro-auth-entry-point" starting-state="hide"><fo:bookmark-title>AuthenticationEntryPoint</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e2290" starting-state="hide"><fo:bookmark-title>Authentication Mechanism</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="tech-intro-sec-context-persistence" starting-state="hide"><fo:bookmark-title>Storing the SecurityContext between requests</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="tech-intro-access-control" starting-state="hide"><fo:bookmark-title>6.5 Access-Control (Authorization) in Spring Security</fo:bookmark-title><fo:bookmark internal-destination="d0e2414" starting-state="hide"><fo:bookmark-title>Security and AOP Advice</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="secure-objects" starting-state="hide"><fo:bookmark-title>Secure Objects and the AbstractSecurityInterceptor</fo:bookmark-title><fo:bookmark internal-destination="tech-intro-config-attributes" starting-state="hide"><fo:bookmark-title>What are Configuration Attributes?</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e2544" starting-state="hide"><fo:bookmark-title>RunAsManager</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e2570" starting-state="hide"><fo:bookmark-title>AfterInvocationManager</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e2605" starting-state="hide"><fo:bookmark-title>Extending the Secure Object Model</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="localization" starting-state="hide"><fo:bookmark-title>6.6 Localization</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="core-services" starting-state="hide"><fo:bookmark-title>7. Core Services</fo:bookmark-title><fo:bookmark internal-destination="core-services-authentication-manager" starting-state="hide"><fo:bookmark-title>7.1 The AuthenticationManager, ProviderManager and AuthenticationProviders</fo:bookmark-title><fo:bookmark internal-destination="core-services-erasing-credentials" starting-state="hide"><fo:bookmark-title>Erasing Credentials on Successful Authentication</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="core-services-dao-provider" starting-state="hide"><fo:bookmark-title>DaoAuthenticationProvider</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="d0e2875" starting-state="hide"><fo:bookmark-title>7.2 UserDetailsService Implementations</fo:bookmark-title><fo:bookmark internal-destination="core-services-in-memory-service" starting-state="hide"><fo:bookmark-title>In-Memory Authentication</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="core-services-jdbc-user-service" starting-state="hide"><fo:bookmark-title>JdbcDaoImpl</fo:bookmark-title><fo:bookmark internal-destination="d0e2968" starting-state="hide"><fo:bookmark-title>Authority Groups</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="core-services-password-encoding" starting-state="hide"><fo:bookmark-title>7.3 Password Encoding</fo:bookmark-title><fo:bookmark internal-destination="d0e3007" starting-state="hide"><fo:bookmark-title>What is a hash?</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e3021" starting-state="hide"><fo:bookmark-title>Adding Salt to a Hash</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e3056" starting-state="hide"><fo:bookmark-title>Hashing and Authentication</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="web-app-security" starting-state="hide"><fo:bookmark-title>Part III. Web Application Security</fo:bookmark-title><fo:bookmark internal-destination="security-filter-chain" starting-state="hide"><fo:bookmark-title>8. The Security Filter Chain</fo:bookmark-title><fo:bookmark internal-destination="delegating-filter-proxy" starting-state="hide"><fo:bookmark-title>8.1 DelegatingFilterProxy</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="filter-chain-proxy" starting-state="hide"><fo:bookmark-title>8.2 FilterChainProxy</fo:bookmark-title><fo:bookmark internal-destination="d0e3264" starting-state="hide"><fo:bookmark-title>Bypassing the Filter Chain</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="d0e3278" starting-state="hide"><fo:bookmark-title>8.3 Filter Ordering</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="request-matching" starting-state="hide"><fo:bookmark-title>8.4 Request Matching and HttpFirewall</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e3526" starting-state="hide"><fo:bookmark-title>8.5 Use with other Filter-Based Frameworks</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="filter-chains-with-ns" starting-state="hide"><fo:bookmark-title>8.6 Advanced Namespace Configuration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="core-web-filters" starting-state="hide"><fo:bookmark-title>9. Core Security Filters</fo:bookmark-title><fo:bookmark internal-destination="filter-security-interceptor" starting-state="hide"><fo:bookmark-title>9.1 FilterSecurityInterceptor</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="exception-translation-filter" starting-state="hide"><fo:bookmark-title>9.2  ExceptionTranslationFilter</fo:bookmark-title><fo:bookmark internal-destination="auth-entry-point" starting-state="hide"><fo:bookmark-title>AuthenticationEntryPoint</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="access-denied-handler" starting-state="hide"><fo:bookmark-title>AccessDeniedHandler</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="request-caching" starting-state="hide"><fo:bookmark-title>SavedRequests and the RequestCache Interface</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="security-context-persistence-filter" starting-state="hide"><fo:bookmark-title>9.3 SecurityContextPersistenceFilter</fo:bookmark-title><fo:bookmark internal-destination="security-context-repository" starting-state="hide"><fo:bookmark-title>SecurityContextRepository</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="form-login-filter" starting-state="hide"><fo:bookmark-title>9.4 UsernamePasswordAuthenticationFilter</fo:bookmark-title><fo:bookmark internal-destination="form-login-flow-handling" starting-state="hide"><fo:bookmark-title>Application Flow on Authentication Success and Failure</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="basic" starting-state="hide"><fo:bookmark-title>10. Basic and Digest Authentication</fo:bookmark-title><fo:bookmark internal-destination="basic-processing-filter" starting-state="hide"><fo:bookmark-title>10.1 BasicAuthenticationFilter</fo:bookmark-title><fo:bookmark internal-destination="basic-config" starting-state="hide"><fo:bookmark-title>Configuration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="digest-processing-filter" starting-state="hide"><fo:bookmark-title>10.2 DigestAuthenticationFilter</fo:bookmark-title><fo:bookmark internal-destination="digest-config" starting-state="hide"><fo:bookmark-title>Configuration</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="remember-me" starting-state="hide"><fo:bookmark-title>11. Remember-Me Authentication</fo:bookmark-title><fo:bookmark internal-destination="remember-me-overview" starting-state="hide"><fo:bookmark-title>11.1 Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="remember-me-hash-token" starting-state="hide"><fo:bookmark-title>11.2 Simple Hash-Based Token Approach</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="remember-me-persistent-token" starting-state="hide"><fo:bookmark-title>11.3 Persistent Token Approach</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="remember-me-impls" starting-state="hide"><fo:bookmark-title>11.4 Remember-Me Interfaces and Implementations</fo:bookmark-title><fo:bookmark internal-destination="d0e4282" starting-state="hide"><fo:bookmark-title>TokenBasedRememberMeServices</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e4348" starting-state="hide"><fo:bookmark-title>PersistentTokenBasedRememberMeServices</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="session-mgmt" starting-state="hide"><fo:bookmark-title>12. Session Management</fo:bookmark-title><fo:bookmark internal-destination="d0e4385" starting-state="hide"><fo:bookmark-title>12.1 SessionManagementFilter</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e4426" starting-state="hide"><fo:bookmark-title>12.2 SessionAuthenticationStrategy</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="concurrent-sessions" starting-state="hide"><fo:bookmark-title>12.3 Concurrency Control</fo:bookmark-title><fo:bookmark internal-destination="list-authenticated-principals" starting-state="hide"><fo:bookmark-title>Querying the SessionRegistry for currently authenticated users and their sessions</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="anonymous" starting-state="hide"><fo:bookmark-title>13. Anonymous Authentication</fo:bookmark-title><fo:bookmark internal-destination="anonymous-overview" starting-state="hide"><fo:bookmark-title>13.1 Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="anonymous-config" starting-state="hide"><fo:bookmark-title>13.2 Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="anonymous-auth-trust-resolver" starting-state="hide"><fo:bookmark-title>13.3 AuthenticationTrustResolver</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="authorization" starting-state="hide"><fo:bookmark-title>Part IV. Authorization</fo:bookmark-title><fo:bookmark internal-destination="authz-arch" starting-state="hide"><fo:bookmark-title>14. Authorization Architecture</fo:bookmark-title><fo:bookmark internal-destination="authz-authorities" starting-state="hide"><fo:bookmark-title>14.1 Authorities</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="authz-pre-invocation" starting-state="hide"><fo:bookmark-title>14.2 Pre-Invocation Handling</fo:bookmark-title><fo:bookmark internal-destination="authz-access-decision-manager" starting-state="hide"><fo:bookmark-title>The AccessDecisionManager</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="authz-voting-based" starting-state="hide"><fo:bookmark-title>Voting-Based AccessDecisionManager Implementations</fo:bookmark-title><fo:bookmark internal-destination="authz-role-voter" starting-state="hide"><fo:bookmark-title>RoleVoter</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="authz-authenticated-voter" starting-state="hide"><fo:bookmark-title>AuthenticatedVoter</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="authz-custom-voter" starting-state="hide"><fo:bookmark-title>Custom Voters</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="authz-after-invocation-handling" starting-state="hide"><fo:bookmark-title>14.3 After Invocation Handling</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="authz-hierarchical-roles" starting-state="hide"><fo:bookmark-title>14.4 Hierarchical Roles</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="secure-object-impls" starting-state="hide"><fo:bookmark-title>15. Secure Object Implementations</fo:bookmark-title><fo:bookmark internal-destination="aop-alliance" starting-state="hide"><fo:bookmark-title>15.1 AOP Alliance (MethodInvocation) Security Interceptor</fo:bookmark-title><fo:bookmark internal-destination="d0e5328" starting-state="hide"><fo:bookmark-title>Explicit MethodSecurityInterceptor Configuration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="aspectj" starting-state="hide"><fo:bookmark-title>15.2 AspectJ (JoinPoint) Security Interceptor</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="el-access" starting-state="hide"><fo:bookmark-title>16. Expression-Based Access Control</fo:bookmark-title><fo:bookmark internal-destination="d0e5432" starting-state="hide"><fo:bookmark-title>16.1 Overview</fo:bookmark-title><fo:bookmark internal-destination="el-common-built-in" starting-state="hide"><fo:bookmark-title>Common Built-In Expressions</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="el-access-web" starting-state="hide"><fo:bookmark-title>16.2 Web Security Expressions</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e5600" starting-state="hide"><fo:bookmark-title>16.3 Method Security Expressions</fo:bookmark-title><fo:bookmark internal-destination="el-pre-post-annotations" starting-state="hide"><fo:bookmark-title>@Pre and @Post Annotations</fo:bookmark-title><fo:bookmark internal-destination="d0e5632" starting-state="hide"><fo:bookmark-title>Access Control using @PreAuthorize and @PostAuthorize</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e5696" starting-state="hide"><fo:bookmark-title>Filtering using @PreFilter and @PostFilter</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="el-method-built-in" starting-state="hide"><fo:bookmark-title>Built-In Expressions</fo:bookmark-title><fo:bookmark internal-destination="el-permission-evaluator" starting-state="hide"><fo:bookmark-title>The PermissionEvaluator interface</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="advanced-topics" starting-state="hide"><fo:bookmark-title>Part V. Additional Topics</fo:bookmark-title><fo:bookmark internal-destination="domain-acls" starting-state="hide"><fo:bookmark-title>17. Domain Object Security (ACLs)</fo:bookmark-title><fo:bookmark internal-destination="domain-acls-overview" starting-state="hide"><fo:bookmark-title>17.1 Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="domain-acls-key-concepts" starting-state="hide"><fo:bookmark-title>17.2 Key Concepts</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="domain-acls-getting-started" starting-state="hide"><fo:bookmark-title>17.3 Getting Started</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="preauth" starting-state="hide"><fo:bookmark-title>18. Pre-Authentication Scenarios</fo:bookmark-title><fo:bookmark internal-destination="d0e6156" starting-state="hide"><fo:bookmark-title>18.1 Pre-Authentication Framework Classes</fo:bookmark-title><fo:bookmark internal-destination="d0e6167" starting-state="hide"><fo:bookmark-title>AbstractPreAuthenticatedProcessingFilter</fo:bookmark-title><fo:bookmark internal-destination="j2ee-preauth-details" starting-state="hide"><fo:bookmark-title>J2eeBasedPreAuthenticatedWebAuthenticationDetailsSource</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="d0e6235" starting-state="hide"><fo:bookmark-title>PreAuthenticatedAuthenticationProvider</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e6267" starting-state="hide"><fo:bookmark-title>Http403ForbiddenEntryPoint</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="d0e6287" starting-state="hide"><fo:bookmark-title>18.2 Concrete Implementations</fo:bookmark-title><fo:bookmark internal-destination="d0e6295" starting-state="hide"><fo:bookmark-title>Request-Header Authentication (Siteminder)</fo:bookmark-title><fo:bookmark internal-destination="d0e6315" starting-state="hide"><fo:bookmark-title>Siteminder Example Configuration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="d0e6332" starting-state="hide"><fo:bookmark-title>J2EE Container Authentication</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ldap" starting-state="hide"><fo:bookmark-title>19. LDAP Authentication</fo:bookmark-title><fo:bookmark internal-destination="ldap-overview" starting-state="hide"><fo:bookmark-title>19.1 Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e6370" starting-state="hide"><fo:bookmark-title>19.2 Using LDAP with Spring Security</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ldap-server" starting-state="hide"><fo:bookmark-title>19.3 Configuring an LDAP Server</fo:bookmark-title><fo:bookmark internal-destination="d0e6418" starting-state="hide"><fo:bookmark-title>Using an Embedded Test Server</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e6442" starting-state="hide"><fo:bookmark-title>Using Bind Authentication</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e6466" starting-state="hide"><fo:bookmark-title>Loading Authorities</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="d0e6541" starting-state="hide"><fo:bookmark-title>19.4 Implementation Classes</fo:bookmark-title><fo:bookmark internal-destination="ldap-ldap-authenticators" starting-state="hide"><fo:bookmark-title>LdapAuthenticator Implementations</fo:bookmark-title><fo:bookmark internal-destination="ldap-ldap-authenticators-common" starting-state="hide"><fo:bookmark-title>Common Functionality</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ldap-ldap-authenticators-bind" starting-state="hide"><fo:bookmark-title>BindAuthenticator</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ldap-ldap-authenticators-password" starting-state="hide"><fo:bookmark-title>PasswordComparisonAuthenticator</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ldap-context-source" starting-state="hide"><fo:bookmark-title>Connecting to the LDAP Server</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ldap-searchobjects" starting-state="hide"><fo:bookmark-title>LDAP Search Objects</fo:bookmark-title><fo:bookmark internal-destination="ldap-searchobjects-filter" starting-state="hide"><fo:bookmark-title>FilterBasedLdapUserSearch</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ldap-authorities" starting-state="hide"><fo:bookmark-title>LdapAuthoritiesPopulator</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ldap-bean-config" starting-state="hide"><fo:bookmark-title>Spring Bean Configuration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="ldap-custom-user-details" starting-state="hide"><fo:bookmark-title>LDAP Attributes and Customized UserDetails</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="ldap-active-directory" starting-state="hide"><fo:bookmark-title>19.5 Active Directory Authentication</fo:bookmark-title><fo:bookmark internal-destination="d0e6795" starting-state="hide"><fo:bookmark-title>ActiveDirectoryLdapAuthenticationProvider</fo:bookmark-title><fo:bookmark internal-destination="d0e6849" starting-state="hide"><fo:bookmark-title>Active Directory Error Codes</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="taglibs" starting-state="hide"><fo:bookmark-title>20. JSP Tag Libraries</fo:bookmark-title><fo:bookmark internal-destination="d0e6868" starting-state="hide"><fo:bookmark-title>20.1 Declaring the Taglib</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e6875" starting-state="hide"><fo:bookmark-title>20.2 The authorize Tag</fo:bookmark-title><fo:bookmark internal-destination="d0e6926" starting-state="hide"><fo:bookmark-title>Disabling Tag Authorization for Testing</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="d0e6960" starting-state="hide"><fo:bookmark-title>20.3 The authenticationTag</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e6991" starting-state="hide"><fo:bookmark-title>20.4 The accesscontrollist Tag</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="jaas" starting-state="hide"><fo:bookmark-title>21. Java Authentication and Authorization Service (JAAS) Provider</fo:bookmark-title><fo:bookmark internal-destination="d0e7042" starting-state="hide"><fo:bookmark-title>21.1 Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="jaas-abstractjaasauthenticationprovider" starting-state="hide"><fo:bookmark-title>21.2 AbstractJaasAuthenticationProvider</fo:bookmark-title><fo:bookmark internal-destination="jaas-callbackhandler" starting-state="hide"><fo:bookmark-title>JAAS CallbackHandler</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="jaas-authoritygranter" starting-state="hide"><fo:bookmark-title>JAAS AuthorityGranter</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="jaas-defaultjaasauthenticationprovider" starting-state="hide"><fo:bookmark-title>21.3 DefaultJaasAuthenticationProvider</fo:bookmark-title><fo:bookmark internal-destination="jaas-inmemoryconfiguration" starting-state="hide"><fo:bookmark-title>InMemoryConfiguration</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="jaas-djap-config" starting-state="hide"><fo:bookmark-title>DefaultJaasAuthenticationProvider Example Configuration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="jaas-jaasauthenticationprovider" starting-state="hide"><fo:bookmark-title>21.4 JaasAuthenticationProvider</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="jaas-apiprovision" starting-state="hide"><fo:bookmark-title>21.5 Running as a Subject</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="cas" starting-state="hide"><fo:bookmark-title>22. CAS Authentication</fo:bookmark-title><fo:bookmark internal-destination="cas-overview" starting-state="hide"><fo:bookmark-title>22.1 Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cas-how-it-works" starting-state="hide"><fo:bookmark-title>22.2 How CAS Works</fo:bookmark-title><fo:bookmark internal-destination="cas-sequence" starting-state="hide"><fo:bookmark-title>Spring Security and CAS Interaction Sequence</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="cas-client" starting-state="hide"><fo:bookmark-title>22.3 Configuration of CAS Client</fo:bookmark-title><fo:bookmark internal-destination="cas-st" starting-state="hide"><fo:bookmark-title>Service Ticket Authentication</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cas-singlelogout" starting-state="hide"><fo:bookmark-title>Single Logout</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cas-pt-client" starting-state="hide"><fo:bookmark-title>Authenticating to a Stateless Service with CAS</fo:bookmark-title><fo:bookmark internal-destination="cas-pt-client-config" starting-state="hide"><fo:bookmark-title>Configuring CAS to Obtain Proxy Granting Tickets</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="cas-pt-client-sample" starting-state="hide"><fo:bookmark-title>Calling a Stateless Service Using a Proxy Ticket</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="cas-pt" starting-state="hide"><fo:bookmark-title>Proxy Ticket Authentication</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="x509" starting-state="hide"><fo:bookmark-title>23. X.509 Authentication</fo:bookmark-title><fo:bookmark internal-destination="x509-overview" starting-state="hide"><fo:bookmark-title>23.1 Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e8028" starting-state="hide"><fo:bookmark-title>23.2 Adding X.509 Authentication to Your Web Application</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="x509-ssl-config" starting-state="hide"><fo:bookmark-title>23.3 Setting up SSL in Tomcat</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="runas" starting-state="hide"><fo:bookmark-title>24. Run-As Authentication Replacement</fo:bookmark-title><fo:bookmark internal-destination="runas-overview" starting-state="hide"><fo:bookmark-title>24.1 Overview</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="runas-config" starting-state="hide"><fo:bookmark-title>24.2 Configuration</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="crypto" starting-state="hide"><fo:bookmark-title>25. Spring Security Crypto Module</fo:bookmark-title><fo:bookmark internal-destination="spring-security-crypto-introduction" starting-state="hide"><fo:bookmark-title>25.1 Introduction</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="spring-security-crypto-encryption" starting-state="hide"><fo:bookmark-title>25.2 Encryptors</fo:bookmark-title><fo:bookmark internal-destination="spring-security-crypto-encryption-bytes" starting-state="hide"><fo:bookmark-title>BytesEncryptor</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="spring-security-crypto-encryption-text" starting-state="hide"><fo:bookmark-title>TextEncryptor</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="spring-security-crypto-keygenerators" starting-state="hide"><fo:bookmark-title>25.3 Key Generators</fo:bookmark-title><fo:bookmark internal-destination="d0e8326" starting-state="hide"><fo:bookmark-title>BytesKeyGenerator</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e8344" starting-state="hide"><fo:bookmark-title>StringKeyGenerator</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="spring-security-crypto-passwordencoders" starting-state="hide"><fo:bookmark-title>25.4 Password Encoding</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="appendix-schema" starting-state="hide"><fo:bookmark-title>Appendix A. Security Database Schema</fo:bookmark-title><fo:bookmark internal-destination="d0e8380" starting-state="hide"><fo:bookmark-title>A.1 User Schema</fo:bookmark-title><fo:bookmark internal-destination="d0e8393" starting-state="hide"><fo:bookmark-title>Group Authorities</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="d0e8414" starting-state="hide"><fo:bookmark-title>A.2 Persistent Login (Remember-Me) Schema</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="dbschema-acl" starting-state="hide"><fo:bookmark-title>A.3 ACL Schema</fo:bookmark-title><fo:bookmark internal-destination="d0e8478" starting-state="hide"><fo:bookmark-title>Hypersonic SQL</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e8485" starting-state="hide"><fo:bookmark-title>PostgreSQL</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="appendix-namespace" starting-state="hide"><fo:bookmark-title>Appendix B. The Security Namespace</fo:bookmark-title><fo:bookmark internal-destination="nsa-web" starting-state="hide"><fo:bookmark-title>B.1 Web Application Security</fo:bookmark-title><fo:bookmark internal-destination="nsa-debug" starting-state="hide"><fo:bookmark-title>&lt;debug&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http" starting-state="hide"><fo:bookmark-title>&lt;http&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-http-attributes" starting-state="hide"><fo:bookmark-title>&lt;http&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-http-access-decision-manager-ref" starting-state="hide"><fo:bookmark-title>access-decision-manager-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-access-denied-page" starting-state="hide"><fo:bookmark-title>access-denied-page</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-authentication-manager-ref" starting-state="hide"><fo:bookmark-title>authentication-manager-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-auto-config" starting-state="hide"><fo:bookmark-title>auto-config</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-create-session" starting-state="hide"><fo:bookmark-title>create-session</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-disable-url-rewriting" starting-state="hide"><fo:bookmark-title>disable-url-rewriting</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-entry-point-ref" starting-state="hide"><fo:bookmark-title>entry-point-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-jaas-api-provision" starting-state="hide"><fo:bookmark-title>jaas-api-provision</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-name" starting-state="hide"><fo:bookmark-title>name</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-once-per-request" starting-state="hide"><fo:bookmark-title>once-per-request</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-path-type" starting-state="hide"><fo:bookmark-title>path-type</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-pattern" starting-state="hide"><fo:bookmark-title>pattern</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-realm" starting-state="hide"><fo:bookmark-title>realm</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-request-matcher" starting-state="hide"><fo:bookmark-title>request-matcher</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-request-matcher-ref" starting-state="hide"><fo:bookmark-title>request-matcher-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-security" starting-state="hide"><fo:bookmark-title>security</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-security-context-repository-ref" starting-state="hide"><fo:bookmark-title>security-context-repository-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-servlet-api-provision" starting-state="hide"><fo:bookmark-title>servlet-api-provision</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-use-expressions" starting-state="hide"><fo:bookmark-title>use-expressions</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-http-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;http&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-access-denied-handler" starting-state="hide"><fo:bookmark-title>&lt;access-denied-handler&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-access-denied-handler-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;access-denied-handler&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-access-denied-handler-attributes" starting-state="hide"><fo:bookmark-title>&lt;access-denied-handler&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-access-denied-handler-error-page" starting-state="hide"><fo:bookmark-title>error-page</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-access-denied-handler-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-anonymous" starting-state="hide"><fo:bookmark-title>&lt;anonymous&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-anonymous-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;anonymous&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-anonymous-attributes" starting-state="hide"><fo:bookmark-title>&lt;anonymous&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-anonymous-enabled" starting-state="hide"><fo:bookmark-title>enabled</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-anonymous-granted-authority" starting-state="hide"><fo:bookmark-title>granted-authority</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-anonymous-key" starting-state="hide"><fo:bookmark-title>key</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-anonymous-username" starting-state="hide"><fo:bookmark-title>username</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-custom-filter" starting-state="hide"><fo:bookmark-title>&lt;custom-filter&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-custom-filter-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;custom-filter&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-custom-filter-attributes" starting-state="hide"><fo:bookmark-title>&lt;custom-filter&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-custom-filter-after" starting-state="hide"><fo:bookmark-title>after</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-custom-filter-before" starting-state="hide"><fo:bookmark-title>before</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-custom-filter-position" starting-state="hide"><fo:bookmark-title>position</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-custom-filter-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-expression-handler" starting-state="hide"><fo:bookmark-title>&lt;expression-handler&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-expression-handler-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;expression-handler&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-expression-handler-attributes" starting-state="hide"><fo:bookmark-title>&lt;expression-handler&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-expression-handler-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-form-login" starting-state="hide"><fo:bookmark-title>&lt;form-login&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-form-login-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;form-login&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-form-login-attributes" starting-state="hide"><fo:bookmark-title>&lt;form-login&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-form-login-always-use-default-target" starting-state="hide"><fo:bookmark-title>always-use-default-target</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-form-login-authentication-details-source-ref" starting-state="hide"><fo:bookmark-title>authentication-details-source-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-form-login-authentication-failure-handler-ref" starting-state="hide"><fo:bookmark-title>authentication-failure-handler-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-form-login-authentication-failure-url" starting-state="hide"><fo:bookmark-title>authentication-failure-url</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-form-login-authentication-success-handler-ref" starting-state="hide"><fo:bookmark-title>authentication-success-handler-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-form-login-default-target-url" starting-state="hide"><fo:bookmark-title>default-target-url</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-form-login-login-page" starting-state="hide"><fo:bookmark-title>login-page</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-form-login-login-processing-url" starting-state="hide"><fo:bookmark-title>login-processing-url</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-form-login-password-parameter" starting-state="hide"><fo:bookmark-title>password-parameter</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-form-login-username-parameter" starting-state="hide"><fo:bookmark-title>username-parameter</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-http-basic" starting-state="hide"><fo:bookmark-title>&lt;http-basic&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-http-basic-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;http-basic&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-basic-attributes" starting-state="hide"><fo:bookmark-title>&lt;http-basic&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-http-basic-authentication-details-source-ref" starting-state="hide"><fo:bookmark-title>authentication-details-source-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-http-basic-entry-point-ref" starting-state="hide"><fo:bookmark-title>entry-point-ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-http-firewall" starting-state="hide"><fo:bookmark-title>&lt;http-firewall&gt; Element</fo:bookmark-title><fo:bookmark internal-destination="nsa-http-firewall-attributes" starting-state="hide"><fo:bookmark-title>&lt;http-firewall&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-http-firewall-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-intercept-url" starting-state="hide"><fo:bookmark-title>&lt;intercept-url&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-intercept-url-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;intercept-url&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-intercept-url-attributes" starting-state="hide"><fo:bookmark-title>&lt;intercept-url&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-intercept-url-access" starting-state="hide"><fo:bookmark-title>access</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-intercept-url-filters" starting-state="hide"><fo:bookmark-title>filters</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-intercept-url-method" starting-state="hide"><fo:bookmark-title>method</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-intercept-url-pattern" starting-state="hide"><fo:bookmark-title>pattern</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-intercept-url-requires-channel" starting-state="hide"><fo:bookmark-title>requires-channel</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-jee" starting-state="hide"><fo:bookmark-title>&lt;jee&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-jee-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;jee&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-jee-attributes" starting-state="hide"><fo:bookmark-title>&lt;jee&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-jee-mappable-roles" starting-state="hide"><fo:bookmark-title>mappable-roles</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-jee-user-service-ref" starting-state="hide"><fo:bookmark-title>user-service-ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-logout" starting-state="hide"><fo:bookmark-title>&lt;logout&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-logout-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;logout&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-logout-attributes" starting-state="hide"><fo:bookmark-title>&lt;logout&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-logout-delete-cookies" starting-state="hide"><fo:bookmark-title>The delete-cookies attribute</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-logout-invalidate-session" starting-state="hide"><fo:bookmark-title>The invalidate-session attribute</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-logout-logout-success-url" starting-state="hide"><fo:bookmark-title>The logout-success-url attribute</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-logout-logout-url" starting-state="hide"><fo:bookmark-title>The logout-url attribute</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-logout-success-handler-ref" starting-state="hide"><fo:bookmark-title>The success-handler-ref attribute</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login" starting-state="hide"><fo:bookmark-title>&lt;openid-login&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-openid-login-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;openid-login&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-attributes" starting-state="hide"><fo:bookmark-title>&lt;openid-login&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-openid-login-always-use-default-target" starting-state="hide"><fo:bookmark-title>always-use-default-target</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-authentication-details-source-ref" starting-state="hide"><fo:bookmark-title>authentication-details-source-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-authentication-failure-handler-ref" starting-state="hide"><fo:bookmark-title>authentication-failure-handler-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-authentication-failure-url" starting-state="hide"><fo:bookmark-title>authentication-failure-url</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-authentication-success-handler-ref" starting-state="hide"><fo:bookmark-title>authentication-success-handler-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-default-target-url" starting-state="hide"><fo:bookmark-title>default-target-url</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-login-page" starting-state="hide"><fo:bookmark-title>login-page</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-login-processing-url" starting-state="hide"><fo:bookmark-title>login-processing-url</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-password-parameter" starting-state="hide"><fo:bookmark-title>password-parameter</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-user-service-ref" starting-state="hide"><fo:bookmark-title>user-service-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-username-parameter" starting-state="hide"><fo:bookmark-title>username-parameter</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-openid-login-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;openid-login&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-attribute-exchange" starting-state="hide"><fo:bookmark-title>&lt;attribute-exchange&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-attribute-exchange-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;attribute-exchange&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-attribute-exchange-attributes" starting-state="hide"><fo:bookmark-title>&lt;attribute-exchange&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-attribute-exchange-identifier-match" starting-state="hide"><fo:bookmark-title>identifier-match</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-attribute-exchange-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;attribute-exchange&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-openid-attribute" starting-state="hide"><fo:bookmark-title>&lt;openid-attribute&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-openid-attribute-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;openid-attribute&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-attribute-attributes" starting-state="hide"><fo:bookmark-title>&lt;openid-attribute&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-openid-attribute-count" starting-state="hide"><fo:bookmark-title>count</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-attribute-name" starting-state="hide"><fo:bookmark-title>name</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-attribute-required" starting-state="hide"><fo:bookmark-title>required</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-openid-attribute-type" starting-state="hide"><fo:bookmark-title>type</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-port-mappings" starting-state="hide"><fo:bookmark-title>&lt;port-mappings&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-port-mappings-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;port-mappings&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-port-mappings-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;port-mappings&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-port-mapping" starting-state="hide"><fo:bookmark-title>&lt;port-mapping&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-port-mapping-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;port-mapping&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-port-mapping-attributes" starting-state="hide"><fo:bookmark-title>&lt;port-mapping&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-port-mapping-http" starting-state="hide"><fo:bookmark-title>http</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-port-mapping-https" starting-state="hide"><fo:bookmark-title>https</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-remember-me" starting-state="hide"><fo:bookmark-title>&lt;remember-me&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-remember-me-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;remember-me&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-remember-me-attributes" starting-state="hide"><fo:bookmark-title>&lt;remember-me&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-remember-me-authentication-success-handler-ref" starting-state="hide"><fo:bookmark-title>authentication-success-handler-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-remember-me-data-source-ref" starting-state="hide"><fo:bookmark-title>data-source-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-remember-me-key" starting-state="hide"><fo:bookmark-title>key</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-remember-me-services-alias" starting-state="hide"><fo:bookmark-title>services-alias</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-remember-me-services-ref" starting-state="hide"><fo:bookmark-title>services-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-remember-me-token-repository-ref" starting-state="hide"><fo:bookmark-title>token-repository-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-remember-me-token-validity-seconds" starting-state="hide"><fo:bookmark-title>token-validity-seconds</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-remember-me-use-secure-cookie" starting-state="hide"><fo:bookmark-title>use-secure-cookie</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-remember-me-user-service-ref" starting-state="hide"><fo:bookmark-title>user-service-ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-request-cache" starting-state="hide"><fo:bookmark-title>&lt;request-cache&gt; Element</fo:bookmark-title><fo:bookmark internal-destination="nsa-request-cache-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;request-cache&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-request-cache-attributes" starting-state="hide"><fo:bookmark-title>&lt;request-cache&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-request-cache-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-session-management" starting-state="hide"><fo:bookmark-title>&lt;session-management&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-session-management-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;session-management&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-session-management-attributes" starting-state="hide"><fo:bookmark-title>&lt;session-management&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-session-management-invalid-session-url" starting-state="hide"><fo:bookmark-title>invalid-session-url</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-session-management-session-authentication-error-url" starting-state="hide"><fo:bookmark-title>session-authentication-error-url</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-session-management-session-authentication-strategy-ref" starting-state="hide"><fo:bookmark-title>session-authentication-strategy-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-session-management-session-fixation-protection" starting-state="hide"><fo:bookmark-title>session-fixation-protection</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-session-management-children" starting-state="hide"><fo:bookmark-title>Child elements of &lt;session-management&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-concurrency-control" starting-state="hide"><fo:bookmark-title>&lt;concurrency-control&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-concurrency-control-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;concurrency-control&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-concurrency-control-attributes" starting-state="hide"><fo:bookmark-title>&lt;concurrency-control&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-concurrency-control-error-if-maximum-exceeded" starting-state="hide"><fo:bookmark-title>error-if-maximum-exceeded</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-concurrency-control-expired-url" starting-state="hide"><fo:bookmark-title>expired-url</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-concurrency-control-max-sessions" starting-state="hide"><fo:bookmark-title>max-sessions</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-concurrency-control-session-registry-alias" starting-state="hide"><fo:bookmark-title>session-registry-alias</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-concurrency-control-session-registry-ref" starting-state="hide"><fo:bookmark-title>session-registry-ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-x509" starting-state="hide"><fo:bookmark-title>&lt;x509&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-x509-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;x509&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-x509-attributes" starting-state="hide"><fo:bookmark-title>&lt;x509&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-x509-authentication-details-source-ref" starting-state="hide"><fo:bookmark-title>authentication-details-source-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-x509-subject-principal-regex" starting-state="hide"><fo:bookmark-title>subject-principal-regex</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-x509-user-service-ref" starting-state="hide"><fo:bookmark-title>user-service-ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-filter-chain-map" starting-state="hide"><fo:bookmark-title>&lt;filter-chain-map&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-filter-chain-map-attributes" starting-state="hide"><fo:bookmark-title>&lt;filter-chain-map&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-filter-chain-map-path-type" starting-state="hide"><fo:bookmark-title>path-type</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-chain-map-request-matcher" starting-state="hide"><fo:bookmark-title>request-matcher</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-filter-chain-map-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;filter-chain-map&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-filter-chain" starting-state="hide"><fo:bookmark-title>&lt;filter-chain&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-filter-chain-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;filter-chain&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-chain-attributes" starting-state="hide"><fo:bookmark-title>&lt;filter-chain&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-filter-chain-filters" starting-state="hide"><fo:bookmark-title>filters</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-chain-pattern" starting-state="hide"><fo:bookmark-title>pattern</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-chain-request-matcher-ref" starting-state="hide"><fo:bookmark-title>request-matcher-ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-filter-invocation-definition-source" starting-state="hide"><fo:bookmark-title>&lt;filter-invocation-definition-source&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-filter-invocation-definition-source-attributes" starting-state="hide"><fo:bookmark-title>&lt;filter-invocation-definition-source&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-filter-invocation-definition-source-id" starting-state="hide"><fo:bookmark-title>id</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-invocation-definition-source-lowercase-comparisons" starting-state="hide"><fo:bookmark-title>lowercase-comparisons</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-invocation-definition-source-path-type" starting-state="hide"><fo:bookmark-title>path-type</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-invocation-definition-source-request-matcher" starting-state="hide"><fo:bookmark-title>request-matcher</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-invocation-definition-source-use-expressions" starting-state="hide"><fo:bookmark-title>use-expressions</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-filter-invocation-definition-source-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;filter-invocation-definition-source&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-filter-security-metadata-source" starting-state="hide"><fo:bookmark-title>&lt;filter-security-metadata-source&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-filter-security-metadata-source-attributes" starting-state="hide"><fo:bookmark-title>&lt;filter-security-metadata-source&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-filter-security-metadata-source-id" starting-state="hide"><fo:bookmark-title>id</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-security-metadata-source-lowercase-comparisons" starting-state="hide"><fo:bookmark-title>lowercase-comparisons</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-security-metadata-source-path-type" starting-state="hide"><fo:bookmark-title>path-type</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-security-metadata-source-request-matcher" starting-state="hide"><fo:bookmark-title>request-matcher</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-filter-security-metadata-source-use-expressions" starting-state="hide"><fo:bookmark-title>use-expressions</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-filter-security-metadata-source-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;filter-security-metadata-source&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-authentication" starting-state="hide"><fo:bookmark-title>B.2 Authentication Services</fo:bookmark-title><fo:bookmark internal-destination="nsa-authentication-manager" starting-state="hide"><fo:bookmark-title>&lt;authentication-manager&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-authentication-manager-attributes" starting-state="hide"><fo:bookmark-title>&lt;authentication-manager&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-authentication-manager-alias" starting-state="hide"><fo:bookmark-title>alias</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-authentication-manager-erase-credentials" starting-state="hide"><fo:bookmark-title>erase-credentials</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-authentication-manager-id" starting-state="hide"><fo:bookmark-title>id</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-authentication-manager-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;authentication-manager&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-authentication-provider" starting-state="hide"><fo:bookmark-title>&lt;authentication-provider&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-authentication-provider-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;authentication-provider&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-authentication-provider-attributes" starting-state="hide"><fo:bookmark-title>&lt;authentication-provider&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-authentication-provider-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-authentication-provider-user-service-ref" starting-state="hide"><fo:bookmark-title>user-service-ref</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-authentication-provider-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;authentication-provider&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-jdbc-user-service" starting-state="hide"><fo:bookmark-title>&lt;jdbc-user-service&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-jdbc-user-service-attributes" starting-state="hide"><fo:bookmark-title>&lt;jdbc-user-service&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-jdbc-user-service-authorities-by-username-query" starting-state="hide"><fo:bookmark-title>authorities-by-username-query</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-jdbc-user-service-cache-ref" starting-state="hide"><fo:bookmark-title>cache-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-jdbc-user-service-data-source-ref" starting-state="hide"><fo:bookmark-title>data-source-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-jdbc-user-service-group-authorities-by-username-query" starting-state="hide"><fo:bookmark-title>group-authorities-by-username-query</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-jdbc-user-service-id" starting-state="hide"><fo:bookmark-title>id</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-jdbc-user-service-role-prefix" starting-state="hide"><fo:bookmark-title>role-prefix</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-jdbc-user-service-users-by-username-query" starting-state="hide"><fo:bookmark-title>users-by-username-query</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-password-encoder" starting-state="hide"><fo:bookmark-title>&lt;password-encoder&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-password-encoder-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;password-encoder&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-password-encoder-attributes" starting-state="hide"><fo:bookmark-title>&lt;password-encoder&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-password-encoder-base64" starting-state="hide"><fo:bookmark-title>base64</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-password-encoder-hash" starting-state="hide"><fo:bookmark-title>hash</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-password-encoder-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-password-encoder-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;password-encoder&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-salt-source" starting-state="hide"><fo:bookmark-title>&lt;salt-source&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-salt-source-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;salt-source&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-salt-source-attributes" starting-state="hide"><fo:bookmark-title>&lt;salt-source&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-salt-source-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-salt-source-system-wide" starting-state="hide"><fo:bookmark-title>system-wide</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-salt-source-user-property" starting-state="hide"><fo:bookmark-title>user-property</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-user-service" starting-state="hide"><fo:bookmark-title>&lt;user-service&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-user-service-attributes" starting-state="hide"><fo:bookmark-title>&lt;user-service&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-user-service-id" starting-state="hide"><fo:bookmark-title>id</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-user-service-properties" starting-state="hide"><fo:bookmark-title>properties</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-user-service-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;user-service&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-user" starting-state="hide"><fo:bookmark-title>&lt;user&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-user-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;user&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-user-attributes" starting-state="hide"><fo:bookmark-title>&lt;user&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-user-authorities" starting-state="hide"><fo:bookmark-title>authorities</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-user-disabled" starting-state="hide"><fo:bookmark-title>disabled</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-user-locked" starting-state="hide"><fo:bookmark-title>locked</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-user-name" starting-state="hide"><fo:bookmark-title>name</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-user-password" starting-state="hide"><fo:bookmark-title>password</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-method-security" starting-state="hide"><fo:bookmark-title>B.3 Method Security</fo:bookmark-title><fo:bookmark internal-destination="nsa-global-method-security" starting-state="hide"><fo:bookmark-title>&lt;global-method-security&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-global-method-security-attributes" starting-state="hide"><fo:bookmark-title>&lt;global-method-security&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-global-method-security-access-decision-manager-ref" starting-state="hide"><fo:bookmark-title>access-decision-manager-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-global-method-security-authentication-manager-ref" starting-state="hide"><fo:bookmark-title>authentication-manager-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-global-method-security-jsr250-annotations" starting-state="hide"><fo:bookmark-title>jsr250-annotations</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-global-method-security-metadata-source-ref" starting-state="hide"><fo:bookmark-title>&lt;metadata-source-ref&gt; Attribute</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-global-method-security-mode" starting-state="hide"><fo:bookmark-title>The mode Attribute</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-global-method-security-order" starting-state="hide"><fo:bookmark-title>order</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-global-method-security-pre-post-annotations" starting-state="hide"><fo:bookmark-title>pre-post-annotations</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-global-method-security-proxy-target-class" starting-state="hide"><fo:bookmark-title>proxy-target-class</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-global-method-security-run-as-manager-ref" starting-state="hide"><fo:bookmark-title>run-as-manager-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-global-method-security-secured-annotations" starting-state="hide"><fo:bookmark-title>secured-annotations</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-global-method-security-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;global-method-security&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-after-invocation-provider" starting-state="hide"><fo:bookmark-title>&lt;after-invocation-provider&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-after-invocation-provider-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;after-invocation-provider&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-after-invocation-provider-attributes" starting-state="hide"><fo:bookmark-title>&lt;after-invocation-provider&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-after-invocation-provider-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-pre-post-annotation-handling" starting-state="hide"><fo:bookmark-title>&lt;pre-post-annotation-handling&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-pre-post-annotation-handling-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;pre-post-annotation-handling&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-pre-post-annotation-handling-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;pre-post-annotation-handling&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-invocation-attribute-factory" starting-state="hide"><fo:bookmark-title>&lt;invocation-attribute-factory&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-invocation-attribute-factory-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;invocation-attribute-factory&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-invocation-attribute-factory-attributes" starting-state="hide"><fo:bookmark-title>&lt;invocation-attribute-factory&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-invocation-attribute-factory-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-post-invocation-advice" starting-state="hide"><fo:bookmark-title>&lt;post-invocation-advice&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-post-invocation-advice-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;post-invocation-advice&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-post-invocation-advice-attributes" starting-state="hide"><fo:bookmark-title>&lt;post-invocation-advice&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-post-invocation-advice-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-pre-invocation-advice" starting-state="hide"><fo:bookmark-title>&lt;pre-invocation-advice&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-pre-invocation-advice-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;pre-invocation-advice&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-pre-invocation-advice-attributes" starting-state="hide"><fo:bookmark-title>&lt;pre-invocation-advice&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-pre-invocation-advice-ref" starting-state="hide"><fo:bookmark-title>ref</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-protect-pointcut" starting-state="hide"><fo:bookmark-title>Securing Methods using &lt;protect-pointcut&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-protect-pointcut-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;protect-pointcut&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-protect-pointcut-attributes" starting-state="hide"><fo:bookmark-title>&lt;protect-pointcut&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-protect-pointcut-access" starting-state="hide"><fo:bookmark-title>access</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-protect-pointcut-expression" starting-state="hide"><fo:bookmark-title>expression</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-intercept-methods" starting-state="hide"><fo:bookmark-title>&lt;intercept-methods&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-intercept-methods-attributes" starting-state="hide"><fo:bookmark-title>&lt;intercept-methods&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-intercept-methods-access-decision-manager-ref" starting-state="hide"><fo:bookmark-title>access-decision-manager-ref</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-intercept-methods-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;intercept-methods&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-method-security-metadata-source" starting-state="hide"><fo:bookmark-title>&lt;method-security-metadata-source&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-method-security-metadata-source-attributes" starting-state="hide"><fo:bookmark-title>&lt;method-security-metadata-source&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-method-security-metadata-source-id" starting-state="hide"><fo:bookmark-title>id</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-method-security-metadata-source-use-expressions" starting-state="hide"><fo:bookmark-title>use-expressions</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-method-security-metadata-source-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;method-security-metadata-source&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-protect" starting-state="hide"><fo:bookmark-title>&lt;protect&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-protect-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;protect&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-protect-attributes" starting-state="hide"><fo:bookmark-title>&lt;protect&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-protect-access" starting-state="hide"><fo:bookmark-title>access</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-protect-method" starting-state="hide"><fo:bookmark-title>method</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-ldap" starting-state="hide"><fo:bookmark-title>B.4 LDAP Namespace Options</fo:bookmark-title><fo:bookmark internal-destination="nsa-ldap-server" starting-state="hide"><fo:bookmark-title>Defining the LDAP Server using the &lt;ldap-server&gt; Element</fo:bookmark-title><fo:bookmark internal-destination="nsa-ldap-server-attributes" starting-state="hide"><fo:bookmark-title>&lt;ldap-server&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-ldap-server-id" starting-state="hide"><fo:bookmark-title>id</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-server-ldif" starting-state="hide"><fo:bookmark-title>ldif</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-server-manager-dn" starting-state="hide"><fo:bookmark-title>manager-dn</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-server-manager-password" starting-state="hide"><fo:bookmark-title>manager-password</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-server-port" starting-state="hide"><fo:bookmark-title>port</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-server-root" starting-state="hide"><fo:bookmark-title>root</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-server-url" starting-state="hide"><fo:bookmark-title>url</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider" starting-state="hide"><fo:bookmark-title>&lt;ldap-authentication-provider&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-ldap-authentication-provider-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;ldap-authentication-provider&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider-attributes" starting-state="hide"><fo:bookmark-title>&lt;ldap-authentication-provider&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-ldap-authentication-provider-group-role-attribute" starting-state="hide"><fo:bookmark-title>group-role-attribute</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider-group-search-base" starting-state="hide"><fo:bookmark-title>group-search-base</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider-group-search-filter" starting-state="hide"><fo:bookmark-title>group-search-filter</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider-role-prefix" starting-state="hide"><fo:bookmark-title>role-prefix</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider-server-ref" starting-state="hide"><fo:bookmark-title>server-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider-user-context-mapper-ref" starting-state="hide"><fo:bookmark-title>user-context-mapper-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider-user-details-class" starting-state="hide"><fo:bookmark-title>user-details-class</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider-user-dn-pattern" starting-state="hide"><fo:bookmark-title>user-dn-pattern</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider-user-search-base" starting-state="hide"><fo:bookmark-title>user-search-base</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider-user-search-filter" starting-state="hide"><fo:bookmark-title>user-search-filter</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-authentication-provider-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;ldap-authentication-provider&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-password-compare" starting-state="hide"><fo:bookmark-title>&lt;password-compare&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-password-compare-parents" starting-state="hide"><fo:bookmark-title>Parent Elements of &lt;password-compare&gt;</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-password-compare-attributes" starting-state="hide"><fo:bookmark-title>&lt;password-compare&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-password-compare-hash" starting-state="hide"><fo:bookmark-title>hash</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-password-compare-password-attribute" starting-state="hide"><fo:bookmark-title>password-attribute</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-password-compare-children" starting-state="hide"><fo:bookmark-title>Child Elements of &lt;password-compare&gt;</fo:bookmark-title></fo:bookmark></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-user-service" starting-state="hide"><fo:bookmark-title>&lt;ldap-user-service&gt;</fo:bookmark-title><fo:bookmark internal-destination="nsa-ldap-user-service-attributes" starting-state="hide"><fo:bookmark-title>&lt;ldap-user-service&gt; Attributes</fo:bookmark-title><fo:bookmark internal-destination="nsa-ldap-user-service-cache-ref" starting-state="hide"><fo:bookmark-title>cache-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-user-service-group-role-attribute" starting-state="hide"><fo:bookmark-title>group-role-attribute</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-user-service-group-search-base" starting-state="hide"><fo:bookmark-title>group-search-base</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-user-service-group-search-filter" starting-state="hide"><fo:bookmark-title>group-search-filter</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-user-service-id" starting-state="hide"><fo:bookmark-title>id</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-user-service-role-prefix" starting-state="hide"><fo:bookmark-title>role-prefix</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-user-service-server-ref" starting-state="hide"><fo:bookmark-title>server-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-user-service-user-context-mapper-ref" starting-state="hide"><fo:bookmark-title>user-context-mapper-ref</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-user-service-user-details-class" starting-state="hide"><fo:bookmark-title>user-details-class</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-user-service-user-search-base" starting-state="hide"><fo:bookmark-title>user-search-base</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="nsa-ldap-user-service-user-search-filter" starting-state="hide"><fo:bookmark-title>user-search-filter</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark></fo:bookmark><fo:bookmark xmlns:fox="http://xmlgraphics.apache.org/fop/extensions" internal-destination="appendix-dependencies" starting-state="hide"><fo:bookmark-title>Appendix C. Spring Security Dependencies</fo:bookmark-title><fo:bookmark internal-destination="d0e11744" starting-state="hide"><fo:bookmark-title>C.1 spring-security-core</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e11834" starting-state="hide"><fo:bookmark-title>C.2 spring-security-remoting</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e11869" starting-state="hide"><fo:bookmark-title>C.3 spring-security-web</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e11918" starting-state="hide"><fo:bookmark-title>C.4 spring-security-ldap</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e12005" starting-state="hide"><fo:bookmark-title>C.5 spring-security-config</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e12059" starting-state="hide"><fo:bookmark-title>C.6 spring-security-acl</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e12109" starting-state="hide"><fo:bookmark-title>C.7 spring-security-cas</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e12157" starting-state="hide"><fo:bookmark-title>C.8 spring-security-openid</fo:bookmark-title></fo:bookmark><fo:bookmark internal-destination="d0e12211" starting-state="hide"><fo:bookmark-title>C.9 spring-security-taglibs</fo:bookmark-title></fo:bookmark></fo:bookmark></fo:bookmark-tree><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="titlepage" language="en" format="1" initial-page-number="1" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="spring-security-reference-guide"><fo:block><fo:block><fo:block font-family="sans-serif,Symbol,ZapfDingbats" font-weight="bold" font-size="24.8832pt" text-align="center" space-before="18.6624pt"><fo:block keep-with-next.within-column="always" hyphenate="false">Spring Security</fo:block></fo:block><fo:block font-family="sans-serif,Symbol,ZapfDingbats" font-weight="bold" font-size="20.736pt" text-align="center" space-before="15.552pt">Reference Documentation</fo:block><fo:block font-family="sans-serif,Symbol,ZapfDingbats" font-weight="bold" font-size="12pt" text-align="center" space-before="2in"><fo:block><fo:block>Ben Alex</fo:block><fo:block>Luke Taylor</fo:block></fo:block></fo:block></fo:block><fo:block><fo:block break-after="page"/><fo:block font-size="14.4pt" font-weight="bold" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block>Spring Security: Reference Documentation</fo:block></fo:block><fo:block font-size="10pt"><fo:block>by Ben Alex and Luke Taylor</fo:block></fo:block><fo:block font-size="10pt" space-before="0.5em">3.2.0.M1</fo:block></fo:block><fo:block break-after="page"/></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="lot" language="en" format="i" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" id="toc...spring-security-reference-guide"><fo:block><fo:block><fo:block space-before.minimum="1em" space-before.optimum="1.5em" space-before.maximum="2em" space-after="0.5em" margin-left="0cm" start-indent="0pt" font-size="17.28pt" font-weight="bold" font-family="sans-serif,Symbol,ZapfDingbats">Table of Contents</fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="preface">Preface</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="preface"><fo:page-number-citation ref-id="preface"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="getting-started">I. Getting Started</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="getting-started"><fo:page-number-citation ref-id="getting-started"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.getting-started" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="introduction">1. Introduction</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="introduction"><fo:page-number-citation ref-id="introduction"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.introduction" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="what-is-acegi-security">1.1. What is Spring Security?</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="what-is-acegi-security"><fo:page-number-citation ref-id="what-is-acegi-security"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="history">1.2. History</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="history"><fo:page-number-citation ref-id="history"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="release-numbering">1.3. Release Numbering</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="release-numbering"><fo:page-number-citation ref-id="release-numbering"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="get-spring-security">1.4. Getting Spring Security</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="get-spring-security"><fo:page-number-citation ref-id="get-spring-security"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.get-spring-security" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="modules">Project Modules</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="modules"><fo:page-number-citation ref-id="modules"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.modules" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-core">Core - <fo:inline font-family="monospace">spring-security-core.jar</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-core"><fo:page-number-citation ref-id="spring-security-core"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-remoting">Remoting - <fo:inline font-family="monospace">spring-security-remoting.jar</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-remoting"><fo:page-number-citation ref-id="spring-security-remoting"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-web">Web - <fo:inline font-family="monospace">spring-security-web.jar</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-web"><fo:page-number-citation ref-id="spring-security-web"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-config">Config - <fo:inline font-family="monospace">spring-security-config.jar</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-config"><fo:page-number-citation ref-id="spring-security-config"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-ldap">LDAP - <fo:inline font-family="monospace">spring-security-ldap.jar</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-ldap"><fo:page-number-citation ref-id="spring-security-ldap"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-acl">ACL - <fo:inline font-family="monospace">spring-security-acl.jar</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-acl"><fo:page-number-citation ref-id="spring-security-acl"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-cas">CAS - <fo:inline font-family="monospace">spring-security-cas.jar</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-cas"><fo:page-number-citation ref-id="spring-security-cas"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-openid">OpenID - <fo:inline font-family="monospace">spring-security-openid.jar</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-openid"><fo:page-number-citation ref-id="spring-security-openid"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="get-source">Checking out the Source</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="get-source"><fo:page-number-citation ref-id="get-source"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="new-3.1">2. What's new in Spring Security 3.1</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="new-3.1"><fo:page-number-citation ref-id="new-3.1"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.new-3.1" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="new-3.1-highlevel">2.1. High level updates found Spring Security 3.1</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="new-3.1-highlevel"><fo:page-number-citation ref-id="new-3.1-highlevel"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="new-3.1-ns">2.2. Spring Security 3.1 namespace updates</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="new-3.1-ns"><fo:page-number-citation ref-id="new-3.1-ns"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-config">3. Security Namespace Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-config"><fo:page-number-citation ref-id="ns-config"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-config" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e507">3.1. Introduction</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e507"><fo:page-number-citation ref-id="d0e507"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e507" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e545">Design of the Namespace</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e545"><fo:page-number-citation ref-id="d0e545"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-getting-started">3.2. Getting Started with Security Namespace Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-getting-started"><fo:page-number-citation ref-id="ns-getting-started"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-getting-started" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-web-xml"><fo:inline font-family="monospace">web.xml</fo:inline> Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-web-xml"><fo:page-number-citation ref-id="ns-web-xml"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-minimal">A Minimal <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-minimal"><fo:page-number-citation ref-id="ns-minimal"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-minimal" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-auto-config">What does <fo:inline font-family="monospace">auto-config</fo:inline> Include?</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-auto-config"><fo:page-number-citation ref-id="ns-auto-config"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-form-and-basic">Form and Basic Login Options</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-form-and-basic"><fo:page-number-citation ref-id="ns-form-and-basic"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-form-and-basic" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-form-target">Setting a Default Post-Login Destination</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-form-target"><fo:page-number-citation ref-id="ns-form-target"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-logout">Logout Handling</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-logout"><fo:page-number-citation ref-id="ns-logout"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-auth-providers">Using other Authentication Providers</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-auth-providers"><fo:page-number-citation ref-id="ns-auth-providers"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-auth-providers" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-password-encoder">Adding a Password Encoder</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-password-encoder"><fo:page-number-citation ref-id="ns-password-encoder"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-web-advanced">3.3. Advanced Web Features</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-web-advanced"><fo:page-number-citation ref-id="ns-web-advanced"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-web-advanced" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-remember-me">Remember-Me Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-remember-me"><fo:page-number-citation ref-id="ns-remember-me"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-requires-channel">Adding HTTP/HTTPS Channel Security</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-requires-channel"><fo:page-number-citation ref-id="ns-requires-channel"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-session-mgmt">Session Management</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-session-mgmt"><fo:page-number-citation ref-id="ns-session-mgmt"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-session-mgmt" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e1033">Detecting Timeouts</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e1033"><fo:page-number-citation ref-id="d0e1033"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-concurrent-sessions">Concurrent Session Control</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-concurrent-sessions"><fo:page-number-citation ref-id="ns-concurrent-sessions"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-session-fixation">Session Fixation Attack Protection</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-session-fixation"><fo:page-number-citation ref-id="ns-session-fixation"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-openid">OpenID Support</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-openid"><fo:page-number-citation ref-id="ns-openid"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-openid" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e1165">Attribute Exchange</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e1165"><fo:page-number-citation ref-id="d0e1165"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-custom-filters">Adding in Your Own Filters</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-custom-filters"><fo:page-number-citation ref-id="ns-custom-filters"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-custom-filters" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-entry-point-ref">Setting a Custom
                    <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-entry-point-ref"><fo:page-number-citation ref-id="ns-entry-point-ref"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-method-security">3.4. Method Security</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-method-security"><fo:page-number-citation ref-id="ns-method-security"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-method-security" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-global-method">The <fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline> Element</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-global-method"><fo:page-number-citation ref-id="ns-global-method"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-global-method" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-protect-pointcut">Adding Security Pointcuts using <fo:inline font-family="monospace">protect-pointcut</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-protect-pointcut"><fo:page-number-citation ref-id="ns-protect-pointcut"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-access-manager">3.5. The Default AccessDecisionManager</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-access-manager"><fo:page-number-citation ref-id="ns-access-manager"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ns-access-manager" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-custom-access-mgr">Customizing the AccessDecisionManager</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-custom-access-mgr"><fo:page-number-citation ref-id="ns-custom-access-mgr"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ns-auth-manager">3.6. The Authentication Manager and the Namespace</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ns-auth-manager"><fo:page-number-citation ref-id="ns-auth-manager"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="sample-apps">4. Sample Applications</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="sample-apps"><fo:page-number-citation ref-id="sample-apps"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.sample-apps" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="tutorial-sample">4.1. Tutorial Sample</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="tutorial-sample"><fo:page-number-citation ref-id="tutorial-sample"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="contacts-sample">4.2. Contacts</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="contacts-sample"><fo:page-number-citation ref-id="contacts-sample"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-sample">4.3. LDAP Sample</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-sample"><fo:page-number-citation ref-id="ldap-sample"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="openid-sample">4.4. OpenID Sample</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="openid-sample"><fo:page-number-citation ref-id="openid-sample"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas-sample">4.5. CAS Sample</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas-sample"><fo:page-number-citation ref-id="cas-sample"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jaas-sample">4.6. JAAS Sample</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="jaas-sample"><fo:page-number-citation ref-id="jaas-sample"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="preauth-sample">4.7. Pre-Authentication Sample</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="preauth-sample"><fo:page-number-citation ref-id="preauth-sample"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="community">5. Spring Security Community</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="community"><fo:page-number-citation ref-id="community"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.community" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jira">5.1. Issue Tracking</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="jira"><fo:page-number-citation ref-id="jira"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="becoming-involved">5.2. Becoming Involved</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="becoming-involved"><fo:page-number-citation ref-id="becoming-involved"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="further-info">5.3. Further Information</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="further-info"><fo:page-number-citation ref-id="further-info"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="overall-architecture">II. Architecture and Implementation</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="overall-architecture"><fo:page-number-citation ref-id="overall-architecture"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.overall-architecture" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="technical-overview">6. Technical Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="technical-overview"><fo:page-number-citation ref-id="technical-overview"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.technical-overview" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="runtime-environment">6.1. Runtime Environment</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="runtime-environment"><fo:page-number-citation ref-id="runtime-environment"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="core-components">6.2. Core Components</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="core-components"><fo:page-number-citation ref-id="core-components"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.core-components" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e1837"> SecurityContextHolder, SecurityContext and Authentication Objects </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e1837"><fo:page-number-citation ref-id="d0e1837"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e1837" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e1877">Obtaining information about the current user</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e1877"><fo:page-number-citation ref-id="d0e1877"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="tech-userdetailsservice">The UserDetailsService</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="tech-userdetailsservice"><fo:page-number-citation ref-id="tech-userdetailsservice"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="tech-granted-authority">GrantedAuthority</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="tech-granted-authority"><fo:page-number-citation ref-id="tech-granted-authority"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e2045">Summary</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e2045"><fo:page-number-citation ref-id="d0e2045"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="tech-intro-authentication">6.3. Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="tech-intro-authentication"><fo:page-number-citation ref-id="tech-intro-authentication"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.tech-intro-authentication" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e2101">What is authentication in Spring Security?</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e2101"><fo:page-number-citation ref-id="d0e2101"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e2171">Setting the SecurityContextHolder Contents Directly</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e2171"><fo:page-number-citation ref-id="d0e2171"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="tech-intro-web-authentication">6.4. Authentication in a Web Application</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="tech-intro-web-authentication"><fo:page-number-citation ref-id="tech-intro-web-authentication"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.tech-intro-web-authentication" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e2260">ExceptionTranslationFilter</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e2260"><fo:page-number-citation ref-id="d0e2260"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="tech-intro-auth-entry-point">AuthenticationEntryPoint</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="tech-intro-auth-entry-point"><fo:page-number-citation ref-id="tech-intro-auth-entry-point"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e2290">Authentication Mechanism</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e2290"><fo:page-number-citation ref-id="d0e2290"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="tech-intro-sec-context-persistence">Storing the <fo:inline font-family="monospace">SecurityContext</fo:inline> between
                requests</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="tech-intro-sec-context-persistence"><fo:page-number-citation ref-id="tech-intro-sec-context-persistence"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="tech-intro-access-control">6.5. Access-Control (Authorization) in Spring Security</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="tech-intro-access-control"><fo:page-number-citation ref-id="tech-intro-access-control"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.tech-intro-access-control" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e2414">Security and AOP Advice</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e2414"><fo:page-number-citation ref-id="d0e2414"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="secure-objects">Secure Objects and the <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="secure-objects"><fo:page-number-citation ref-id="secure-objects"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.secure-objects" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="tech-intro-config-attributes">What are Configuration Attributes?</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="tech-intro-config-attributes"><fo:page-number-citation ref-id="tech-intro-config-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e2544">RunAsManager</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e2544"><fo:page-number-citation ref-id="d0e2544"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e2570">AfterInvocationManager</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e2570"><fo:page-number-citation ref-id="d0e2570"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e2605">Extending the Secure Object Model</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e2605"><fo:page-number-citation ref-id="d0e2605"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="localization">6.6. Localization</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="localization"><fo:page-number-citation ref-id="localization"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="core-services">7. Core Services</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="core-services"><fo:page-number-citation ref-id="core-services"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.core-services" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="core-services-authentication-manager">7.1. The <fo:inline font-family="monospace">AuthenticationManager</fo:inline>,
            <fo:inline font-family="monospace">ProviderManager</fo:inline> and
            <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>s</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="core-services-authentication-manager"><fo:page-number-citation ref-id="core-services-authentication-manager"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.core-services-authentication-manager" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="core-services-erasing-credentials">Erasing Credentials on Successful Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="core-services-erasing-credentials"><fo:page-number-citation ref-id="core-services-erasing-credentials"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="core-services-dao-provider"><fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="core-services-dao-provider"><fo:page-number-citation ref-id="core-services-dao-provider"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e2875">7.2. <fo:inline font-family="monospace">UserDetailsService</fo:inline> Implementations</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e2875"><fo:page-number-citation ref-id="d0e2875"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e2875" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="core-services-in-memory-service">In-Memory Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="core-services-in-memory-service"><fo:page-number-citation ref-id="core-services-in-memory-service"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="core-services-jdbc-user-service"><fo:inline font-family="monospace">JdbcDaoImpl</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="core-services-jdbc-user-service"><fo:page-number-citation ref-id="core-services-jdbc-user-service"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.core-services-jdbc-user-service" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e2968">Authority Groups</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e2968"><fo:page-number-citation ref-id="d0e2968"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="core-services-password-encoding">7.3. Password Encoding</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="core-services-password-encoding"><fo:page-number-citation ref-id="core-services-password-encoding"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.core-services-password-encoding" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e3007">What is a hash?</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e3007"><fo:page-number-citation ref-id="d0e3007"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e3021">Adding Salt to a Hash</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e3021"><fo:page-number-citation ref-id="d0e3021"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e3056"> Hashing and Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e3056"><fo:page-number-citation ref-id="d0e3056"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="web-app-security">III. Web Application Security</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="web-app-security"><fo:page-number-citation ref-id="web-app-security"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.web-app-security" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="security-filter-chain">8. The Security Filter Chain</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="security-filter-chain"><fo:page-number-citation ref-id="security-filter-chain"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.security-filter-chain" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="delegating-filter-proxy">8.1. <fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="delegating-filter-proxy"><fo:page-number-citation ref-id="delegating-filter-proxy"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="filter-chain-proxy">8.2. <fo:inline font-family="monospace">FilterChainProxy</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="filter-chain-proxy"><fo:page-number-citation ref-id="filter-chain-proxy"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.filter-chain-proxy" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e3264">Bypassing the Filter Chain</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e3264"><fo:page-number-citation ref-id="d0e3264"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e3278">8.3. Filter Ordering</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e3278"><fo:page-number-citation ref-id="d0e3278"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="request-matching">8.4. Request Matching and <fo:inline font-family="monospace">HttpFirewall</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="request-matching"><fo:page-number-citation ref-id="request-matching"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e3526">8.5. Use with other Filter-Based Frameworks</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e3526"><fo:page-number-citation ref-id="d0e3526"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="filter-chains-with-ns">8.6. Advanced Namespace Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="filter-chains-with-ns"><fo:page-number-citation ref-id="filter-chains-with-ns"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="core-web-filters">9. Core Security Filters</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="core-web-filters"><fo:page-number-citation ref-id="core-web-filters"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.core-web-filters" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="filter-security-interceptor">9.1. <fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="filter-security-interceptor"><fo:page-number-citation ref-id="filter-security-interceptor"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="exception-translation-filter">9.2.  <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="exception-translation-filter"><fo:page-number-citation ref-id="exception-translation-filter"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.exception-translation-filter" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="auth-entry-point"><fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="auth-entry-point"><fo:page-number-citation ref-id="auth-entry-point"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="access-denied-handler"><fo:inline font-family="monospace">AccessDeniedHandler</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="access-denied-handler"><fo:page-number-citation ref-id="access-denied-handler"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="request-caching"><fo:inline font-family="monospace">SavedRequest</fo:inline>s and the <fo:inline font-family="monospace">RequestCache</fo:inline> Interface</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="request-caching"><fo:page-number-citation ref-id="request-caching"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="security-context-persistence-filter">9.3. <fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="security-context-persistence-filter"><fo:page-number-citation ref-id="security-context-persistence-filter"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.security-context-persistence-filter" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="security-context-repository"><fo:inline font-family="monospace">SecurityContextRepository</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="security-context-repository"><fo:page-number-citation ref-id="security-context-repository"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="form-login-filter">9.4. <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="form-login-filter"><fo:page-number-citation ref-id="form-login-filter"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.form-login-filter" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="form-login-flow-handling">Application Flow on Authentication Success and Failure</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="form-login-flow-handling"><fo:page-number-citation ref-id="form-login-flow-handling"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="basic">10. Basic and Digest Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="basic"><fo:page-number-citation ref-id="basic"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.basic" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="basic-processing-filter">10.1. <fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="basic-processing-filter"><fo:page-number-citation ref-id="basic-processing-filter"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.basic-processing-filter" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="basic-config">Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="basic-config"><fo:page-number-citation ref-id="basic-config"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="digest-processing-filter">10.2. <fo:inline font-family="monospace">DigestAuthenticationFilter</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="digest-processing-filter"><fo:page-number-citation ref-id="digest-processing-filter"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.digest-processing-filter" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="digest-config">Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="digest-config"><fo:page-number-citation ref-id="digest-config"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="remember-me">11. Remember-Me Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="remember-me"><fo:page-number-citation ref-id="remember-me"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.remember-me" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="remember-me-overview">11.1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="remember-me-overview"><fo:page-number-citation ref-id="remember-me-overview"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="remember-me-hash-token">11.2. Simple Hash-Based Token Approach</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="remember-me-hash-token"><fo:page-number-citation ref-id="remember-me-hash-token"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="remember-me-persistent-token">11.3. Persistent Token Approach</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="remember-me-persistent-token"><fo:page-number-citation ref-id="remember-me-persistent-token"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="remember-me-impls">11.4. Remember-Me Interfaces and Implementations</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="remember-me-impls"><fo:page-number-citation ref-id="remember-me-impls"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.remember-me-impls" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e4282">TokenBasedRememberMeServices</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e4282"><fo:page-number-citation ref-id="d0e4282"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e4348">PersistentTokenBasedRememberMeServices</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e4348"><fo:page-number-citation ref-id="d0e4348"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="session-mgmt">12. Session Management</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="session-mgmt"><fo:page-number-citation ref-id="session-mgmt"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.session-mgmt" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e4385">12.1. SessionManagementFilter</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e4385"><fo:page-number-citation ref-id="d0e4385"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e4426">12.2. <fo:inline font-family="monospace">SessionAuthenticationStrategy</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e4426"><fo:page-number-citation ref-id="d0e4426"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="concurrent-sessions">12.3. Concurrency Control</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="concurrent-sessions"><fo:page-number-citation ref-id="concurrent-sessions"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.concurrent-sessions" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="list-authenticated-principals">Querying the <fo:inline font-family="monospace">SessionRegistry</fo:inline> for currently authenticated
            users and their sessions</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="list-authenticated-principals"><fo:page-number-citation ref-id="list-authenticated-principals"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="anonymous">13. Anonymous Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="anonymous"><fo:page-number-citation ref-id="anonymous"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.anonymous" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="anonymous-overview">13.1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="anonymous-overview"><fo:page-number-citation ref-id="anonymous-overview"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="anonymous-config">13.2. Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="anonymous-config"><fo:page-number-citation ref-id="anonymous-config"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="anonymous-auth-trust-resolver">13.3. <fo:inline font-family="monospace">AuthenticationTrustResolver</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="anonymous-auth-trust-resolver"><fo:page-number-citation ref-id="anonymous-auth-trust-resolver"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="authorization">IV. Authorization</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="authorization"><fo:page-number-citation ref-id="authorization"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.authorization" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="authz-arch">14. Authorization Architecture</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="authz-arch"><fo:page-number-citation ref-id="authz-arch"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.authz-arch" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="authz-authorities">14.1. Authorities</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="authz-authorities"><fo:page-number-citation ref-id="authz-authorities"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="authz-pre-invocation">14.2. Pre-Invocation Handling</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="authz-pre-invocation"><fo:page-number-citation ref-id="authz-pre-invocation"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.authz-pre-invocation" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="authz-access-decision-manager">The AccessDecisionManager</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="authz-access-decision-manager"><fo:page-number-citation ref-id="authz-access-decision-manager"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="authz-voting-based">Voting-Based AccessDecisionManager Implementations</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="authz-voting-based"><fo:page-number-citation ref-id="authz-voting-based"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.authz-voting-based" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="authz-role-voter"><fo:inline font-family="monospace">RoleVoter</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="authz-role-voter"><fo:page-number-citation ref-id="authz-role-voter"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="authz-authenticated-voter"><fo:inline font-family="monospace">AuthenticatedVoter</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="authz-authenticated-voter"><fo:page-number-citation ref-id="authz-authenticated-voter"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="authz-custom-voter">Custom Voters</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="authz-custom-voter"><fo:page-number-citation ref-id="authz-custom-voter"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="authz-after-invocation-handling">14.3. After Invocation Handling</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="authz-after-invocation-handling"><fo:page-number-citation ref-id="authz-after-invocation-handling"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="authz-hierarchical-roles">14.4. Hierarchical Roles</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="authz-hierarchical-roles"><fo:page-number-citation ref-id="authz-hierarchical-roles"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="secure-object-impls">15. Secure Object Implementations</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="secure-object-impls"><fo:page-number-citation ref-id="secure-object-impls"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.secure-object-impls" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="aop-alliance">15.1. AOP Alliance (MethodInvocation) Security Interceptor</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="aop-alliance"><fo:page-number-citation ref-id="aop-alliance"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.aop-alliance" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e5328">Explicit MethodSecurityInterceptor Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e5328"><fo:page-number-citation ref-id="d0e5328"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="aspectj">15.2. AspectJ (JoinPoint) Security Interceptor</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="aspectj"><fo:page-number-citation ref-id="aspectj"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="el-access">16. Expression-Based Access Control</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="el-access"><fo:page-number-citation ref-id="el-access"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.el-access" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e5432">16.1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e5432"><fo:page-number-citation ref-id="d0e5432"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e5432" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="el-common-built-in">Common Built-In Expressions</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="el-common-built-in"><fo:page-number-citation ref-id="el-common-built-in"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="el-access-web">16.2. Web Security Expressions</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="el-access-web"><fo:page-number-citation ref-id="el-access-web"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e5600">16.3. Method Security Expressions</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e5600"><fo:page-number-citation ref-id="d0e5600"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e5600" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="el-pre-post-annotations"><fo:inline font-family="monospace">@Pre</fo:inline> and <fo:inline font-family="monospace">@Post</fo:inline> Annotations</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="el-pre-post-annotations"><fo:page-number-citation ref-id="el-pre-post-annotations"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.el-pre-post-annotations" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e5632">Access Control using <fo:inline font-family="monospace">@PreAuthorize</fo:inline> and
                    <fo:inline font-family="monospace">@PostAuthorize</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e5632"><fo:page-number-citation ref-id="d0e5632"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e5696">Filtering using <fo:inline font-family="monospace">@PreFilter</fo:inline> and
                    <fo:inline font-family="monospace">@PostFilter</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e5696"><fo:page-number-citation ref-id="d0e5696"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="el-method-built-in">Built-In Expressions</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="el-method-built-in"><fo:page-number-citation ref-id="el-method-built-in"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.el-method-built-in" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="el-permission-evaluator">The <fo:inline font-family="monospace">PermissionEvaluator</fo:inline> interface</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="el-permission-evaluator"><fo:page-number-citation ref-id="el-permission-evaluator"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="advanced-topics">V. Additional Topics</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="advanced-topics"><fo:page-number-citation ref-id="advanced-topics"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.advanced-topics" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="domain-acls">17. Domain Object Security (ACLs)</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="domain-acls"><fo:page-number-citation ref-id="domain-acls"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.domain-acls" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="domain-acls-overview">17.1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="domain-acls-overview"><fo:page-number-citation ref-id="domain-acls-overview"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="domain-acls-key-concepts">17.2. Key Concepts</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="domain-acls-key-concepts"><fo:page-number-citation ref-id="domain-acls-key-concepts"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="domain-acls-getting-started">17.3. Getting Started</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="domain-acls-getting-started"><fo:page-number-citation ref-id="domain-acls-getting-started"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="preauth">18. Pre-Authentication Scenarios</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="preauth"><fo:page-number-citation ref-id="preauth"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.preauth" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6156">18.1. Pre-Authentication Framework Classes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6156"><fo:page-number-citation ref-id="d0e6156"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e6156" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6167">AbstractPreAuthenticatedProcessingFilter</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6167"><fo:page-number-citation ref-id="d0e6167"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e6167" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="j2ee-preauth-details">J2eeBasedPreAuthenticatedWebAuthenticationDetailsSource</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="j2ee-preauth-details"><fo:page-number-citation ref-id="j2ee-preauth-details"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6235">PreAuthenticatedAuthenticationProvider</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6235"><fo:page-number-citation ref-id="d0e6235"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6267">Http403ForbiddenEntryPoint</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6267"><fo:page-number-citation ref-id="d0e6267"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6287">18.2. Concrete Implementations</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6287"><fo:page-number-citation ref-id="d0e6287"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e6287" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6295">Request-Header Authentication (Siteminder)</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6295"><fo:page-number-citation ref-id="d0e6295"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e6295" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6315">Siteminder Example Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6315"><fo:page-number-citation ref-id="d0e6315"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6332">J2EE Container Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6332"><fo:page-number-citation ref-id="d0e6332"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap">19. LDAP Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap"><fo:page-number-citation ref-id="ldap"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ldap" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-overview">19.1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-overview"><fo:page-number-citation ref-id="ldap-overview"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6370">19.2. Using LDAP with Spring Security</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6370"><fo:page-number-citation ref-id="d0e6370"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-server">19.3. Configuring an LDAP Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-server"><fo:page-number-citation ref-id="ldap-server"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ldap-server" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6418">Using an Embedded Test Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6418"><fo:page-number-citation ref-id="d0e6418"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6442">Using Bind Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6442"><fo:page-number-citation ref-id="d0e6442"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6466">Loading Authorities</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6466"><fo:page-number-citation ref-id="d0e6466"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6541">19.4. Implementation Classes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6541"><fo:page-number-citation ref-id="d0e6541"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e6541" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-ldap-authenticators">LdapAuthenticator Implementations</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-ldap-authenticators"><fo:page-number-citation ref-id="ldap-ldap-authenticators"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ldap-ldap-authenticators" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-ldap-authenticators-common">Common Functionality</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-ldap-authenticators-common"><fo:page-number-citation ref-id="ldap-ldap-authenticators-common"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-ldap-authenticators-bind">BindAuthenticator</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-ldap-authenticators-bind"><fo:page-number-citation ref-id="ldap-ldap-authenticators-bind"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-ldap-authenticators-password">PasswordComparisonAuthenticator</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-ldap-authenticators-password"><fo:page-number-citation ref-id="ldap-ldap-authenticators-password"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-context-source">Connecting to the LDAP Server</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-context-source"><fo:page-number-citation ref-id="ldap-context-source"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-searchobjects">LDAP Search Objects</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-searchobjects"><fo:page-number-citation ref-id="ldap-searchobjects"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ldap-searchobjects" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-searchobjects-filter">
                        <fo:inline font-family="monospace">FilterBasedLdapUserSearch</fo:inline> </fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-searchobjects-filter"><fo:page-number-citation ref-id="ldap-searchobjects-filter"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-authorities">LdapAuthoritiesPopulator</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-authorities"><fo:page-number-citation ref-id="ldap-authorities"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-bean-config">Spring Bean Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-bean-config"><fo:page-number-citation ref-id="ldap-bean-config"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-custom-user-details">LDAP Attributes and Customized UserDetails</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-custom-user-details"><fo:page-number-citation ref-id="ldap-custom-user-details"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="ldap-active-directory">19.5. Active Directory Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="ldap-active-directory"><fo:page-number-citation ref-id="ldap-active-directory"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.ldap-active-directory" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6795"><fo:inline font-family="monospace">ActiveDirectoryLdapAuthenticationProvider</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6795"><fo:page-number-citation ref-id="d0e6795"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e6795" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6849">Active Directory Error Codes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6849"><fo:page-number-citation ref-id="d0e6849"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="taglibs">20. JSP Tag Libraries</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="taglibs"><fo:page-number-citation ref-id="taglibs"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.taglibs" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6868">20.1. Declaring the Taglib</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6868"><fo:page-number-citation ref-id="d0e6868"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6875">20.2. The <fo:inline font-family="monospace">authorize</fo:inline> Tag</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6875"><fo:page-number-citation ref-id="d0e6875"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e6875" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6926">Disabling Tag Authorization for Testing</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6926"><fo:page-number-citation ref-id="d0e6926"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6960">20.3. The <fo:inline font-family="monospace">authentication</fo:inline>Tag</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6960"><fo:page-number-citation ref-id="d0e6960"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e6991">20.4. The <fo:inline font-family="monospace">accesscontrollist</fo:inline> Tag</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e6991"><fo:page-number-citation ref-id="d0e6991"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jaas">21. Java Authentication and Authorization Service (JAAS) Provider</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="jaas"><fo:page-number-citation ref-id="jaas"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.jaas" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e7042">21.1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e7042"><fo:page-number-citation ref-id="d0e7042"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jaas-abstractjaasauthenticationprovider">21.2. AbstractJaasAuthenticationProvider</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="jaas-abstractjaasauthenticationprovider"><fo:page-number-citation ref-id="jaas-abstractjaasauthenticationprovider"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.jaas-abstractjaasauthenticationprovider" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jaas-callbackhandler">JAAS CallbackHandler</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="jaas-callbackhandler"><fo:page-number-citation ref-id="jaas-callbackhandler"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jaas-authoritygranter">JAAS AuthorityGranter</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="jaas-authoritygranter"><fo:page-number-citation ref-id="jaas-authoritygranter"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jaas-defaultjaasauthenticationprovider">21.3. DefaultJaasAuthenticationProvider</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="jaas-defaultjaasauthenticationprovider"><fo:page-number-citation ref-id="jaas-defaultjaasauthenticationprovider"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.jaas-defaultjaasauthenticationprovider" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jaas-inmemoryconfiguration">InMemoryConfiguration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="jaas-inmemoryconfiguration"><fo:page-number-citation ref-id="jaas-inmemoryconfiguration"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jaas-djap-config">DefaultJaasAuthenticationProvider Example Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="jaas-djap-config"><fo:page-number-citation ref-id="jaas-djap-config"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jaas-jaasauthenticationprovider">21.4. JaasAuthenticationProvider</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="jaas-jaasauthenticationprovider"><fo:page-number-citation ref-id="jaas-jaasauthenticationprovider"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="jaas-apiprovision">21.5. Running as a Subject</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="jaas-apiprovision"><fo:page-number-citation ref-id="jaas-apiprovision"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas">22. CAS Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas"><fo:page-number-citation ref-id="cas"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.cas" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas-overview">22.1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas-overview"><fo:page-number-citation ref-id="cas-overview"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas-how-it-works">22.2. How CAS Works</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas-how-it-works"><fo:page-number-citation ref-id="cas-how-it-works"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.cas-how-it-works" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas-sequence">Spring Security and CAS Interaction Sequence</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas-sequence"><fo:page-number-citation ref-id="cas-sequence"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas-client">22.3. Configuration of CAS Client</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas-client"><fo:page-number-citation ref-id="cas-client"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.cas-client" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas-st">Service Ticket Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas-st"><fo:page-number-citation ref-id="cas-st"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas-singlelogout">Single Logout</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas-singlelogout"><fo:page-number-citation ref-id="cas-singlelogout"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas-pt-client">Authenticating to a Stateless Service with CAS</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas-pt-client"><fo:page-number-citation ref-id="cas-pt-client"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.cas-pt-client" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas-pt-client-config">Configuring CAS to Obtain Proxy Granting Tickets</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas-pt-client-config"><fo:page-number-citation ref-id="cas-pt-client-config"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas-pt-client-sample">Calling a Stateless Service Using a Proxy Ticket</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas-pt-client-sample"><fo:page-number-citation ref-id="cas-pt-client-sample"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="cas-pt">Proxy Ticket Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="cas-pt"><fo:page-number-citation ref-id="cas-pt"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="x509">23. X.509 Authentication</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="x509"><fo:page-number-citation ref-id="x509"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.x509" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="x509-overview">23.1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="x509-overview"><fo:page-number-citation ref-id="x509-overview"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e8028">23.2. Adding X.509 Authentication to Your Web Application</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e8028"><fo:page-number-citation ref-id="d0e8028"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="x509-ssl-config">23.3. Setting up SSL in Tomcat</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="x509-ssl-config"><fo:page-number-citation ref-id="x509-ssl-config"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="runas">24. Run-As Authentication Replacement</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="runas"><fo:page-number-citation ref-id="runas"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.runas" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="runas-overview">24.1. Overview</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="runas-overview"><fo:page-number-citation ref-id="runas-overview"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="runas-config">24.2. Configuration</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="runas-config"><fo:page-number-citation ref-id="runas-config"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="crypto">25. Spring Security Crypto Module</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="crypto"><fo:page-number-citation ref-id="crypto"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.crypto" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-crypto-introduction">25.1. Introduction</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-crypto-introduction"><fo:page-number-citation ref-id="spring-security-crypto-introduction"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-crypto-encryption">25.2. Encryptors</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-crypto-encryption"><fo:page-number-citation ref-id="spring-security-crypto-encryption"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.spring-security-crypto-encryption" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-crypto-encryption-bytes">BytesEncryptor</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-crypto-encryption-bytes"><fo:page-number-citation ref-id="spring-security-crypto-encryption-bytes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-crypto-encryption-text">TextEncryptor</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-crypto-encryption-text"><fo:page-number-citation ref-id="spring-security-crypto-encryption-text"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-crypto-keygenerators">25.3. Key Generators</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-crypto-keygenerators"><fo:page-number-citation ref-id="spring-security-crypto-keygenerators"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.spring-security-crypto-keygenerators" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e8326">BytesKeyGenerator</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e8326"><fo:page-number-citation ref-id="d0e8326"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e8344">StringKeyGenerator</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e8344"><fo:page-number-citation ref-id="d0e8344"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="spring-security-crypto-passwordencoders">25.4. Password Encoding</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="spring-security-crypto-passwordencoders"><fo:page-number-citation ref-id="spring-security-crypto-passwordencoders"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="appendix-schema">A. Security Database Schema</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="appendix-schema"><fo:page-number-citation ref-id="appendix-schema"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.appendix-schema" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e8380">A.1. User Schema</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e8380"><fo:page-number-citation ref-id="d0e8380"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.d0e8380" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e8393">Group Authorities</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e8393"><fo:page-number-citation ref-id="d0e8393"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e8414">A.2. Persistent Login (Remember-Me) Schema</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e8414"><fo:page-number-citation ref-id="d0e8414"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="dbschema-acl">A.3. ACL Schema</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="dbschema-acl"><fo:page-number-citation ref-id="dbschema-acl"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.dbschema-acl" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e8478">Hypersonic SQL</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e8478"><fo:page-number-citation ref-id="d0e8478"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e8485">PostgreSQL</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e8485"><fo:page-number-citation ref-id="d0e8485"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="appendix-namespace">B. The Security Namespace</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="appendix-namespace"><fo:page-number-citation ref-id="appendix-namespace"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.appendix-namespace" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-web">B.1. Web Application Security</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-web"><fo:page-number-citation ref-id="nsa-web"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-web" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-debug"><fo:inline font-family="monospace">&lt;debug&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-debug"><fo:page-number-citation ref-id="nsa-debug"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-http"><fo:inline font-family="monospace">&lt;http&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-http"><fo:page-number-citation ref-id="nsa-http"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-http" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-http-attributes"><fo:inline font-family="monospace">&lt;http&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-http-attributes"><fo:page-number-citation ref-id="nsa-http-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-http-children">Child Elements of &lt;http&gt;</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-http-children"><fo:page-number-citation ref-id="nsa-http-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-access-denied-handler"><fo:inline font-family="monospace">&lt;access-denied-handler&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-access-denied-handler"><fo:page-number-citation ref-id="nsa-access-denied-handler"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-access-denied-handler" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-access-denied-handler-parents">Parent Elements of <fo:inline font-family="monospace">&lt;access-denied-handler&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-access-denied-handler-parents"><fo:page-number-citation ref-id="nsa-access-denied-handler-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-access-denied-handler-attributes"><fo:inline font-family="monospace">&lt;access-denied-handler&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-access-denied-handler-attributes"><fo:page-number-citation ref-id="nsa-access-denied-handler-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-anonymous"><fo:inline font-family="monospace">&lt;anonymous&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-anonymous"><fo:page-number-citation ref-id="nsa-anonymous"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-anonymous" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-anonymous-parents">Parent Elements of <fo:inline font-family="monospace">&lt;anonymous&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-anonymous-parents"><fo:page-number-citation ref-id="nsa-anonymous-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-anonymous-attributes"><fo:inline font-family="monospace">&lt;anonymous&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-anonymous-attributes"><fo:page-number-citation ref-id="nsa-anonymous-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-custom-filter"><fo:inline font-family="monospace">&lt;custom-filter&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-custom-filter"><fo:page-number-citation ref-id="nsa-custom-filter"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-custom-filter" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-custom-filter-parents">Parent Elements of <fo:inline font-family="monospace">&lt;custom-filter&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-custom-filter-parents"><fo:page-number-citation ref-id="nsa-custom-filter-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-custom-filter-attributes"><fo:inline font-family="monospace">&lt;custom-filter&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-custom-filter-attributes"><fo:page-number-citation ref-id="nsa-custom-filter-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-expression-handler"><fo:inline font-family="monospace">&lt;expression-handler&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-expression-handler"><fo:page-number-citation ref-id="nsa-expression-handler"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-expression-handler" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-expression-handler-parents">Parent Elements of <fo:inline font-family="monospace">&lt;expression-handler&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-expression-handler-parents"><fo:page-number-citation ref-id="nsa-expression-handler-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-expression-handler-attributes"><fo:inline font-family="monospace">&lt;expression-handler&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-expression-handler-attributes"><fo:page-number-citation ref-id="nsa-expression-handler-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-form-login"><fo:inline font-family="monospace">&lt;form-login&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-form-login"><fo:page-number-citation ref-id="nsa-form-login"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-form-login" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-form-login-parents">Parent Elements of <fo:inline font-family="monospace">&lt;form-login&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-form-login-parents"><fo:page-number-citation ref-id="nsa-form-login-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-form-login-attributes"><fo:inline font-family="monospace">&lt;form-login&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-form-login-attributes"><fo:page-number-citation ref-id="nsa-form-login-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-http-basic"><fo:inline font-family="monospace">&lt;http-basic&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-http-basic"><fo:page-number-citation ref-id="nsa-http-basic"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-http-basic" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-http-basic-parents">Parent Elements of <fo:inline font-family="monospace">&lt;http-basic&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-http-basic-parents"><fo:page-number-citation ref-id="nsa-http-basic-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-http-basic-attributes"><fo:inline font-family="monospace">&lt;http-basic&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-http-basic-attributes"><fo:page-number-citation ref-id="nsa-http-basic-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-http-firewall"><fo:inline font-family="monospace">&lt;http-firewall&gt;</fo:inline> Element</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-http-firewall"><fo:page-number-citation ref-id="nsa-http-firewall"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-http-firewall" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-http-firewall-attributes"><fo:inline font-family="monospace">&lt;http-firewall&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-http-firewall-attributes"><fo:page-number-citation ref-id="nsa-http-firewall-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-intercept-url"><fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-intercept-url"><fo:page-number-citation ref-id="nsa-intercept-url"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-intercept-url" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-intercept-url-parents">Parent Elements of <fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-intercept-url-parents"><fo:page-number-citation ref-id="nsa-intercept-url-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-intercept-url-attributes"><fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-intercept-url-attributes"><fo:page-number-citation ref-id="nsa-intercept-url-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-jee"><fo:inline font-family="monospace">&lt;jee&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-jee"><fo:page-number-citation ref-id="nsa-jee"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-jee" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-jee-parents">Parent Elements of <fo:inline font-family="monospace">&lt;jee&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-jee-parents"><fo:page-number-citation ref-id="nsa-jee-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-jee-attributes"><fo:inline font-family="monospace">&lt;jee&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-jee-attributes"><fo:page-number-citation ref-id="nsa-jee-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-logout"><fo:inline font-family="monospace">&lt;logout&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-logout"><fo:page-number-citation ref-id="nsa-logout"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-logout" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-logout-parents">Parent Elements of <fo:inline font-family="monospace">&lt;logout&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-logout-parents"><fo:page-number-citation ref-id="nsa-logout-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-logout-attributes"><fo:inline font-family="monospace">&lt;logout&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-logout-attributes"><fo:page-number-citation ref-id="nsa-logout-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-openid-login"><fo:inline font-family="monospace">&lt;openid-login&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-openid-login"><fo:page-number-citation ref-id="nsa-openid-login"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-openid-login" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-openid-login-parents">Parent Elements of <fo:inline font-family="monospace">&lt;openid-login&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-openid-login-parents"><fo:page-number-citation ref-id="nsa-openid-login-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-openid-login-attributes"><fo:inline font-family="monospace">&lt;openid-login&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-openid-login-attributes"><fo:page-number-citation ref-id="nsa-openid-login-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-openid-login-children">Child Elements of &lt;openid-login&gt;</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-openid-login-children"><fo:page-number-citation ref-id="nsa-openid-login-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-attribute-exchange"><fo:inline font-family="monospace">&lt;attribute-exchange&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-attribute-exchange"><fo:page-number-citation ref-id="nsa-attribute-exchange"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-attribute-exchange" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-attribute-exchange-parents">Parent Elements of <fo:inline font-family="monospace">&lt;attribute-exchange&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-attribute-exchange-parents"><fo:page-number-citation ref-id="nsa-attribute-exchange-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-attribute-exchange-attributes"><fo:inline font-family="monospace">&lt;attribute-exchange&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-attribute-exchange-attributes"><fo:page-number-citation ref-id="nsa-attribute-exchange-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-attribute-exchange-children">Child Elements of <fo:inline font-family="monospace">&lt;attribute-exchange&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-attribute-exchange-children"><fo:page-number-citation ref-id="nsa-attribute-exchange-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-openid-attribute"><fo:inline font-family="monospace">&lt;openid-attribute&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-openid-attribute"><fo:page-number-citation ref-id="nsa-openid-attribute"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-openid-attribute" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-openid-attribute-parents">Parent Elements of <fo:inline font-family="monospace">&lt;openid-attribute&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-openid-attribute-parents"><fo:page-number-citation ref-id="nsa-openid-attribute-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-openid-attribute-attributes"><fo:inline font-family="monospace">&lt;openid-attribute&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-openid-attribute-attributes"><fo:page-number-citation ref-id="nsa-openid-attribute-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-port-mappings"><fo:inline font-family="monospace">&lt;port-mappings&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-port-mappings"><fo:page-number-citation ref-id="nsa-port-mappings"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-port-mappings" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-port-mappings-parents">Parent Elements of <fo:inline font-family="monospace">&lt;port-mappings&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-port-mappings-parents"><fo:page-number-citation ref-id="nsa-port-mappings-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-port-mappings-children">Child Elements of <fo:inline font-family="monospace">&lt;port-mappings&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-port-mappings-children"><fo:page-number-citation ref-id="nsa-port-mappings-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-port-mapping"><fo:inline font-family="monospace">&lt;port-mapping&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-port-mapping"><fo:page-number-citation ref-id="nsa-port-mapping"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-port-mapping" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-port-mapping-parents">Parent Elements of <fo:inline font-family="monospace">&lt;port-mapping&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-port-mapping-parents"><fo:page-number-citation ref-id="nsa-port-mapping-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-port-mapping-attributes"><fo:inline font-family="monospace">&lt;port-mapping&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-port-mapping-attributes"><fo:page-number-citation ref-id="nsa-port-mapping-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-remember-me"><fo:inline font-family="monospace">&lt;remember-me&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-remember-me"><fo:page-number-citation ref-id="nsa-remember-me"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-remember-me" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-remember-me-parents">Parent Elements of <fo:inline font-family="monospace">&lt;remember-me&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-remember-me-parents"><fo:page-number-citation ref-id="nsa-remember-me-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-remember-me-attributes"><fo:inline font-family="monospace">&lt;remember-me&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-remember-me-attributes"><fo:page-number-citation ref-id="nsa-remember-me-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-request-cache"><fo:inline font-family="monospace">&lt;request-cache&gt;</fo:inline> Element</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-request-cache"><fo:page-number-citation ref-id="nsa-request-cache"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-request-cache" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-request-cache-parents">Parent Elements of <fo:inline font-family="monospace">&lt;request-cache&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-request-cache-parents"><fo:page-number-citation ref-id="nsa-request-cache-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-request-cache-attributes"><fo:inline font-family="monospace">&lt;request-cache&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-request-cache-attributes"><fo:page-number-citation ref-id="nsa-request-cache-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-session-management"><fo:inline font-family="monospace">&lt;session-management&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-session-management"><fo:page-number-citation ref-id="nsa-session-management"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-session-management" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-session-management-parents">Parent Elements of <fo:inline font-family="monospace">&lt;session-management&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-session-management-parents"><fo:page-number-citation ref-id="nsa-session-management-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-session-management-attributes"><fo:inline font-family="monospace">&lt;session-management&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-session-management-attributes"><fo:page-number-citation ref-id="nsa-session-management-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-session-management-children">Child elements of <fo:inline font-family="monospace">&lt;session-management&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-session-management-children"><fo:page-number-citation ref-id="nsa-session-management-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-concurrency-control"><fo:inline font-family="monospace">&lt;concurrency-control&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-concurrency-control"><fo:page-number-citation ref-id="nsa-concurrency-control"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-concurrency-control" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-concurrency-control-parents">Parent Elements of <fo:inline font-family="monospace">&lt;concurrency-control&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-concurrency-control-parents"><fo:page-number-citation ref-id="nsa-concurrency-control-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-concurrency-control-attributes"><fo:inline font-family="monospace">&lt;concurrency-control&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-concurrency-control-attributes"><fo:page-number-citation ref-id="nsa-concurrency-control-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-x509"><fo:inline font-family="monospace">&lt;x509&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-x509"><fo:page-number-citation ref-id="nsa-x509"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-x509" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-x509-parents">Parent Elements of <fo:inline font-family="monospace">&lt;x509&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-x509-parents"><fo:page-number-citation ref-id="nsa-x509-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-x509-attributes"><fo:inline font-family="monospace">&lt;x509&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-x509-attributes"><fo:page-number-citation ref-id="nsa-x509-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-chain-map"><fo:inline font-family="monospace">&lt;filter-chain-map&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-chain-map"><fo:page-number-citation ref-id="nsa-filter-chain-map"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-filter-chain-map" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-chain-map-attributes"><fo:inline font-family="monospace">&lt;filter-chain-map&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-chain-map-attributes"><fo:page-number-citation ref-id="nsa-filter-chain-map-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-chain-map-children">Child Elements of <fo:inline font-family="monospace">&lt;filter-chain-map&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-chain-map-children"><fo:page-number-citation ref-id="nsa-filter-chain-map-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-chain"><fo:inline font-family="monospace">&lt;filter-chain&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-chain"><fo:page-number-citation ref-id="nsa-filter-chain"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-filter-chain" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-chain-parents">Parent Elements of <fo:inline font-family="monospace">&lt;filter-chain&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-chain-parents"><fo:page-number-citation ref-id="nsa-filter-chain-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-chain-attributes"><fo:inline font-family="monospace">&lt;filter-chain&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-chain-attributes"><fo:page-number-citation ref-id="nsa-filter-chain-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-invocation-definition-source"><fo:inline font-family="monospace">&lt;filter-invocation-definition-source&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-invocation-definition-source"><fo:page-number-citation ref-id="nsa-filter-invocation-definition-source"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-filter-invocation-definition-source" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-invocation-definition-source-attributes"><fo:inline font-family="monospace">&lt;filter-invocation-definition-source&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-invocation-definition-source-attributes"><fo:page-number-citation ref-id="nsa-filter-invocation-definition-source-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-invocation-definition-source-children">Child Elements of <fo:inline font-family="monospace">&lt;filter-invocation-definition-source&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-invocation-definition-source-children"><fo:page-number-citation ref-id="nsa-filter-invocation-definition-source-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-security-metadata-source"><fo:inline font-family="monospace">&lt;filter-security-metadata-source&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-security-metadata-source"><fo:page-number-citation ref-id="nsa-filter-security-metadata-source"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-filter-security-metadata-source" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-security-metadata-source-attributes"><fo:inline font-family="monospace">&lt;filter-security-metadata-source&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-security-metadata-source-attributes"><fo:page-number-citation ref-id="nsa-filter-security-metadata-source-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-filter-security-metadata-source-children">Child Elements of <fo:inline font-family="monospace">&lt;filter-security-metadata-source&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-filter-security-metadata-source-children"><fo:page-number-citation ref-id="nsa-filter-security-metadata-source-children"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-authentication">B.2. Authentication Services</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-authentication"><fo:page-number-citation ref-id="nsa-authentication"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-authentication" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-authentication-manager"><fo:inline font-family="monospace">&lt;authentication-manager&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-authentication-manager"><fo:page-number-citation ref-id="nsa-authentication-manager"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-authentication-manager" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-authentication-manager-attributes"><fo:inline font-family="monospace">&lt;authentication-manager&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-authentication-manager-attributes"><fo:page-number-citation ref-id="nsa-authentication-manager-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-authentication-manager-children">Child Elements of <fo:inline font-family="monospace">&lt;authentication-manager&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-authentication-manager-children"><fo:page-number-citation ref-id="nsa-authentication-manager-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-authentication-provider"><fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-authentication-provider"><fo:page-number-citation ref-id="nsa-authentication-provider"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-authentication-provider" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-authentication-provider-parents">Parent Elements of <fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-authentication-provider-parents"><fo:page-number-citation ref-id="nsa-authentication-provider-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-authentication-provider-attributes"><fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-authentication-provider-attributes"><fo:page-number-citation ref-id="nsa-authentication-provider-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-authentication-provider-children">Child Elements of <fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-authentication-provider-children"><fo:page-number-citation ref-id="nsa-authentication-provider-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-jdbc-user-service"><fo:inline font-family="monospace">&lt;jdbc-user-service&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-jdbc-user-service"><fo:page-number-citation ref-id="nsa-jdbc-user-service"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-jdbc-user-service" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-jdbc-user-service-attributes"><fo:inline font-family="monospace">&lt;jdbc-user-service&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-jdbc-user-service-attributes"><fo:page-number-citation ref-id="nsa-jdbc-user-service-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-password-encoder"><fo:inline font-family="monospace">&lt;password-encoder&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-password-encoder"><fo:page-number-citation ref-id="nsa-password-encoder"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-password-encoder" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-password-encoder-parents">Parent Elements of <fo:inline font-family="monospace">&lt;password-encoder&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-password-encoder-parents"><fo:page-number-citation ref-id="nsa-password-encoder-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-password-encoder-attributes"><fo:inline font-family="monospace">&lt;password-encoder&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-password-encoder-attributes"><fo:page-number-citation ref-id="nsa-password-encoder-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-password-encoder-children">Child Elements of <fo:inline font-family="monospace">&lt;password-encoder&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-password-encoder-children"><fo:page-number-citation ref-id="nsa-password-encoder-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-salt-source"><fo:inline font-family="monospace">&lt;salt-source&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-salt-source"><fo:page-number-citation ref-id="nsa-salt-source"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-salt-source" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-salt-source-parents">Parent Elements of <fo:inline font-family="monospace">&lt;salt-source&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-salt-source-parents"><fo:page-number-citation ref-id="nsa-salt-source-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-salt-source-attributes"><fo:inline font-family="monospace">&lt;salt-source&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-salt-source-attributes"><fo:page-number-citation ref-id="nsa-salt-source-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-user-service"><fo:inline font-family="monospace">&lt;user-service&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-user-service"><fo:page-number-citation ref-id="nsa-user-service"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-user-service" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-user-service-attributes"><fo:inline font-family="monospace">&lt;user-service&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-user-service-attributes"><fo:page-number-citation ref-id="nsa-user-service-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-user-service-children">Child Elements of <fo:inline font-family="monospace">&lt;user-service&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-user-service-children"><fo:page-number-citation ref-id="nsa-user-service-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-user"><fo:inline font-family="monospace">&lt;user&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-user"><fo:page-number-citation ref-id="nsa-user"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-user" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-user-parents">Parent Elements of <fo:inline font-family="monospace">&lt;user&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-user-parents"><fo:page-number-citation ref-id="nsa-user-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-user-attributes"><fo:inline font-family="monospace">&lt;user&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-user-attributes"><fo:page-number-citation ref-id="nsa-user-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-method-security">B.3. Method Security</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-method-security"><fo:page-number-citation ref-id="nsa-method-security"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-method-security" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-global-method-security"><fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-global-method-security"><fo:page-number-citation ref-id="nsa-global-method-security"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-global-method-security" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-global-method-security-attributes"><fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-global-method-security-attributes"><fo:page-number-citation ref-id="nsa-global-method-security-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-global-method-security-children">Child Elements of <fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-global-method-security-children"><fo:page-number-citation ref-id="nsa-global-method-security-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-after-invocation-provider"><fo:inline font-family="monospace">&lt;after-invocation-provider&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-after-invocation-provider"><fo:page-number-citation ref-id="nsa-after-invocation-provider"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-after-invocation-provider" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-after-invocation-provider-parents">Parent Elements of <fo:inline font-family="monospace">&lt;after-invocation-provider&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-after-invocation-provider-parents"><fo:page-number-citation ref-id="nsa-after-invocation-provider-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-after-invocation-provider-attributes"><fo:inline font-family="monospace">&lt;after-invocation-provider&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-after-invocation-provider-attributes"><fo:page-number-citation ref-id="nsa-after-invocation-provider-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-pre-post-annotation-handling"><fo:inline font-family="monospace">&lt;pre-post-annotation-handling&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-pre-post-annotation-handling"><fo:page-number-citation ref-id="nsa-pre-post-annotation-handling"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-pre-post-annotation-handling" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-pre-post-annotation-handling-parents">Parent Elements of <fo:inline font-family="monospace">&lt;pre-post-annotation-handling&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-pre-post-annotation-handling-parents"><fo:page-number-citation ref-id="nsa-pre-post-annotation-handling-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-pre-post-annotation-handling-children">Child Elements of <fo:inline font-family="monospace">&lt;pre-post-annotation-handling&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-pre-post-annotation-handling-children"><fo:page-number-citation ref-id="nsa-pre-post-annotation-handling-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-invocation-attribute-factory"><fo:inline font-family="monospace">&lt;invocation-attribute-factory&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-invocation-attribute-factory"><fo:page-number-citation ref-id="nsa-invocation-attribute-factory"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-invocation-attribute-factory" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-invocation-attribute-factory-parents">Parent Elements of <fo:inline font-family="monospace">&lt;invocation-attribute-factory&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-invocation-attribute-factory-parents"><fo:page-number-citation ref-id="nsa-invocation-attribute-factory-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-invocation-attribute-factory-attributes"><fo:inline font-family="monospace">&lt;invocation-attribute-factory&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-invocation-attribute-factory-attributes"><fo:page-number-citation ref-id="nsa-invocation-attribute-factory-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-post-invocation-advice"><fo:inline font-family="monospace">&lt;post-invocation-advice&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-post-invocation-advice"><fo:page-number-citation ref-id="nsa-post-invocation-advice"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-post-invocation-advice" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-post-invocation-advice-parents">Parent Elements of <fo:inline font-family="monospace">&lt;post-invocation-advice&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-post-invocation-advice-parents"><fo:page-number-citation ref-id="nsa-post-invocation-advice-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-post-invocation-advice-attributes"><fo:inline font-family="monospace">&lt;post-invocation-advice&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-post-invocation-advice-attributes"><fo:page-number-citation ref-id="nsa-post-invocation-advice-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-pre-invocation-advice"><fo:inline font-family="monospace">&lt;pre-invocation-advice&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-pre-invocation-advice"><fo:page-number-citation ref-id="nsa-pre-invocation-advice"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-pre-invocation-advice" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-pre-invocation-advice-parents">Parent Elements of <fo:inline font-family="monospace">&lt;pre-invocation-advice&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-pre-invocation-advice-parents"><fo:page-number-citation ref-id="nsa-pre-invocation-advice-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-pre-invocation-advice-attributes"><fo:inline font-family="monospace">&lt;pre-invocation-advice&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-pre-invocation-advice-attributes"><fo:page-number-citation ref-id="nsa-pre-invocation-advice-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-protect-pointcut">Securing Methods using <fo:inline font-family="monospace">&lt;protect-pointcut&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-protect-pointcut"><fo:page-number-citation ref-id="nsa-protect-pointcut"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-protect-pointcut" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-protect-pointcut-parents">Parent Elements of <fo:inline font-family="monospace">&lt;protect-pointcut&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-protect-pointcut-parents"><fo:page-number-citation ref-id="nsa-protect-pointcut-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-protect-pointcut-attributes"><fo:inline font-family="monospace">&lt;protect-pointcut&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-protect-pointcut-attributes"><fo:page-number-citation ref-id="nsa-protect-pointcut-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-intercept-methods"><fo:inline font-family="monospace">&lt;intercept-methods&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-intercept-methods"><fo:page-number-citation ref-id="nsa-intercept-methods"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-intercept-methods" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-intercept-methods-attributes"><fo:inline font-family="monospace">&lt;intercept-methods&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-intercept-methods-attributes"><fo:page-number-citation ref-id="nsa-intercept-methods-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-intercept-methods-children">Child Elements of <fo:inline font-family="monospace">&lt;intercept-methods&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-intercept-methods-children"><fo:page-number-citation ref-id="nsa-intercept-methods-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-method-security-metadata-source"><fo:inline font-family="monospace">&lt;method-security-metadata-source&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-method-security-metadata-source"><fo:page-number-citation ref-id="nsa-method-security-metadata-source"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-method-security-metadata-source" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-method-security-metadata-source-attributes"><fo:inline font-family="monospace">&lt;method-security-metadata-source&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-method-security-metadata-source-attributes"><fo:page-number-citation ref-id="nsa-method-security-metadata-source-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-method-security-metadata-source-children">Child Elements of <fo:inline font-family="monospace">&lt;method-security-metadata-source&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-method-security-metadata-source-children"><fo:page-number-citation ref-id="nsa-method-security-metadata-source-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-protect"><fo:inline font-family="monospace">&lt;protect&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-protect"><fo:page-number-citation ref-id="nsa-protect"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-protect" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-protect-parents">Parent Elements of <fo:inline font-family="monospace">&lt;protect&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-protect-parents"><fo:page-number-citation ref-id="nsa-protect-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-protect-attributes"><fo:inline font-family="monospace">&lt;protect&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-protect-attributes"><fo:page-number-citation ref-id="nsa-protect-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-ldap">B.4. LDAP Namespace Options</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-ldap"><fo:page-number-citation ref-id="nsa-ldap"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-ldap" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-ldap-server">Defining the LDAP Server using the <fo:inline font-family="monospace">&lt;ldap-server&gt;</fo:inline>
                Element</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-ldap-server"><fo:page-number-citation ref-id="nsa-ldap-server"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-ldap-server" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-ldap-server-attributes"><fo:inline font-family="monospace">&lt;ldap-server&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-ldap-server-attributes"><fo:page-number-citation ref-id="nsa-ldap-server-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-ldap-authentication-provider"><fo:inline font-family="monospace">&lt;ldap-authentication-provider&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-ldap-authentication-provider"><fo:page-number-citation ref-id="nsa-ldap-authentication-provider"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-ldap-authentication-provider" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-ldap-authentication-provider-parents">Parent Elements of <fo:inline font-family="monospace">&lt;ldap-authentication-provider&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-ldap-authentication-provider-parents"><fo:page-number-citation ref-id="nsa-ldap-authentication-provider-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-ldap-authentication-provider-attributes"><fo:inline font-family="monospace">&lt;ldap-authentication-provider&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-ldap-authentication-provider-attributes"><fo:page-number-citation ref-id="nsa-ldap-authentication-provider-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-ldap-authentication-provider-children">Child Elements of <fo:inline font-family="monospace">&lt;ldap-authentication-provider&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-ldap-authentication-provider-children"><fo:page-number-citation ref-id="nsa-ldap-authentication-provider-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-password-compare"><fo:inline font-family="monospace">&lt;password-compare&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-password-compare"><fo:page-number-citation ref-id="nsa-password-compare"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-password-compare" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-password-compare-parents">Parent Elements of <fo:inline font-family="monospace">&lt;password-compare&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-password-compare-parents"><fo:page-number-citation ref-id="nsa-password-compare-parents"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-password-compare-attributes"><fo:inline font-family="monospace">&lt;password-compare&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-password-compare-attributes"><fo:page-number-citation ref-id="nsa-password-compare-attributes"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-password-compare-children">Child Elements of <fo:inline font-family="monospace">&lt;password-compare&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-password-compare-children"><fo:page-number-citation ref-id="nsa-password-compare-children"/></fo:basic-link></fo:inline></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-ldap-user-service"><fo:inline font-family="monospace">&lt;ldap-user-service&gt;</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-ldap-user-service"><fo:page-number-citation ref-id="nsa-ldap-user-service"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.nsa-ldap-user-service" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="nsa-ldap-user-service-attributes"><fo:inline font-family="monospace">&lt;ldap-user-service&gt;</fo:inline> Attributes</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="nsa-ldap-user-service-attributes"><fo:page-number-citation ref-id="nsa-ldap-user-service-attributes"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="appendix-dependencies">C. Spring Security Dependencies</fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="appendix-dependencies"><fo:page-number-citation ref-id="appendix-dependencies"/></fo:basic-link></fo:inline></fo:block><fo:block id="toc.spring-security-reference-guide.appendix-dependencies" margin-left="24pt"><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e11744">C.1. <fo:inline font-family="monospace">spring-security-core</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e11744"><fo:page-number-citation ref-id="d0e11744"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e11834">C.2. <fo:inline font-family="monospace">spring-security-remoting</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e11834"><fo:page-number-citation ref-id="d0e11834"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e11869">C.3. <fo:inline font-family="monospace">spring-security-web</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e11869"><fo:page-number-citation ref-id="d0e11869"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e11918">C.4. <fo:inline font-family="monospace">spring-security-ldap</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e11918"><fo:page-number-citation ref-id="d0e11918"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e12005">C.5. <fo:inline font-family="monospace">spring-security-config</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e12005"><fo:page-number-citation ref-id="d0e12005"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e12059">C.6. <fo:inline font-family="monospace">spring-security-acl</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e12059"><fo:page-number-citation ref-id="d0e12059"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e12109">C.7. <fo:inline font-family="monospace">spring-security-cas</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e12109"><fo:page-number-citation ref-id="d0e12109"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e12157">C.8. <fo:inline font-family="monospace">spring-security-openid</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e12157"><fo:page-number-citation ref-id="d0e12157"/></fo:basic-link></fo:inline></fo:block><fo:block text-align-last="justify" text-align="start" end-indent="24pt" last-line-end-indent="-24pt"><fo:inline keep-with-next.within-line="always"><fo:basic-link internal-destination="d0e12211">C.9. <fo:inline font-family="monospace">spring-security-taglibs</fo:inline></fo:basic-link></fo:inline><fo:inline keep-together.within-line="always"> <fo:leader leader-pattern="dots" leader-pattern-width="3pt" leader-alignment="reference-area" keep-with-next.within-line="always"/> <fo:basic-link internal-destination="d0e12211"><fo:page-number-citation ref-id="d0e12211"/></fo:basic-link></fo:inline></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="front" language="en" format="i" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="preface"><fo:block><fo:block><fo:block margin-left="0cm" font-size="24.8832pt" font-family="sans-serif,Symbol,ZapfDingbats" font-weight="bold"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Preface</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security provides a comprehensive security solution for J2EE-based enterprise
            software applications. As you will discover as you venture through this reference guide,
            we have tried to provide you a useful and highly configurable security system.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Security is an ever-moving target, and it's important to pursue a comprehensive,
            system-wide approach. In security circles we encourage you to adopt "layers of
            security", so that each layer tries to be as secure as possible in its own right, with
            successive layers providing additional security. The "tighter" the security of each
            layer, the more robust and safe your application will be. At the bottom level you'll
            need to deal with issues such as transport security and system identification, in order
            to mitigate man-in-the-middle attacks. Next you'll generally utilise firewalls, perhaps
            with VPNs or IP security to ensure only authorised systems can attempt to connect. In
            corporate environments you may deploy a DMZ to separate public-facing servers from
            backend database and application servers. Your operating system will also play a
            critical part, addressing issues such as running processes as non-privileged users and
            maximising file system security. An operating system will usually also be configured
            with its own firewall. Hopefully somewhere along the way you'll be trying to prevent
            denial of service and brute force attacks against the system. An intrusion detection
            system will also be especially useful for monitoring and responding to attacks, with
            such systems able to take protective action such as blocking offending TCP/IP addresses
            in real-time. Moving to the higher layers, your Java Virtual Machine will hopefully be
            configured to minimize the permissions granted to different Java types, and then your
            application will add its own problem domain-specific security configuration. Spring
            Security makes this latter area - application security - much easier. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Of course, you will need to properly address all security layers mentioned above,
            together with managerial factors that encompass every layer. A non-exhaustive list of
            such managerial factors would include security bulletin monitoring, patching, personnel
            vetting, audits, change control, engineering management systems, data backup, disaster
            recovery, performance benchmarking, load monitoring, centralised logging, incident
            response procedures etc.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">With Spring Security being focused on helping you with the enterprise application
            security layer, you will find that there are as many different requirements as there are
            business problem domains. A banking application has different needs from an ecommerce
            application. An ecommerce application has different needs from a corporate sales force
            automation tool. These custom requirements make application security interesting,
            challenging and rewarding. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Please read <fo:basic-link internal-destination="getting-started"><fo:inline>Part I, “Getting Started”</fo:inline></fo:basic-link>, in its entirety to begin with. This
            will introduce you to the framework and the namespace-based configuration system with
            which you can get up and running quite quickly. To get more of an understanding of how
            Spring Security works, and some of the classes you might need to use, you should then
            read <fo:basic-link internal-destination="overall-architecture"><fo:inline>Part II, “Architecture and Implementation”</fo:inline></fo:basic-link>. The remaining parts of this guide are
            structured in a more traditional reference style, designed to be read on an as-required
            basis. We'd also recommend that you read up as much as possible on application security
            issues in general. Spring Security is not a panacea which will solve all security
            issues. It is important that the application is designed with security in mind from the
            start. Attempting to retrofit it is not a good idea. In particular, if you are building
            a web application, you should be aware of the many potential vulnerabilities such as
            cross-site scripting, request-forgery and session-hijacking which you should be taking
            into account from the start. The OWASP web site (http://www.owasp.org/) maintains a top
            ten list of web application vulnerabilities as well as a lot of useful reference
            information. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We hope that you find this reference guide useful, and we welcome your feedback and
                <fo:basic-link internal-destination="jira"><fo:inline>suggestions</fo:inline></fo:basic-link>. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Finally, welcome to the Spring Security <fo:basic-link internal-destination="community"><fo:inline>community</fo:inline></fo:basic-link>. </fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="titlepage" language="en" format="1" initial-page-number="1" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="getting-started"><fo:block><fo:block><fo:block text-align="center" font-size="24.8832pt" space-before="18.6624pt" font-weight="bold" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always" hyphenate="false">Part I. Getting Started</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The later parts of this guide provide an in-depth discussion of the framework
                architecture and implementation classes, which you need to understand if you want to
                do any serious customization. In this part, we'll introduce Spring Security 3.0,
                give a brief overview of the project's history and take a slightly gentler look at
                how to get started using the framework. In particular, we'll look at namespace
                configuration which provides a much simpler way of securing your application
                compared to the traditional Spring bean approach where you have to wire up all the
                implementation classes individually. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> We'll also take a look at the sample applications that are available. It's worth
                trying to run these and experimenting with them a bit even before you read the later
                sections - you can dip back into them as your understanding of the framework
                increases. Please also check out the <fo:basic-link external-destination="url(http://static.springsource.org/spring-security/site/index.html)"><fo:inline>project website</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://static.springsource.org/spring-security/site/index.html)">http://static.springsource.org/spring-security/site/index.html</fo:basic-link>]</fo:inline> as it has useful information on building the project,
                plus links to articles, videos and tutorials. </fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="introduction"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="what-is-acegi-security"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">What is Spring Security?</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">1.1 What is Spring Security?</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security provides comprehensive security services for J2EE-based enterprise
            software applications. There is a particular emphasis on supporting projects built using
            The Spring Framework, which is the leading J2EE solution for enterprise software
            development. If you're not using Spring for developing enterprise applications, we
            warmly encourage you to take a closer look at it. Some familiarity with Spring - and in
            particular dependency injection principles - will help you get up to speed with Spring
            Security more easily.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">People use Spring Security for many reasons, but most are drawn to the project after
            finding the security features of J2EE's Servlet Specification or EJB Specification lack
            the depth required for typical enterprise application scenarios. Whilst mentioning these
            standards, it's important to recognise that they are not portable at a WAR or EAR level.
            Therefore, if you switch server environments, it is typically a lot of work to
            reconfigure your application's security in the new target environment. Using Spring
            Security overcomes these problems, and also brings you dozens of other useful,
            customisable security features.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As you probably know two major areas of application security are
            <fo:inline>“authentication”</fo:inline> and <fo:inline>“authorization”</fo:inline> (or
            <fo:inline>“access-control”</fo:inline>). These are the two main areas that Spring Security
            targets. <fo:inline>“Authentication”</fo:inline> is the process of establishing a principal is who
            they claim to be (a <fo:inline>“principal”</fo:inline> generally means a user, device or some
            other system which can perform an action in your application).
            <fo:inline>“Authorization”</fo:inline> refers to the process of deciding whether a principal is
            allowed to perform an action within your application. To arrive at the point where an
            authorization decision is needed, the identity of the principal has already been
            established by the authentication process. These concepts are common, and not at all
            specific to Spring Security. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">At an authentication level, Spring Security supports a wide range of authentication
            models. Most of these authentication models are either provided by third parties, or are
            developed by relevant standards bodies such as the Internet Engineering Task Force. In
            addition, Spring Security provides its own set of authentication features. Specifically,
            Spring Security currently supports authentication integration with all of these
            technologies:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e89"><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e90"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>HTTP BASIC authentication headers (an IETF RFC-based standard)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e93"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>HTTP Digest authentication headers (an IETF RFC-based standard)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e96"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>HTTP X.509 client certificate exchange (an IETF RFC-based standard)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e99"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>LDAP (a very common approach to cross-platform authentication needs,
                    especially in large environments)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e102"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Form-based authentication (for simple user interface needs)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e105"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>OpenID authentication</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e108"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Authentication based on pre-established request headers (such as Computer
                    Associates Siteminder)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e111"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>JA-SIG Central Authentication Service (otherwise known as CAS, which is a
                    popular open source single sign-on system)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e114"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Transparent authentication context propagation for Remote Method Invocation
                    (RMI) and HttpInvoker (a Spring remoting protocol)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e117"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Automatic "remember-me" authentication (so you can tick a box to avoid
                    re-authentication for a predetermined period of time)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e120"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Anonymous authentication (allowing every unauthenticated call to automatically assume a
                    particular security identity)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e123"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Run-as authentication (which is useful if one call should proceed with a
                    different security identity)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e126"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Java Authentication and Authorization Service (JAAS)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e129"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>JEE container autentication (so you can still use Container Managed
                    Authentication if desired)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e132"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Kerberos</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e135"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Java Open Source Single Sign On (JOSSO) *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e138"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>OpenNMS Network Management Platform *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e141"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>AppFuse *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e144"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>AndroMDA *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e147"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Mule ESB *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e150"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Direct Web Request (DWR) *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e153"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Grails *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e156"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Tapestry *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e159"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>JTrac *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e162"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Jasypt *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e165"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Roller *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e168"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Elastic Path *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e171"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Atlassian Crowd *</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e174"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Your own authentication systems (see below)</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">(* Denotes provided by a third party</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Many independent software vendors (ISVs) adopt Spring Security because of this
            significant choice of flexible authentication models. Doing so allows them to quickly
            integrate their solutions with whatever their end clients need, without undertaking a
            lot of engineering or requiring the client to change their environment. If none of the
            above authentication mechanisms suit your needs, Spring Security is an open platform and
            it is quite simple to write your own authentication mechanism. Many corporate users of
            Spring Security need to integrate with "legacy" systems that don't follow any particular
            security standards, and Spring Security is happy to "play nicely" with such
            systems.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Irrespective of the authentication mechanism, Spring Security provides a deep set
            of authorization capabilities. There are three main areas of interest 
            - authorizing web requests, authorizing whether methods can be
            invoked, and authorizing access to individual domain object instances. To help you
            understand the differences, consider the authorization capabilities found in the Servlet
            Specification web pattern security, EJB Container Managed Security and file system
            security respectively. Spring Security provides deep capabilities in all of these
            important areas, which we'll explore later in this reference guide.</fo:block></fo:block><fo:block id="history"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">History</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">1.2 History</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security began in late 2003 as <fo:inline>“The Acegi Security System for
            Spring”</fo:inline>. A question was posed on the Spring Developers' mailing list asking
            whether there had been any consideration given to a Spring-based security
            implementation. At the time the Spring community was relatively small (especially
            compared with the size today!), and indeed Spring itself had only existed as a
            SourceForge project from early 2003. The response to the question was that it was a
            worthwhile area, although a lack of time currently prevented its exploration.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">With that in mind, a simple security implementation was built and not released. A few
            weeks later another member of the Spring community inquired about security, and at the
            time this code was offered to them. Several other requests followed, and by January 2004
            around twenty people were using the code. These pioneering users were joined by others
            who suggested a SourceForge project was in order, which was duly established in March
            2004.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In those early days, the project didn't have any of its own authentication modules.
            Container Managed Security was relied upon for the authentication process, with Acegi
            Security instead focusing on authorization. This was suitable at first, but as more and
            more users requested additional container support, the fundamental limitation of
            container-specific authentication realm interfaces became clear. There was also a
            related issue of adding new JARs to the container's classpath, which was a common source
            of end user confusion and misconfiguration.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Acegi Security-specific authentication services were subsequently introduced. Around a
            year later, Acegi Security became an official Spring Framework subproject. The 1.0.0
            final release was published in May 2006 - after more than two and a half years of active
            use in numerous production software projects and many hundreds of improvements and
            community contributions.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Acegi Security became an official Spring Portfolio project towards the end of 2007 and
            was rebranded as <fo:inline>“Spring Security”</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Today Spring Security enjoys a strong and active open source community. There are
            thousands of messages about Spring Security on the support forums. There is an active
            core of developers who work on the code itself and an active community which also
            regularly share patches and support their peers.</fo:block></fo:block><fo:block id="release-numbering"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Release Numbering</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">1.3 Release Numbering</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It is useful to understand how Spring Security release numbers work, as it will help
            you identify the effort (or lack thereof) involved in migrating to future releases of
            the project. Each release uses a standard triplet of integers: MAJOR.MINOR.PATCH. The
            intent is that MAJOR versions are incompatible, large-scale upgrades of the API. MINOR
            versions should largely retain source and binary compatibility with older minor
            versions, thought there may be some design changes and incompatible udates. PATCH level
            should be perfectly compatible, forwards and backwards, with the possible exception of
            changes which are to fix bugs and defects.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The extent to which you are affected by changes will depend on how tightly integrated
            your code is. If you are doing a lot of customization you are more likely to be affected
            than if you are using a simple namespace configuration.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should always test your application thoroughly before rolling out a new
            version.</fo:block></fo:block><fo:block id="get-spring-security"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Getting Spring Security</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">1.4 Getting Spring Security</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can get hold of Spring Security in several ways. You can download a packaged
            distribution from the main Spring <fo:basic-link external-destination="url(http://www.springsource.com/download/community?project=Spring%20Security)"><fo:inline>download page</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://www.springsource.com/download/community?project=Spring%20Security)">http://www.springsource.com/download/community?project=Spring%20Security</fo:basic-link>]</fo:inline>, download individual jars (and sample WAR files) from the Maven
            Central repository (or a SpringSource Maven repository for snapshot and milestone
            releases) or, alternatively, you can build the project from source yourself. See the
            project web site for more details. </fo:block><fo:block id="modules"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Project Modules</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Project Modules</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In Spring Security 3.0, the codebase has been sub-divided into separate jars which
                more clearly separate different functionaltiy areas and third-party dependencies. If
                you are using Maven to build your project, then these are the modules you will add
                to your <fo:inline font-family="monospace">pom.xml</fo:inline>. Even if you're not using Maven, we'd recommend
                that you consult the <fo:inline font-family="monospace">pom.xml</fo:inline> files to get an idea of
                third-party dependencies and versions. Alternatively, a good idea is to examine the
                libraries that are included in the sample applications.</fo:block><fo:block id="spring-security-core"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Core - <fo:inline font-family="monospace">spring-security-core.jar</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Contains core authentication and access-contol classes and interfaces,
                    remoting support and basic provisioning APIs. Required by any application which
                    uses Spring Security. Supports standalone applications, remote clients, method
                    (service layer) security and JDBC user provisioning. Contains the top-level packages:<fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e240"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e241"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">org.springframework.security.core</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e245"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">org.springframework.security.access</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e249"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">org.springframework.security.authentication</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e253"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">org.springframework.security.provisioning</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="spring-security-remoting"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Remoting - <fo:inline font-family="monospace">spring-security-remoting.jar</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Provides intergration with Spring Remoting. You don't need this unless you are
                    writing a remote client which uses Spring Remoting. The main package is
                    <fo:inline font-family="monospace">org.springframework.security.remoting</fo:inline>.</fo:block></fo:block><fo:block id="spring-security-web"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Web - <fo:inline font-family="monospace">spring-security-web.jar</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Contains filters and related web-security infrastructure code. Anything with a
                    servlet API dependency. You'll need it if you require Spring Security web
                    authentication services and URL-based access-control. The main package is
                    <fo:inline font-family="monospace">org.springframework.security.web</fo:inline>.</fo:block></fo:block><fo:block id="spring-security-config"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Config - <fo:inline font-family="monospace">spring-security-config.jar</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Contains the security namespace parsing code. You need it if you are using the
                    Spring Security XML namespace for configuration. The main package is
                    <fo:inline font-family="monospace">org.springframework.security.config</fo:inline>. None of the
                    classes are intended for direct use in an application.</fo:block></fo:block><fo:block id="spring-security-ldap"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">LDAP - <fo:inline font-family="monospace">spring-security-ldap.jar</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">LDAP authentication and provisioning code. Required if you need to use LDAP
                    authentication or manage LDAP user entries. The top-level package is
                    <fo:inline font-family="monospace">org.springframework.security.ldap</fo:inline>.</fo:block></fo:block><fo:block id="spring-security-acl"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">ACL - <fo:inline font-family="monospace">spring-security-acl.jar</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specialized domain object ACL implementation. Used to apply security to
                    specific domain object instances within your application. The top-level package
                    is <fo:inline font-family="monospace">org.springframework.security.acls</fo:inline>.</fo:block></fo:block><fo:block id="spring-security-cas"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">CAS - <fo:inline font-family="monospace">spring-security-cas.jar</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security's CAS client integration. If you want to use Spring Security
                    web authentication with a CAS single sign-on server. The top-level package is
                    <fo:inline font-family="monospace">org.springframework.security.cas</fo:inline>.</fo:block></fo:block><fo:block id="spring-security-openid"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">OpenID - <fo:inline font-family="monospace">spring-security-openid.jar</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">OpenID web authentication support. Used to authenticate users against an
                    external OpenID server. <fo:inline font-family="monospace">org.springframework.security.openid</fo:inline>.
                    Requires OpenID4Java.</fo:block></fo:block></fo:block><fo:block id="get-source"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Checking out the Source</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Checking out the Source</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Since Spring Security is an Open Source project, we'd strongly encourage you to
                check out the source code using git. This will give you full access to all the
                sample applications and you can build the most up to date version of the project
                easily. Having the source for a project is also a huge help in debugging. Exception
                stack traces are no longer obscure black-box issues but you can get straight to the
                line that's causing the problem and work out what's happening. The source is the
                ultimate documentation for a project and often the simplest place to find out how
                something actually works. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To obtain the source for the project, use the following git command:
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e334">
  git clone git://git.springsource.org/spring-security/spring-security.git
    </fo:block>
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This will give you access to the entire project history (including all releases
            and branches) on your local machine.</fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="new-3.1"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This section contains summary of the updates found in Spring Security 3.1. A detailed list of changes can be found in the project's
    <fo:basic-link external-destination="url(https://jira.springsource.org/secure/IssueNavigator!executeAdvanced.jspa?jqlQuery=project+%3D+SEC+AND+fixVersion+in+%2812315%2C+11892%2C+11634%2C+11633%2C+11632%2C+11174%29+order+by+priority%2C+type&amp;runQuery=true&amp;clear=true)"><fo:inline>JIRA</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(https://jira.springsource.org/secure/IssueNavigator!executeAdvanced.jspa?jqlQuery=project+%3D+SEC+AND+fixVersion+in+%2812315%2C+11892%2C+11634%2C+11633%2C+11632%2C+11174%29+order+by+priority%2C+type&amp;runQuery=true&amp;clear=true)">https://jira.springsource.org/secure/IssueNavigator!executeAdvanced.jspa?jqlQuery=project+%3D+SEC+AND+fixVersion+in+%2812315%2C+11892%2C+11634%2C+11633%2C+11632%2C+11174%29+order+by+priority%2C+type&amp;runQuery=true&amp;clear=true</fo:basic-link>]</fo:inline></fo:block><fo:block id="new-3.1-highlevel"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">High level updates found Spring Security 3.1</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">2.1 High level updates found Spring Security 3.1</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Below you can find a high level summary of updates to Spring Security 3.1.</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e352"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e353"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Support for multiple http elements</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e355"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Support for stateless authentication</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e357"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>DebugFilter provides additional debugging information</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e359"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Improved Active Directory LDAP support (i.e. ActiveDirectoryLdapAuthenticationProvider)</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e361"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added Basic Crypto Module.</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e363"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>The namespace is fully documented in the reference appendix.</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e365"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added dependencies section to the reference appendix</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e367"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Support HttpOnly Flag for Cookies in Servlet 3.0 environments</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e369"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>InMemoryUserDetailsManager provides in memory implementation of UserDetailsManager</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e371"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Support for hasPermission expression on the authorize JSP tag</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e373"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Support for disabling UI security (for testing purposes)</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e375"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Support erasing credentials after successful authentication</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e377"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Support clearing cookies on logout</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e379"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Spring Security Google App Engine example application</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e381"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Support for CAS proxy tickets</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e383"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Support for arbitrary implementations of JAAS Configuration</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e385"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Support nested switching of users for SwitchUserFilter</fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="new-3.1-ns"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Spring Security 3.1 namespace updates</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">2.2 Spring Security 3.1 namespace updates</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Below you can find a summary of updates to the Spring Security 3.1 namespace.</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e392"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e393"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added support for multiple <fo:basic-link internal-destination="nsa-http"><fo:inline>&lt;http&gt;</fo:inline></fo:basic-link> elements and support for determining which one to use with
                <fo:basic-link internal-destination="nsa-http-pattern"><fo:inline>http@pattern</fo:inline></fo:basic-link>, <fo:basic-link internal-destination="nsa-http-request-matcher"><fo:inline>http@request-matcher</fo:inline></fo:basic-link>, and
                <fo:basic-link internal-destination="nsa-http-security"><fo:inline>http@security</fo:inline></fo:basic-link>.
                Further information can be found in <fo:basic-link internal-destination="ns-config"><fo:inline>Namespace Configuration</fo:inline></fo:basic-link> section of the reference.</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e410"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added stateless option for <fo:basic-link internal-destination="nsa-http-create-session"><fo:inline>http@create-session</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e414"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added support for <fo:basic-link internal-destination="nsa-http-authentication-manager-ref"><fo:inline>http@authentication-manager-ref</fo:inline></fo:basic-link>
                and <fo:basic-link internal-destination="nsa-global-method-security-authentication-manager-ref"><fo:inline>global-method-security@authentication-manager-ref</fo:inline></fo:basic-link>.</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e422"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-http-name"><fo:inline>http@name</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e426"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-http-request-matcher-ref"><fo:inline>http@request-matcher-ref</fo:inline></fo:basic-link> and
                <fo:basic-link internal-destination="nsa-filter-chain-request-matcher-ref"><fo:inline>filter-chain@request-matcher-ref</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e433"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-debug"><fo:inline>&lt;debug&gt;</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e437"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added Support for setting the AuthenticationDetailsSource using the namespace. See
                <fo:basic-link internal-destination="nsa-form-login-authentication-details-source-ref"><fo:inline>form-login@authentication-details-source-ref</fo:inline></fo:basic-link>,
                <fo:basic-link internal-destination="nsa-openid-login-authentication-details-source-ref"><fo:inline>openid-login@authentication-details-source-ref</fo:inline></fo:basic-link>,
                <fo:basic-link internal-destination="nsa-http-basic-authentication-details-source-ref"><fo:inline>http-basic@authentication-details-source-ref</fo:inline></fo:basic-link>, and
                <fo:basic-link internal-destination="nsa-x509-authentication-details-source-ref"><fo:inline>x509@authentication-details-source-ref</fo:inline></fo:basic-link>.</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e451"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added support for http/expression-handler. This allows
                <fo:basic-link internal-destination="nsa-expression-handler"><fo:inline>&lt;expression-handler&gt;</fo:inline></fo:basic-link> to be used for web access expressions.</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e456"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-authentication-manager-erase-credentials"><fo:inline>authentication-manager@erase-credentials</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e460"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-http-basic-entry-point-ref"><fo:inline>http-basic@entry-point-ref</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e464"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-logout-delete-cookies"><fo:inline>logout@delete-cookies</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e468"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-remember-me-authentication-success-handler-ref"><fo:inline>remember-me@authentication-success-handler-ref</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e472"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-method-security-metadata-source"><fo:inline>&lt;metadata-source-ref&gt;</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e476"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-global-method-security-metadata-source-ref"><fo:inline>global-method-security@metadata-source-ref</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e480"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-global-method-security-mode"><fo:inline>global-method-security@mode</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e484"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-attribute-exchange"><fo:inline>&lt;attribute-exchange&gt;</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e488"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-remember-me-use-secure-cookie"><fo:inline>remember-me@use-secure-cookie</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e492"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-http-jaas-api-provision"><fo:inline>http@jaas-api-provision</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e496"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>Added <fo:basic-link internal-destination="nsa-form-login-username-parameter"><fo:inline>form-login@username-parameter</fo:inline></fo:basic-link> and
                <fo:basic-link internal-destination="nsa-form-login-password-parameter"><fo:inline>form-login@password-parameter</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="ns-config"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="d0e507"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Introduction</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">3.1 Introduction</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Namespace configuration has been available since version 2.0 of the Spring framework.
            It allows you to supplement the traditional Spring beans application context syntax with
            elements from additional XML schema. You can find more information in the Spring <fo:basic-link external-destination="url(http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/htmlsingle/spring-framework-reference.html)"><fo:inline> Reference Documentation</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/htmlsingle/spring-framework-reference.html)">http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/htmlsingle/spring-framework-reference.html</fo:basic-link>]</fo:inline>. A namespace element can be used simply to allow a more
            concise way of configuring an individual bean or, more powerfully, to define an
            alternative configuration syntax which more closely matches the problem domain and hides
            the underlying complexity from the user. A simple element may conceal the fact that
            multiple beans and processing steps are being added to the application context. For
            example, adding the following element from the security namespace to an application
            context will start up an embedded LDAP server for testing use within the application: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e515">
  <fo:inline font-weight="bold">&lt;security:ldap-server /&gt;</fo:inline>
</fo:block> This is much simpler than wiring up the equivalent Apache Directory Server
            beans. The most common alternative configuration requirements are supported by
            attributes on the <fo:inline font-family="monospace">ldap-server</fo:inline> element and the user is isolated from
            worrying about which beans they need to create and what the bean property names are. <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>You can find out more about the use of the <fo:inline font-family="monospace">ldap-server</fo:inline> element
                in the chapter on <fo:basic-link internal-destination="ldap"><fo:inline>LDAP</fo:inline></fo:basic-link>.</fo:block></fo:footnote-body></fo:footnote>. Use of a good XML editor while editing the application context file should
            provide information on the attributes and elements that are available. We would
            recommend that you try out the <fo:basic-link external-destination="url(http://www.springsource.com/products/sts)"><fo:inline>SpringSource Tool Suite</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://www.springsource.com/products/sts)">http://www.springsource.com/products/sts</fo:basic-link>]</fo:inline> as
            it has special features for working with standard Spring namespaces. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> To start using the security namespace in your application context, you need to have
            the <fo:inline font-family="monospace">spring-security-config</fo:inline> jar on your classpath. Then all you need
            to do is add the schema declaration to your application context file: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e539">
  
<fo:inline font-weight="bold">&lt;beans</fo:inline> <fo:inline font-weight="bold">xmlns</fo:inline>=<fo:inline font-weight="bold">"http://www.springframework.org/schema/beans"</fo:inline>
  <fo:inline font-weight="bold">xmlns:security</fo:inline>=<fo:inline font-weight="bold">"http://www.springframework.org/schema/security"</fo:inline>
  <fo:inline font-weight="bold">xmlns:xsi</fo:inline>=<fo:inline font-weight="bold">"http://www.w3.org/2001/XMLSchema-instance"</fo:inline>
  <fo:inline font-weight="bold">xsi:schemaLocation</fo:inline>=<fo:inline font-weight="bold">"http://www.springframework.org/schema/beans
          http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
          http://www.springframework.org/schema/security
          http://www.springframework.org/schema/security/spring-security-3.1.xsd"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    ...
<fo:inline font-weight="bold">&lt;/beans&gt;</fo:inline>
  </fo:block> In many of the examples you will see (and in the sample) applications, we
            will often use "security" as the default namespace rather than "beans", which means we
            can omit the prefix on all the security namespace elements, making the content easier to
            read. You may also want to do this if you have your application context divided up into
            separate files and have most of your security configuration in one of them. Your
            security application context file would then start like this <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e542">
<fo:inline font-weight="bold">&lt;beans:beans</fo:inline> <fo:inline font-weight="bold">xmlns</fo:inline>=<fo:inline font-weight="bold">"http://www.springframework.org/schema/security"</fo:inline>
  <fo:inline font-weight="bold">xmlns:beans</fo:inline>=<fo:inline font-weight="bold">"http://www.springframework.org/schema/beans"</fo:inline>
  <fo:inline font-weight="bold">xmlns:xsi</fo:inline>=<fo:inline font-weight="bold">"http://www.w3.org/2001/XMLSchema-instance"</fo:inline>
  <fo:inline font-weight="bold">xsi:schemaLocation</fo:inline>=<fo:inline font-weight="bold">"http://www.springframework.org/schema/beans
           http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
           http://www.springframework.org/schema/security
           http://www.springframework.org/schema/security/spring-security-3.1.xsd"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    ...
<fo:inline font-weight="bold">&lt;/beans:beans&gt;</fo:inline>
</fo:block> We'll assume this syntax is being used from now on in this chapter. </fo:block><fo:block id="d0e545"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Design of the Namespace</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Design of the Namespace</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The namespace is designed to capture the most common uses of the framework and
                provide a simplified and concise syntax for enabling them within an application. The
                design is based around the large-scale dependencies within the framework, and can be
                divided up into the following areas: <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e550"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e551"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block> <fo:inline font-style="italic">Web/HTTP Security</fo:inline> - the most complex part. Sets up
                        the filters and related service beans used to apply the framework
                        authentication mechanisms, to secure URLs, render login and error pages and
                        much more.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e557"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block> <fo:inline font-style="italic">Business Object (Method) Security</fo:inline> - options for
                        securing the service layer.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e563"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block> <fo:inline font-style="italic">AuthenticationManager</fo:inline> - handles authentication
                        requests from other parts of the framework.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e569"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block> <fo:inline font-style="italic">AccessDecisionManager</fo:inline> - provides access decisions
                        for web and method security. A default one will be registered, but you can
                        also choose to use a custom one, declared using normal Spring bean
                        syntax.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e575"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block> <fo:inline font-style="italic">AuthenticationProvider</fo:inline>s - mechanisms against which
                        the authentication manager authenticates users. The namespace provides
                        supports for several standard options and also a means of adding custom
                        beans declared using a traditional syntax. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e581"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block> <fo:inline font-style="italic">UserDetailsService</fo:inline> - closely related to
                        authentication providers, but often also required by other beans.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We'll see how to configure these in the following sections.</fo:block></fo:block></fo:block><fo:block id="ns-getting-started"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Getting Started with Security Namespace Configuration</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">3.2 Getting Started with Security Namespace Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> In this section, we'll look at how you can build up a namespace configuration to use
            some of the main features of the framework. Let's assume you initially want to get up
            and running as quickly as possible and add authentication support and access control to
            an existing web application, with a few test logins. Then we'll look at how to change
            over to authenticating against a database or other security repository. In later
            sections we'll introduce more advanced namespace configuration options. </fo:block><fo:block id="ns-web-xml"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">web.xml</fo:inline> Configuration</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">web.xml</fo:inline> Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The first thing you need to do is add the following filter declaration to your
                <fo:inline font-family="monospace">web.xml</fo:inline> file: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e605">
<fo:inline font-weight="bold">&lt;filter&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;filter-name&gt;</fo:inline>springSecurityFilterChain<fo:inline font-weight="bold">&lt;/filter-name&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;filter-class&gt;</fo:inline>org.springframework.web.filter.DelegatingFilterProxy<fo:inline font-weight="bold">&lt;/filter-class&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/filter&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;filter-mapping&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;filter-name&gt;</fo:inline>springSecurityFilterChain<fo:inline font-weight="bold">&lt;/filter-name&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;url-pattern&gt;</fo:inline>/*<fo:inline font-weight="bold">&lt;/url-pattern&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/filter-mapping&gt;</fo:inline>
      </fo:block> This provides a hook into the Spring Security web
                infrastructure. <fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline> is a Spring Framework
                class which delegates to a filter implementation which is defined as a Spring bean
                in your application context. In this case, the bean is named
                <fo:inline>“springSecurityFilterChain”</fo:inline>, which is an internal infrastructure bean
                created by the namespace to handle web security. Note that you should not use this
                bean name yourself. Once you've added this to your <fo:inline font-family="monospace">web.xml</fo:inline>,
                you're ready to start editing your application context file. Web security services
                are configured using the <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> element. </fo:block></fo:block><fo:block id="ns-minimal"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">A Minimal <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> Configuration</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">A Minimal <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> All you need to enable web security to begin with is <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e628">
  <fo:inline font-weight="bold">&lt;http</fo:inline> <fo:inline font-weight="bold">auto-config</fo:inline>=<fo:inline font-weight="bold">'true'</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/**"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
  
</fo:block> Which says that we want all URLs within our application to be secured,
                requiring the role <fo:inline font-family="monospace">ROLE_USER</fo:inline> to access them. The
                <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> element is the parent for all web-related namespace
                functionality. The <fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline> element defines a
                <fo:inline font-family="monospace">pattern</fo:inline> which is matched against the URLs of incoming requests
                using an ant path style syntax<fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">2</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">2</fo:inline>See the section on <fo:basic-link internal-destination="request-matching"><fo:inline>Request
                    Matching</fo:inline></fo:basic-link> in the Web Application Infrastructure chapter for more details
                    on how matches are actually performed.</fo:block></fo:footnote-body></fo:footnote>. You can also use regular-expression matching as an alternative (see the
                namespace appendix for more details). The <fo:inline font-family="monospace">access</fo:inline> attribute
                defines the access requirements for requests matching the given pattern. With the
                default configuration, this is typically a comma-separated list of roles, one of
                which a user must have to be allowed to make the request. The prefix
                <fo:inline>“ROLE_”</fo:inline> is a marker which indicates that a simple comparison with the
                user's authorities should be made. In other words, a normal role-based check should
                be used. Access-control in Spring Security is not limited to the use of simple roles
                (hence the use of the prefix to differentiate between different types of security
                attributes). We'll see later how the interpretation can vary<fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">3</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">3</fo:inline>The interpretation of the comma-separated values in the
                    <fo:inline font-family="monospace">access</fo:inline> attribute depends on the implementation of the <fo:basic-link internal-destination="ns-access-manager"><fo:inline>AccessDecisionManager</fo:inline></fo:basic-link> which is used. In
                    Spring Security 3.0, the attribute can also be populated with an <fo:basic-link internal-destination="el-access"><fo:inline>EL expression</fo:inline></fo:basic-link>.</fo:block></fo:footnote-body></fo:footnote>.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" margin-left="0.25in" margin-right="0.25in" id="d0e669"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use multiple <fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline> elements to
                    define different access requirements for different sets of URLs, but they will
                    be evaluated in the order listed and the first match will be used. So you must
                    put the most specific matches at the top. You can also add a
                    <fo:inline font-family="monospace">method</fo:inline> attribute to limit the match to a particular HTTP
                    method (<fo:inline font-family="monospace">GET</fo:inline>, <fo:inline font-family="monospace">POST</fo:inline>, <fo:inline font-family="monospace">PUT</fo:inline>
                    etc.). If a request matches multiple patterns, the method-specific match will
                    take precedence regardless of ordering.</fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> To add some users, you can define a set of test data directly in the namespace: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e689">
  <fo:inline font-weight="bold">&lt;authentication-manager&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;authentication-provider&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;user-service&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;user</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"jimi"</fo:inline> <fo:inline font-weight="bold">password</fo:inline>=<fo:inline font-weight="bold">"jimispassword"</fo:inline> <fo:inline font-weight="bold">authorities</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER, ROLE_ADMIN"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;user</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"bob"</fo:inline> <fo:inline font-weight="bold">password</fo:inline>=<fo:inline font-weight="bold">"bobspassword"</fo:inline> <fo:inline font-weight="bold">authorities</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;/user-service&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/authentication-provider&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/authentication-manager&gt;</fo:inline>
  
        </fo:block></fo:block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="always" border-style="solid" border-width="1pt" border-color="black" background-color="#DDDDDD" padding-start="12pt" padding-end="12pt" padding-top="6pt" padding-bottom="6pt" margin-left="0pt" margin-right="0pt" id="d0e691"><fo:block/><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you are familiar with pre-namespace versions of the framework, you can
                    probably already guess roughly what's going on here. The
                    <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> element is responsible for creating a
                    <fo:inline font-family="monospace">FilterChainProxy</fo:inline> and the filter beans which it uses.
                    Common problems like incorrect filter ordering are no longer an issue as the
                    filter positions are predefined.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline> element creates a
                    <fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline> bean and the
                    <fo:inline font-family="monospace">&lt;user-service&gt;</fo:inline> element creates an
                    <fo:inline font-family="monospace">InMemoryDaoImpl</fo:inline>. All
                    <fo:inline font-family="monospace">authentication-provider</fo:inline> elements must be children of the
                    <fo:inline font-family="monospace">&lt;authentication-manager&gt;</fo:inline> element, which creates a
                    <fo:inline font-family="monospace">ProviderManager</fo:inline> and registers the authentication
                    providers with it. You can find more detailed information on the beans that are
                    created in the <fo:basic-link internal-destination="appendix-namespace"><fo:inline>namespace appendix</fo:inline></fo:basic-link>.
                    It's worth cross-checking this if you want to start understanding what the
                    important classes in the framework are and how they are used, particularly if
                    you want to customise things later.</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The configuration above defines two users, their passwords and their roles within
                the application (which will be used for access control). It is also possible to load
                user information from a standard properties file using the
                <fo:inline font-family="monospace">properties</fo:inline> attribute on <fo:inline font-family="monospace">user-service</fo:inline>. See the
                section on <fo:basic-link internal-destination="core-services-in-memory-service"><fo:inline>in-memory
                authentication</fo:inline></fo:basic-link> for more details on the file format. Using the
                <fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline> element means that the user
                information will be used by the authentication manager to process authentication
                requests. You can have multiple <fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline>
                elements to define different authentication sources and each will be consulted in
                turn.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> At this point you should be able to start up your application and you will be
                required to log in to proceed. Try it out, or try experimenting with the
                <fo:inline>“tutorial”</fo:inline> sample application that comes with the project. The above
                configuration actually adds quite a few services to the application because we have
                used the <fo:inline font-family="monospace">auto-config</fo:inline> attribute. For example, form-based login
                processing is automatically enabled. </fo:block><fo:block id="ns-auto-config"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">What does <fo:inline font-family="monospace">auto-config</fo:inline> Include?</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The <fo:inline font-family="monospace">auto-config</fo:inline> attribute, as we have used it above, is
                    just a shorthand syntax for: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e762">
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;form-login /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;http-basic /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;logout /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
  </fo:block> These other elements are responsible for setting up form-login, basic
                    authentication and logout handling services respectively <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">4</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">4</fo:inline>In versions prior to 3.0, this list also included remember-me
                        functionality. This could cause some confusing errors with some
                        configurations and was removed in 3.0. In 3.0, the addition of an
                        <fo:inline font-family="monospace">AnonymousAuthenticationFilter</fo:inline> is part of the default
                        <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> configuration, so the <fo:inline font-family="monospace">&lt;anonymous
                        /&gt;</fo:inline> element is added regardless of whether
                        <fo:inline font-family="monospace">auto-config</fo:inline> is enabled.</fo:block></fo:footnote-body></fo:footnote>. They each have attributes which can be used to alter their
                    behaviour. In anything other than very basic scenarios, it is probably better to
                    omit the <fo:inline font-family="monospace">auto-config</fo:inline> attribute and configure what you require
                    explicitly in the interest of clarity.</fo:block></fo:block></fo:block><fo:block id="ns-form-and-basic"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Form and Basic Login Options</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Form and Basic Login Options</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> You might be wondering where the login form came from when you were prompted to
                log in, since we made no mention of any HTML files or JSPs. In fact, since we didn't
                explicitly set a URL for the login page, Spring Security generates one
                automatically, based on the features that are enabled and using standard values for
                the URL which processes the submitted login, the default target URL the user will be
                sent to after loggin in and so on. However, the namespace offers plenty of support
                to allow you to customize these options. For example, if you want to supply your own
                login page, you could use: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e789">
  <fo:inline font-weight="bold">&lt;http</fo:inline> <fo:inline font-weight="bold">auto-config</fo:inline>=<fo:inline font-weight="bold">'true'</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/login.jsp*"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"IS_AUTHENTICATED_ANONYMOUSLY"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/**"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;form-login</fo:inline> <fo:inline font-weight="bold">login-page</fo:inline>=<fo:inline font-weight="bold">'/login.jsp'</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
  
    </fo:block> Note that you can still use <fo:inline font-family="monospace">auto-config</fo:inline>. The
                <fo:inline font-family="monospace">form-login</fo:inline> element just overrides the default settings. Also note
                that we've added an extra <fo:inline font-family="monospace">intercept-url</fo:inline> element to say that any
                requests for the login page should be available to anonymous users <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">5</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">5</fo:inline>See the chapter on <fo:basic-link internal-destination="anonymous"><fo:inline>anonymous
                    authentication</fo:inline></fo:basic-link> and also the <fo:basic-link internal-destination="authz-authenticated-voter"><fo:inline>AuthenticatedVoter</fo:inline></fo:basic-link> class for more details on how the value
                    <fo:inline font-family="monospace">IS_AUTHENTICATED_ANONYMOUSLY</fo:inline> is processed.</fo:block></fo:footnote-body></fo:footnote>. Otherwise the request would be matched by the pattern
                <fo:inline font-family="monospace">/**</fo:inline> and it wouldn't be possible to access the login page itself!
                This is a common configuration error and will result in an infinite loop in the
                application. Spring Security will emit a warning in the log if your login page
                appears to be secured. It is also possible to have all requests matching a
                particular pattern bypass the security filter chain completely, by defining a
                separate <fo:inline font-family="monospace">http</fo:inline> element for the pattern like this: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e820">
  <fo:inline font-weight="bold">&lt;http</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/css/**"</fo:inline> <fo:inline font-weight="bold">security</fo:inline>=<fo:inline font-weight="bold">"none"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;http</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/login.jsp*"</fo:inline> <fo:inline font-weight="bold">security</fo:inline>=<fo:inline font-weight="bold">"none"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;http</fo:inline> <fo:inline font-weight="bold">auto-config</fo:inline>=<fo:inline font-weight="bold">'true'</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/**"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;form-login</fo:inline> <fo:inline font-weight="bold">login-page</fo:inline>=<fo:inline font-weight="bold">'/login.jsp'</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
  
                </fo:block> From Spring Security 3.1 it is now possible to use multiple
                <fo:inline font-family="monospace">http</fo:inline> elements to define separate security filter chain
                configurations for different request patterns. If the <fo:inline font-family="monospace">pattern</fo:inline>
                attribute is omitted from an <fo:inline font-family="monospace">http</fo:inline> element, it matches all
                requests. Creating an unsecured pattern is a simple example of this syntax, where
                the pattern is mapped to an empty filter chain <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">6</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">6</fo:inline>The use of multiple <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> elements is an important
                    feature, allowing the namespace to simultaneously support both stateful and
                    stateless paths within the same application, for example. The previous syntax,
                    using the attribute <fo:inline font-family="monospace">filters="none"</fo:inline> on an
                    <fo:inline font-family="monospace">intercept-url</fo:inline> element is incompatible with this change and is
                    no longer supported in 3.1.</fo:block></fo:footnote-body></fo:footnote>. We'll look at this new syntax in more detail in the chapter on the
                <fo:basic-link internal-destination="filter-chains-with-ns"><fo:inline>Security Filter Chain</fo:inline></fo:basic-link>. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> It's important to realise that these unsecured requests will be completely
                oblivious to any Spring Security web-related configuration or additional attributes
                such as <fo:inline font-family="monospace">requires-channel</fo:inline>, so you will not be able to access
                information on the current user or call secured methods during the request. Use
                <fo:inline font-family="monospace">access='IS_AUTHENTICATED_ANONYMOUSLY'</fo:inline> as an alternative if you
                still want the security filter chain to be applied.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you want to use basic authentication instead of form login, then change the
                configuration to <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e858">
  <fo:inline font-weight="bold">&lt;http</fo:inline> <fo:inline font-weight="bold">auto-config</fo:inline>=<fo:inline font-weight="bold">'true'</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/**"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;http-basic /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
  
    </fo:block> Basic authentication will then take precedence and will be used to
                prompt for a login when a user attempts to access a protected resource. Form login
                is still available in this configuration if you wish to use it, for example through
                a login form embedded in another web page. </fo:block><fo:block id="ns-form-target"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Setting a Default Post-Login Destination</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If a form login isn't prompted by an attempt to access a protected resource,
                    the <fo:inline font-family="monospace">default-target-url</fo:inline> option comes into play. This is the
                    URL the user will be taken to after successfully logging in, and defaults to
                    "/". You can also configure things so that the user <fo:inline font-style="italic">always</fo:inline>
                    ends up at this page (regardless of whether the login was "on-demand" or they
                    explicitly chose to log in) by setting the
                    <fo:inline font-family="monospace">always-use-default-target</fo:inline> attribute to "true". This is useful
                    if your application always requires that the user starts at a "home" page, for
                    example: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e875">
  <fo:inline font-weight="bold">&lt;http</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/login.htm*"</fo:inline> <fo:inline font-weight="bold">security</fo:inline>=<fo:inline font-weight="bold">"none"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">'/**'</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">'ROLE_USER'</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;form-login</fo:inline> <fo:inline font-weight="bold">login-page</fo:inline>=<fo:inline font-weight="bold">'/login.htm'</fo:inline> <fo:inline font-weight="bold">default-target-url</fo:inline>=<fo:inline font-weight="bold">'/home.htm'</fo:inline>
            <fo:inline font-weight="bold">always-use-default-target</fo:inline>=<fo:inline font-weight="bold">'true'</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
           </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For even more control over the destination, you can use the
                    <fo:inline font-family="monospace">authentication-success-handler-ref</fo:inline> attribute as an
                    alternative to <fo:inline font-family="monospace">default-target-url</fo:inline>. The referenced bean should
                    be an instance of <fo:inline font-family="monospace">AuthenticationSuccessHandler</fo:inline>.
                    You'll find more on this in the <fo:basic-link internal-destination="form-login-flow-handling"><fo:inline>Core Filters</fo:inline></fo:basic-link> chapter and also in the namespace appendix, as well as
                    information on how to customize the flow when authentication fails. </fo:block></fo:block></fo:block><fo:block id="ns-logout"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Logout Handling</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Logout Handling</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">logout</fo:inline> element adds support for logging out by navigating
                to a particular URL. The default logout URL is <fo:inline font-family="monospace">/j_spring_security_logout</fo:inline>,
                but you can set it to something else using the <fo:inline font-family="monospace">logout-url</fo:inline> attribute.
                More information on other available attributes may be found in the namespace appendix.
            </fo:block></fo:block><fo:block id="ns-auth-providers"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Using other Authentication Providers</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using other Authentication Providers</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> In practice you will need a more scalable source of user information than a few
                names added to the application context file. Most likely you will want to store your
                user information in something like a database or an LDAP server. LDAP namespace
                configuration is dealt with in the <fo:basic-link internal-destination="ldap"><fo:inline>LDAP chapter</fo:inline></fo:basic-link>, so
                we won't cover it here. If you have a custom implementation of Spring Security's
                <fo:inline font-family="monospace">UserDetailsService</fo:inline>, called "myUserDetailsService" in your
                application context, then you can authenticate against this using <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e916">
  <fo:inline font-weight="bold">&lt;authentication-manager&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;authentication-provider</fo:inline> <fo:inline font-weight="bold">user-service-ref</fo:inline>=<fo:inline font-weight="bold">'myUserDetailsService'</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/authentication-manager&gt;</fo:inline>
  
        </fo:block> If you want to use a database, then you can use <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e919">
  <fo:inline font-weight="bold">&lt;authentication-manager&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;authentication-provider&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;jdbc-user-service</fo:inline> <fo:inline font-weight="bold">data-source-ref</fo:inline>=<fo:inline font-weight="bold">"securityDataSource"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/authentication-provider&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/authentication-manager&gt;</fo:inline>
  
        </fo:block> Where <fo:inline>“securityDataSource”</fo:inline> is the name of a
                <fo:inline font-family="monospace">DataSource</fo:inline> bean in the application context, pointing at a
                database containing the standard Spring Security <fo:basic-link internal-destination="db_schema_users_authorities"><fo:inline>user data tables</fo:inline></fo:basic-link>. Alternatively,
                you could configure a Spring Security <fo:inline font-family="monospace">JdbcDaoImpl</fo:inline> bean and
                point at that using the <fo:inline font-family="monospace">user-service-ref</fo:inline> attribute: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e937">
  <fo:inline font-weight="bold">&lt;authentication-manager&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;authentication-provider</fo:inline> <fo:inline font-weight="bold">user-service-ref</fo:inline>=<fo:inline font-weight="bold">'myUserDetailsService'</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/authentication-manager&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;beans:bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"myUserDetailsService"</fo:inline>
      <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.core.userdetails.jdbc.JdbcDaoImpl"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;beans:property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"dataSource"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"dataSource"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/beans:bean&gt;</fo:inline>
  
        </fo:block> You can also use standard
                <fo:inline font-family="monospace">AuthenticationProvider</fo:inline> beans as follows <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e943">
  <fo:inline font-weight="bold">&lt;authentication-manager&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;authentication-provider</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">'myAuthenticationProvider'</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/authentication-manager&gt;</fo:inline>
  
        </fo:block> where <fo:inline font-family="monospace">myAuthenticationProvider</fo:inline> is the name of a
                bean in your application context which implements
                <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>. You can use multiple
                <fo:inline font-family="monospace">authentication-provider</fo:inline> elements, in which case the providers
                will be queried in the order they are declared. See <fo:basic-link internal-destination="ns-auth-manager"><fo:inline>Section 3.6, “The Authentication Manager and the Namespace”</fo:inline></fo:basic-link> for more on information on how the Spring Security
                <fo:inline font-family="monospace">AuthenticationManager</fo:inline> is configured using the
                namespace. </fo:block><fo:block id="ns-password-encoder"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Adding a Password Encoder</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Often your password data will be encoded using a hashing algorithm. This is
                    supported by the <fo:inline font-family="monospace">&lt;password-encoder&gt;</fo:inline> element. With SHA
                    encoded passwords, the original authentication provider configuration would look
                    like this: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e968">
<fo:inline font-weight="bold">&lt;authentication-manager&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;authentication-provider&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;password-encoder</fo:inline> <fo:inline font-weight="bold">hash</fo:inline>=<fo:inline font-weight="bold">"sha"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;user-service&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;user</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"jimi"</fo:inline> <fo:inline font-weight="bold">password</fo:inline>=<fo:inline font-weight="bold">"d7e6351eaa13189a5a3641bab846c8e8c69ba39f"</fo:inline>
            <fo:inline font-weight="bold">authorities</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER, ROLE_ADMIN"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;user</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"bob"</fo:inline> <fo:inline font-weight="bold">password</fo:inline>=<fo:inline font-weight="bold">"4e7421b1b8765d8f9406d87e7cc6aa784c4ab97f"</fo:inline>
            <fo:inline font-weight="bold">authorities</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/user-service&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/authentication-provider&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/authentication-manager&gt;</fo:inline>
  
          </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> When using hashed passwords, it's also a good idea to use a salt value to
                    protect against dictionary attacks and Spring Security supports this too.
                    Ideally you would want to use a randomly generated salt value for each user, but
                    you can use any property of the <fo:inline font-family="monospace">UserDetails</fo:inline> object which
                    is loaded by your <fo:inline font-family="monospace">UserDetailsService</fo:inline>. For example, to use
                    the <fo:inline font-family="monospace">username</fo:inline> property, you would use <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e981">
  <fo:inline font-weight="bold">&lt;password-encoder</fo:inline> <fo:inline font-weight="bold">hash</fo:inline>=<fo:inline font-weight="bold">"sha"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;salt-source</fo:inline> <fo:inline font-weight="bold">user-property</fo:inline>=<fo:inline font-weight="bold">"username"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/password-encoder&gt;</fo:inline>
    </fo:block> You can use a custom password encoder bean by using the
                    <fo:inline font-family="monospace">ref</fo:inline> attribute of <fo:inline font-family="monospace">password-encoder</fo:inline>. This
                    should contain the name of a bean in the application context which is an
                    instance of Spring Security's <fo:inline font-family="monospace">PasswordEncoder</fo:inline>
                    interface. </fo:block></fo:block></fo:block></fo:block><fo:block id="ns-web-advanced"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Advanced Web Features</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">3.3 Advanced Web Features</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="ns-remember-me"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Remember-Me Authentication</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Remember-Me Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">See the separate <fo:basic-link internal-destination="remember-me"><fo:inline>Remember-Me chapter</fo:inline></fo:basic-link> for
                information on remember-me namespace configuration.</fo:block></fo:block><fo:block id="ns-requires-channel"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Adding HTTP/HTTPS Channel Security</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Adding HTTP/HTTPS Channel Security</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If your application supports both HTTP and HTTPS, and you require that particular
                URLs can only be accessed over HTTPS, then this is directly supported using the
                <fo:inline font-family="monospace">requires-channel</fo:inline> attribute on
                <fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline>: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1015">
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/secure/**"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline> <fo:inline font-weight="bold">requires-channel</fo:inline>=<fo:inline font-weight="bold">"https"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/**"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline> <fo:inline font-weight="bold">requires-channel</fo:inline>=<fo:inline font-weight="bold">"any"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    ...
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
        </fo:block>With this configuration in place, if a user attempts to access
                anything matching the "/secure/**" pattern using HTTP, they will first be redirected
                to an HTTPS URL
                <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">7</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">7</fo:inline>For more details on how channel-processing is implemented, see the Javadoc
                 for <fo:inline font-family="monospace">ChannelProcessingFilter</fo:inline> and related classes.
                </fo:block></fo:footnote-body></fo:footnote>.
                The available options are "http", "https" or "any". Using the value
                "any" means that either HTTP or HTTPS can be used. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If your application uses non-standard ports for HTTP and/or HTTPS, you can specify
                a list of port mappings as follows: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1027">
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    ...
    <fo:inline font-weight="bold">&lt;port-mappings&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;port-mapping</fo:inline> <fo:inline font-weight="bold">http</fo:inline>=<fo:inline font-weight="bold">"9080"</fo:inline> <fo:inline font-weight="bold">https</fo:inline>=<fo:inline font-weight="bold">"9443"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/port-mappings&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
                </fo:block>
                Note that in order to be truly secure, an application should not use HTTP at all or switch
                between HTTP and HTTPS. It should start in HTTPS (with the user entering an HTTPS URL) and
                use a secure connection throughout to avoid any possibility of man-in-the-middle attacks.
            </fo:block></fo:block><fo:block id="ns-session-mgmt"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Session Management</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Session Management</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="d0e1033"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Detecting Timeouts</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> You can configure Spring Security to detect the submission of an invalid
                    session ID and redirect the user to an appropriate URL. This is achieved through
                    the <fo:inline font-family="monospace">session-management</fo:inline> element: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1041">
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    ...
    <fo:inline font-weight="bold">&lt;session-management</fo:inline> <fo:inline font-weight="bold">invalid-session-url</fo:inline>=<fo:inline font-weight="bold">"/invalidSession.htm"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline></fo:block>Note that if you use this mechanism to detect session timeouts, it
                    may falsely report an error if the user logs out and then logs back in without
                    closing the browser. This is because the session cookie is not cleared when you
                    invalidate the session and will be resubmitted even if the user has logged out.
                    You may be able to explicitly delete the JSESSIONID cookie on logging out, for
                    example by using the following syntax in the logout handler: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1044">
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;logout</fo:inline> <fo:inline font-weight="bold">delete-cookies</fo:inline>=<fo:inline font-weight="bold">"JSESSIONID"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
  </fo:block> Unfortunately this can't be guaranteed to work with every servlet container,
                    so you will need to test it in your environment<fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">8</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">8</fo:inline>If you are running your application behind a proxy, you may also be able
                        to remove the session cookie by configuring the proxy server. For example,
                        using Apache HTTPD's mod_headers, the following directive would delete the
                        <fo:inline font-family="monospace">JSESSIONID</fo:inline> cookie by expiring it in the response to a
                        logout request (assuming the application is deployed under the path
                        <fo:inline font-family="monospace">/tutorial</fo:inline>):
                        <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1056"> <fo:inline font-weight="bold">&lt;LocationMatch</fo:inline> <fo:inline font-weight="bold">"/tutorial/j_spring_security_logout"&gt;</fo:inline>
  <fo:inline font-weight="bold">Header</fo:inline> <fo:inline font-weight="bold">always</fo:inline> <fo:inline font-weight="bold">set</fo:inline> <fo:inline font-weight="bold">Set-Cookie</fo:inline> <fo:inline font-weight="bold">"JSESSIONID</fo:inline>=<fo:inline font-weight="bold">;Path=</fo:inline><fo:inline font-weight="bold">/t</fo:inline>utorial;Expires=Thu, 01 Jan 1970 00:00:00 GMT"
 <fo:inline font-weight="bold">&lt;/LocationMatch&gt;</fo:inline></fo:block></fo:block></fo:footnote-body></fo:footnote>. </fo:block></fo:block><fo:block id="ns-concurrent-sessions"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Concurrent Session Control</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you wish to place constraints on a single user's ability to log in to your
                    application, Spring Security supports this out of the box with the following
                    simple additions. First you need to add the following listener to your
                    <fo:inline font-family="monospace">web.xml</fo:inline> file to keep Spring Security updated about session
                    lifecycle events: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1067">
  <fo:inline font-weight="bold">&lt;listener&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;listener-class&gt;</fo:inline>
      org.springframework.security.web.session.HttpSessionEventPublisher
    <fo:inline font-weight="bold">&lt;/listener-class&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/listener&gt;</fo:inline>
</fo:block> Then add the following lines to your application context: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1070">
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    ...
    <fo:inline font-weight="bold">&lt;session-management&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;concurrency-control</fo:inline> <fo:inline font-weight="bold">max-sessions</fo:inline>=<fo:inline font-weight="bold">"1"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/session-management&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
        </fo:block> This will prevent a user from logging in multiple times - a
                    second login will cause the first to be invalidated. Often you would prefer to
                    prevent a second login, in which case you can use <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1073">
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    ...
    <fo:inline font-weight="bold">&lt;session-management&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;concurrency-control</fo:inline> <fo:inline font-weight="bold">max-sessions</fo:inline>=<fo:inline font-weight="bold">"1"</fo:inline> <fo:inline font-weight="bold">error-if-maximum-exceeded</fo:inline>=<fo:inline font-weight="bold">"true"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/session-management&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
        </fo:block>The second login will then be rejected. By
                    <fo:inline>“rejected”</fo:inline>, we mean that the user will be sent to the
                    <fo:inline font-family="monospace">authentication-failure-url</fo:inline> if form-based login is being used.
                    If the second authentication takes place through another non-interactive
                    mechanism, such as <fo:inline>“remember-me”</fo:inline>, an <fo:inline>“unauthorized”</fo:inline>
                    (402) error will be sent to the client. If instead you want to use an error
                    page, you can add the attribute
                    <fo:inline font-family="monospace">session-authentication-error-url</fo:inline> to the
                    <fo:inline font-family="monospace">session-management</fo:inline> element. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you are using a customized authentication filter for form-based login, then
                    you have to configure concurrent session control support explicitly. More
                    details can be found in the <fo:basic-link internal-destination="session-mgmt"><fo:inline>Session Management
                    chapter</fo:inline></fo:basic-link>. </fo:block></fo:block><fo:block id="ns-session-fixation"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Session Fixation Attack Protection</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:basic-link external-destination="url(http://en.wikipedia.org/wiki/Session_fixation)"><fo:inline>Session
                    fixation</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://en.wikipedia.org/wiki/Session_fixation)">http://en.wikipedia.org/wiki/Session_fixation</fo:basic-link>]</fo:inline> attacks are a potential risk where it is possible for a
                    malicious attacker to create a session by accessing a site, then persuade
                    another user to log in with the same session (by sending them a link containing
                    the session identifier as a parameter, for example). Spring Security protects
                    against this automatically by creating a new session when a user logs in. If you
                    don't require this protection, or it conflicts with some other requirement, you
                    can control the behaviour using the
                    <fo:inline font-family="monospace">session-fixation-protection</fo:inline> attribute on
                    <fo:inline font-family="monospace">&lt;session-management&gt;</fo:inline>, which has three options <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e1113"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1114"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">migrateSession</fo:inline> - creates a new session and copies
                            the existing session attributes to the new session. This is the
                            default.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1119"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">none</fo:inline> - Don't do anything. The original session will
                            be retained.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e1124"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">newSession</fo:inline> - Create a new "clean" session, without
                            copying the existing session data.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>
                    See the <fo:basic-link internal-destination="session-mgmt"><fo:inline>Session Management</fo:inline></fo:basic-link> chapter for
                    additional information.
                </fo:block></fo:block></fo:block><fo:block id="ns-openid"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">OpenID Support</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">OpenID Support</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The namespace supports <fo:basic-link external-destination="url(http://openid.net/)"><fo:inline>OpenID</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://openid.net/)">http://openid.net/</fo:basic-link>]</fo:inline> login
                either instead of, or in addition to normal form-based login, with a simple change: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1141">
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/**"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;openid-login /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
</fo:block>You should then register yourself with an OpenID provider (such as
                myopenid.com), and add the user information to your in-memory
                <fo:inline font-family="monospace">&lt;user-service&gt;</fo:inline> : <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1147">
  <fo:inline font-weight="bold">&lt;user</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"http://jimi.hendrix.myopenid.com/"</fo:inline> <fo:inline font-weight="bold">authorities</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
</fo:block> You should be able to login using the <fo:inline font-family="monospace">myopenid.com</fo:inline> site to
                authenticate. It is also possible to select a specific
                <fo:inline font-family="monospace">UserDetailsService</fo:inline> bean for use OpenID by setting the
                <fo:inline font-family="monospace">user-service-ref</fo:inline> attribute on the <fo:inline font-family="monospace">openid-login</fo:inline>
                element. See the previous section on <fo:basic-link internal-destination="ns-auth-providers"><fo:inline>authentication providers</fo:inline></fo:basic-link> for more information. Note that we have omitted the
                password attribute from the above user configuration, since this set of user data is
                only being used to load the authorities for the user. A random password will be
                generate internally, preventing you from accidentally using this user data as an
                authentication source elsewhere in your configuration.</fo:block><fo:block id="d0e1165"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Attribute Exchange</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Support for OpenID <fo:basic-link external-destination="url(http://openid.net/specs/openid-attribute-exchange-1_0.html)"><fo:inline>attribute exchange</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://openid.net/specs/openid-attribute-exchange-1_0.html)">http://openid.net/specs/openid-attribute-exchange-1_0.html</fo:basic-link>]</fo:inline>. As an example, the following configuration would
                    attempt to retrieve the email and full name from the OpenID provider, for use by
                    the application:<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1173">
 <fo:inline font-weight="bold">&lt;openid-login&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;attribute-exchange&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;openid-attribute</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"email"</fo:inline> <fo:inline font-weight="bold">type</fo:inline>=<fo:inline font-weight="bold">"http://axschema.org/contact/email"</fo:inline> <fo:inline font-weight="bold">required</fo:inline>=<fo:inline font-weight="bold">"true"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;openid-attribute</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"name"</fo:inline> <fo:inline font-weight="bold">type</fo:inline>=<fo:inline font-weight="bold">"http://axschema.org/namePerson"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/attribute-exchange&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;/openid-login&gt;</fo:inline></fo:block>The <fo:inline>“type”</fo:inline> of each OpenID attribute is a URI,
                    determined by a particular schema, in this case <fo:basic-link external-destination="url(http://axschema.org/)"><fo:inline>http://axschema.org/</fo:inline></fo:basic-link>. If an attribute
                    must be retrieved for successful authentication, the <fo:inline font-family="monospace">required</fo:inline>
                    attribute can be set. The exact schema and attributes supported will depend on
                    your OpenID provider. The attribute values are returned as part of the
                    authentication process and can be accessed afterwards using the following code:
                    <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1185">
OpenIDAuthenticationToken token =
    (OpenIDAuthenticationToken)SecurityContextHolder.getContext().getAuthentication();
List&lt;OpenIDAttribute&gt; attributes = token.getAttributes();</fo:block>The
                    <fo:inline font-family="monospace">OpenIDAttribute</fo:inline> contains the attribute type and the
                    retrieved value (or values in the case of multi-valued attributes). We'll see
                    more about how the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> class is used
                    when we look at core Spring Security components in the <fo:basic-link internal-destination="core-components"><fo:inline>technical overview</fo:inline></fo:basic-link> chapter. Multiple
                    attribute exchange configurations are also be supported, if you wish to use
                    multiple identity providers. You can supply multiple
                    <fo:inline font-family="monospace">attribute-exchange</fo:inline> elements, using an
                    <fo:inline font-family="monospace">identifier-matcher</fo:inline> attribute on each. This contains a regular
                    expression which will be matched against the OpenID identifier supplied by the
                    user. See the OpenID sample application in the codebase for an example
                    configuration, providing different attribute lists for the Google, Yahoo and
                    MyOpenID providers.</fo:block></fo:block></fo:block><fo:block id="ns-custom-filters"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Adding in Your Own Filters</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Adding in Your Own Filters</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you've used Spring Security before, you'll know that the framework maintains a
                chain of filters in order to apply its services. You may want to add your own
                filters to the stack at particular locations or use a Spring Security filter for
                which there isn't currently a namespace configuration option (CAS, for example). Or
                you might want to use a customized version of a standard namespace filter, such as
                the <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline> which is created by the
                <fo:inline font-family="monospace">&lt;form-login&gt;</fo:inline> element, taking advantage of some of the extra
                configuration options which are available by using the bean explicitly. How can you
                do this with namespace configuration, since the filter chain is not directly
                exposed? </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The order of the filters is always strictly enforced when using the namespace.
                When the application context is being created, the filter beans are sorted by the
                namespace handling code and the standard Spring Security filters each have an alias
                in the namespace and a well-known position.<fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" margin-left="0.25in" margin-right="0.25in" id="d0e1216"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In previous versions, the sorting took place after the filter instances had
                    been created, during post-processing of the application context. In version 3.0+
                    the sorting is now done at the bean metadata level, before the classes have been
                    instantiated. This has implications for how you add your own filters to the
                    stack as the entire filter list must be known during the parsing of the
                    <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> element, so the syntax has changed slightly in
                    3.0.</fo:block></fo:block></fo:block>The filters, aliases and namespace elements/attributes which create the
                filters are shown in <fo:basic-link internal-destination="filter-stack"><fo:inline>Table 3.1, “Standard Filter Aliases and Ordering”</fo:inline></fo:basic-link>. The filters are listed in the
                order in which they occur in the filter chain. <fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="filter-stack"><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-next.within-column="always">Table 3.1. Standard Filter Aliases and Ordering</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.1pt" border-end-width="0.1pt" border-top-width="0.1pt" border-bottom-width="0.1pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(2)"/><fo:table-column column-number="2" column-width="proportional-column-width(2)"/><fo:table-column column-number="3"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Alias</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Filter Class</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="center"><fo:block font-weight="bold">Namespace Element or Attribute</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> CHANNEL_FILTER</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">ChannelProcessingFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http/intercept-url@requires-channel</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> SECURITY_CONTEXT_FILTER</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> CONCURRENT_SESSION_FILTER</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">ConcurrentSessionFilter</fo:inline> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">session-management/concurrency-control</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> LOGOUT_FILTER </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">LogoutFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http/logout</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> X509_FILTER </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">X509AuthenticationFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http/x509</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> PRE_AUTH_FILTER </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">AstractPreAuthenticatedProcessingFilter</fo:inline>
                                Subclasses</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>N/A</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> CAS_FILTER </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>N/A</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> FORM_LOGIN_FILTER </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http/form-login</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> BASIC_AUTH_FILTER </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http/http-basic</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> SERVLET_API_SUPPORT_FILTER</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">SecurityContextHolderAwareRequestFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http/@servlet-api-provision</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>JAAS_API_SUPPORT_FILTER</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">JaasApiIntegrationFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http/@jaas-api-provision</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> REMEMBER_ME_FILTER </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">RememberMeAuthenticationFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http/remember-me</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> ANONYMOUS_FILTER </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">AnonymousAuthenticationFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http/anonymous</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> SESSION_MANAGEMENT_FILTER</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">SessionManagementFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">session-management</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>EXCEPTION_TRANSLATION_FILTER </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> FILTER_SECURITY_INTERCEPTOR </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">http</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> SWITCH_USER_FILTER </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block><fo:inline font-family="monospace">SwitchUserFilter</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" text-align="left"><fo:block>N/A</fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block> You can add your own filter to the stack, using the
                <fo:inline font-family="monospace">custom-filter</fo:inline> element and one of these names to specify the
                position your filter should appear at: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1397">
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
     <fo:inline font-weight="bold">&lt;custom-filter</fo:inline> <fo:inline font-weight="bold">position</fo:inline>=<fo:inline font-weight="bold">"FORM_LOGIN_FILTER"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"myFilter"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;beans:bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"myFilter"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"com.mycompany.MySpecialAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  
  </fo:block> You can also use the <fo:inline font-family="monospace">after</fo:inline> or <fo:inline font-family="monospace">before</fo:inline>
                attributes if you want your filter to be inserted before or after another filter in
                the stack. The names "FIRST" and "LAST" can be used with the
                <fo:inline font-family="monospace">position</fo:inline> attribute to indicate that you want your filter to
                appear before or after the entire stack, respectively. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" margin-left="0.25in" margin-right="0.25in" id="d0e1409"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always">Avoiding filter position conflicts</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If you are inserting a custom filter which may occupy the same position as
                    one of the standard filters created by the namespace then it's important that
                    you don't include the namespace versions by mistake. Avoid using the
                    <fo:inline font-family="monospace">auto-config</fo:inline> attribute and remove any elements which create
                    filters whose functionality you want to replace. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Note that you can't replace filters which are created by the use of the
                    <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> element itself -
                    <fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline>,
                    <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> or
                    <fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline>. Some other filters are added
                    by default, but you can disable them. An <fo:inline font-family="monospace">AnonymousAuthenticationFilter</fo:inline>
                    is added by default and unless you have
                    <fo:basic-link internal-destination="ns-session-fixation"><fo:inline>session-fixation protection</fo:inline></fo:basic-link>
                    disabled, a <fo:inline font-family="monospace">SessionManagementFilter</fo:inline> will also be added
                    to the filter chain.
                </fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If you're replacing a namespace filter which requires an authentication entry
                point (i.e. where the authentication process is triggered by an attempt by an
                unauthenticated user to access to a secured resource), you will need to add a custom
                entry point bean too. </fo:block><fo:block id="ns-entry-point-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Setting a Custom
                    <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If you aren't using form login, OpenID or basic authentication through the
                    namespace, you may want to define an authentication filter and entry point using
                    a traditional bean syntax and link them into the namespace, as we've just seen.
                    The corresponding <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> can be
                    set using the <fo:inline font-family="monospace">entry-point-ref</fo:inline> attribute on the
                    <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> element. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The CAS sample application is a good example of the use of custom beans with
                    the namespace, including this syntax. If you aren't familiar with authentication
                    entry points, they are discussed in the <fo:basic-link internal-destination="tech-intro-auth-entry-point"><fo:inline>technical overview</fo:inline></fo:basic-link> chapter.
                </fo:block></fo:block></fo:block></fo:block><fo:block id="ns-method-security"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Method Security</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">3.4 Method Security</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">From version 2.0 onwards Spring Security has improved support substantially for adding
            security to your service layer methods. It provides support for JSR-250 annotation
            security as well as the framework's original <fo:inline font-family="monospace">@Secured</fo:inline> annotation.
            From 3.0 you can also make use of new <fo:basic-link internal-destination="el-access"><fo:inline>expression-based
            annotations</fo:inline></fo:basic-link>. You can apply security to a single bean, using the
            <fo:inline font-family="monospace">intercept-methods</fo:inline> element to decorate the bean declaration, or you
            can secure multiple beans across the entire service layer using the AspectJ style
            pointcuts. </fo:block><fo:block id="ns-global-method"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">The <fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline> Element</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">The <fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline> Element</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This element is used to enable annotation-based security in your application (by
                setting the appropriate attributes on the element), and also to group together
                security pointcut declarations which will be applied across your entire application
                context. You should only declare one
                <fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline> element. The following declaration
                would enable support for Spring Security's <fo:inline font-family="monospace">@Secured</fo:inline>: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1491">
  <fo:inline font-weight="bold">&lt;global-method-security</fo:inline> <fo:inline font-weight="bold">secured-annotations</fo:inline>=<fo:inline font-weight="bold">"enabled"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  
</fo:block> Adding an annotation to a method (on an class or interface) would then limit
                the access to that method accordingly. Spring Security's native annotation support
                defines a set of attributes for the method. These will be passed to the
                <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> for it to make the actual
                decision:
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1497">
  <fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">interface</fo:inline> BankService {

    <fo:inline color="gray">@Secured("IS_AUTHENTICATED_ANONYMOUSLY")</fo:inline>
    <fo:inline font-weight="bold">public</fo:inline> Account readAccount(Long id);

    <fo:inline color="gray">@Secured("IS_AUTHENTICATED_ANONYMOUSLY")</fo:inline>
    <fo:inline font-weight="bold">public</fo:inline> Account[] findAccounts();

    <fo:inline color="gray">@Secured("ROLE_TELLER")</fo:inline>
    <fo:inline font-weight="bold">public</fo:inline> Account post(Account account, <fo:inline font-weight="bold">double</fo:inline> amount);
  }
</fo:block>Support
                for JSR-250 annotations can be enabled using <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1500">
  <fo:inline font-weight="bold">&lt;global-method-security</fo:inline> <fo:inline font-weight="bold">jsr250-annotations</fo:inline>=<fo:inline font-weight="bold">"enabled"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  
        </fo:block>These are standards-based and allow simple role-based constraints to
                be applied but do not have the power Spring Security's native annotations. To use
                the new expression-based syntax, you would use <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1503">
  <fo:inline font-weight="bold">&lt;global-method-security</fo:inline> <fo:inline font-weight="bold">pre-post-annotations</fo:inline>=<fo:inline font-weight="bold">"enabled"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  </fo:block>and the equivalent Java code would
                be<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1506">
   <fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">interface</fo:inline> BankService {

     <fo:inline color="gray">@PreAuthorize("isAnonymous()")</fo:inline>
     <fo:inline font-weight="bold">public</fo:inline> Account readAccount(Long id);

     <fo:inline color="gray">@PreAuthorize("isAnonymous()")</fo:inline>
     <fo:inline font-weight="bold">public</fo:inline> Account[] findAccounts();

     <fo:inline color="gray">@PreAuthorize("hasAuthority('ROLE_TELLER')")</fo:inline>
     <fo:inline font-weight="bold">public</fo:inline> Account post(Account account, <fo:inline font-weight="bold">double</fo:inline> amount);
   }
        </fo:block>Expression-based
                annotations are a good choice if you need to define simple rules that go beyond
                checking the role names against the user's list of authorities. <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" margin-left="0.25in" margin-right="0.25in" id="d0e1509"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The annotated methods will only be secured for instances which are defined as
                    Spring beans (in the same application context in which method-security is
                    enabled). If you want to secure instances which are not created by Spring (using
                    the <fo:inline font-family="monospace">new</fo:inline> operator, for example) then you need to use AspectJ.
                </fo:block></fo:block></fo:block>
                <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" margin-left="0.25in" margin-right="0.25in" id="d0e1516"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                    You can enable more than one type of annotation in the same application, but
                    only one type should be used for any interface or class as the behaviour will not
                    be well-defined otherwise. If two annotations are found which apply to a particular
                    method, then only one of them will be applied.
                </fo:block></fo:block></fo:block> </fo:block><fo:block id="ns-protect-pointcut"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Adding Security Pointcuts using <fo:inline font-family="monospace">protect-pointcut</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The use of <fo:inline font-family="monospace">protect-pointcut</fo:inline> is particularly powerful, as
                    it allows you to apply security to many beans with only a simple declaration.
                    Consider the following example: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1530">
  <fo:inline font-weight="bold">&lt;global-method-security&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;protect-pointcut</fo:inline> <fo:inline font-weight="bold">expression</fo:inline>=<fo:inline font-weight="bold">"execution(* com.mycompany.*Service.*(..))"</fo:inline>
         <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/global-method-security&gt;</fo:inline>

          </fo:block> This will protect all methods on beans declared in the application
                    context whose classes are in the <fo:inline font-family="monospace">com.mycompany</fo:inline> package and
                    whose class names end in "Service". Only users with the
                    <fo:inline font-family="monospace">ROLE_USER</fo:inline> role will be able to invoke these methods. As with
                    URL matching, the most specific matches must come first in the list of
                    pointcuts, as the first matching expression will be used. Security
                    annotations take precedence over pointcuts.
                    </fo:block></fo:block></fo:block></fo:block><fo:block id="ns-access-manager"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">The Default AccessDecisionManager</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">3.5 The Default AccessDecisionManager</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This section assumes you have some knowledge of the underlying architecture for
            access-control within Spring Security. If you don't you can skip it and come back to it
            later, as this section is only really relevant for people who need to do some
            customization in order to use more than simple role-based security. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> When you use a namespace configuration, a default instance of
            <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> is automatically registered for you
            and will be used for making access decisions for method invocations and web URL access,
            based on the access attributes you specify in your <fo:inline font-family="monospace">intercept-url</fo:inline> and
            <fo:inline font-family="monospace">protect-pointcut</fo:inline> declarations (and in annotations if you are using
            annotation secured methods). </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The default strategy is to use an <fo:inline font-family="monospace">AffirmativeBased</fo:inline>
            <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> with a
            <fo:inline font-family="monospace">RoleVoter</fo:inline> and an <fo:inline font-family="monospace">AuthenticatedVoter</fo:inline>. You
            can find out more about these in the chapter on <fo:basic-link internal-destination="authz-arch"><fo:inline>authorization</fo:inline></fo:basic-link>.</fo:block><fo:block id="ns-custom-access-mgr"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Customizing the AccessDecisionManager</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Customizing the AccessDecisionManager</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If you need to use a more complicated access control strategy then it is easy to
                set an alternative for both method and web security. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> For method security, you do this by setting the
                <fo:inline font-family="monospace">access-decision-manager-ref</fo:inline> attribute on
                <fo:inline font-family="monospace">global-method-security</fo:inline> to the <fo:inline font-family="monospace">id</fo:inline> of the appropriate
                <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> bean in the application
                context: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1591">
  <fo:inline font-weight="bold">&lt;global-method-security</fo:inline> <fo:inline font-weight="bold">access-decision-manager-ref</fo:inline>=<fo:inline font-weight="bold">"myAccessDecisionManagerBean"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    ...
  <fo:inline font-weight="bold">&lt;/global-method-security&gt;</fo:inline>
  </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The syntax for web security is the same, but on the <fo:inline font-family="monospace">http</fo:inline>
                element: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1598">
  <fo:inline font-weight="bold">&lt;http</fo:inline> <fo:inline font-weight="bold">access-decision-manager-ref</fo:inline>=<fo:inline font-weight="bold">"myAccessDecisionManagerBean"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    ...
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
  </fo:block></fo:block></fo:block></fo:block><fo:block id="ns-auth-manager"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">The Authentication Manager and the Namespace</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">3.6 The Authentication Manager and the Namespace</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The main interface which provides authentication services in Spring Security is the
            <fo:inline font-family="monospace">AuthenticationManager</fo:inline>. This is usually an instance of
            Spring Security's <fo:inline font-family="monospace">ProviderManager</fo:inline> class, which you may already be
            familiar with if you've used the framework before. If not, it will be covered later, in
            the <fo:basic-link internal-destination="tech-intro-authentication"><fo:inline>technical overview chapter</fo:inline></fo:basic-link>. The
            bean instance is registered using the <fo:inline font-family="monospace">authentication-manager</fo:inline>
            namespace element. You can't use a custom <fo:inline font-family="monospace">AuthenticationManager</fo:inline>
            if you are using either HTTP or method security through the namespace, but this should
            not be a problem as you have full control over the
            <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>s that are used.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> You may want to register additional <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>
            beans with the <fo:inline font-family="monospace">ProviderManager</fo:inline> and you can do this using the
            <fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline> element with the
            <fo:inline font-family="monospace">ref</fo:inline> attribute, where the value of the attribute is the name of the
            provider bean you want to add. For example: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1637">
  <fo:inline font-weight="bold">&lt;authentication-manager&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;authentication-provider</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"casAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/authentication-manager&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"casAuthenticationProvider"</fo:inline>
      <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.cas.authentication.CasAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    ...
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
  </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Another common requirement is that another bean in the context may require a
            reference to the <fo:inline font-family="monospace">AuthenticationManager</fo:inline>. You can easily
            register an alias for the <fo:inline font-family="monospace">AuthenticationManager</fo:inline> and use
            this name elsewhere in your application context. <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1647">
  <fo:inline font-weight="bold">&lt;security:authentication-manager</fo:inline> <fo:inline font-weight="bold">alias</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
     ...
  <fo:inline font-weight="bold">&lt;/security:authentication-manager&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"customizedFormLoginFilter"</fo:inline>
        <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"com.somecompany.security.web.CustomFormLoginFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
     <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
     ...
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
  </fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="sample-apps"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> There are several sample web applications that are available with the project. To avoid
        an overly large download, only the "tutorial" and "contacts" samples are included in the
        distribution zip file. The others can be built directly from the source which you can obtain
        as described in <fo:basic-link internal-destination="get-source"><fo:inline>the introduction</fo:inline></fo:basic-link>. It's easy to build
        the project yourself and there's more information on the project web site at <fo:basic-link external-destination="url(http://www.springsource.org/security/)"><fo:inline>
            http://www.springsource.org/security/ </fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://www.springsource.org/security/)">http://www.springsource.org/security/</fo:basic-link>]</fo:inline>. All paths referred to in this chapter are
        relative to the project source directory. </fo:block><fo:block id="tutorial-sample"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Tutorial Sample</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">4.1 Tutorial Sample</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The tutorial sample is a nice basic example to get you started. It uses simple
            namespace configuration throughout. The compiled application is included in the
            distribution zip file, ready to be deployed into your web container
            (<fo:inline font-family="monospace">spring-security-samples-tutorial-3.1.x.war</fo:inline>). The <fo:basic-link internal-destination="ns-form-and-basic"><fo:inline>form-based</fo:inline></fo:basic-link> authentication mechanism is used in
            combination with the commonly-used <fo:basic-link internal-destination="remember-me"><fo:inline>remember-me</fo:inline></fo:basic-link>
            authentication provider to automatically remember the login using cookies.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We recommend you start with the tutorial sample, as the XML is minimal and easy to
            follow. Most importantly, you can easily add this one XML file (and its corresponding
            <fo:inline font-family="monospace">web.xml</fo:inline> entries) to your existing application. Only when this basic
            integration is achieved do we suggest you attempt adding in method authorization or
            domain object security.</fo:block></fo:block><fo:block id="contacts-sample"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Contacts</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">4.2 Contacts</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The Contacts Sample is an advanced example in that it illustrates the more powerful
            features of domain object access control lists (ACLs) in addition to basic application
            security. The application provides an interface with which the users are able to
            administer a simple database of contacts (the domain objects).</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To deploy, simply copy the WAR file from Spring Security distribution into your
            container’s <fo:inline font-family="monospace">webapps</fo:inline> directory. The war should be called
            <fo:inline font-family="monospace">spring-security-samples-contacts-3.1.x.war</fo:inline> (the appended version
            number will vary depending on what release you are using). </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After starting your container, check the application can load. Visit
            <fo:inline font-family="monospace">http://localhost:8080/contacts</fo:inline> (or whichever URL is appropriate for
            your web container and the WAR you deployed). </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next, click "Debug". You will be prompted to authenticate, and a series of usernames
            and passwords are suggested on that page. Simply authenticate with any of these and view
            the resulting page. It should contain a success message similar to the following:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" background-color="#F0F0F0" id="d0e1700">
Security Debug Information

Authentication object is of type:
org.springframework.security.authentication.UsernamePasswordAuthenticationToken

Authentication object as a String:

org.springframework.security.authentication.UsernamePasswordAuthenticationToken@1f127853:
Principal: org.springframework.security.core.userdetails.User@b07ed00: Username: rod; \
Password: [PROTECTED]; Enabled: true; AccountNonExpired: true;
credentialsNonExpired: true; AccountNonLocked: true; \
Granted Authorities: ROLE_SUPERVISOR, ROLE_USER; \
Password: [PROTECTED]; Authenticated: true; \
Details: org.springframework.security.web.authentication.WebAuthenticationDetails@0: \
RemoteIpAddress: 127.0.0.1; SessionId: 8fkp8t83ohar; \
Granted Authorities: ROLE_SUPERVISOR, ROLE_USER

Authentication object holds the following granted authorities:

ROLE_SUPERVISOR (getAuthority(): ROLE_SUPERVISOR)
ROLE_USER (getAuthority(): ROLE_USER)

Success! Your web filters appear to be properly configured!
    </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once you successfully receive the above message, return to the sample application's
            home page and click "Manage". You can then try out the application. Notice that only the
            contacts available to the currently logged on user are displayed, and only users with
            <fo:inline font-family="monospace">ROLE_SUPERVISOR</fo:inline> are granted access to delete their contacts. Behind
            the scenes, the <fo:inline font-family="monospace">MethodSecurityInterceptor</fo:inline> is securing the
            business objects. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The application allows you to modify the access control lists associated with
            different contacts. Be sure to give this a try and understand how it works by reviewing
            the application context XML files.</fo:block></fo:block><fo:block id="ldap-sample"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">LDAP Sample</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">4.3 LDAP Sample</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The LDAP sample application provides a basic configuration and sets up both a
            namespace configuration and an equivalent configuration using traditional beans, both in
            the same application context file. This means there are actually two identical
            authentication providers configured in this application. </fo:block></fo:block><fo:block id="openid-sample"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">OpenID Sample</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">4.4 OpenID Sample</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The OpenID sample demonstrates how to use the namespace to configure OpenID and how to set up
            <fo:basic-link external-destination="url(http://openid.net/specs/openid-attribute-exchange-1_0.html)"><fo:inline>attribute exchange</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://openid.net/specs/openid-attribute-exchange-1_0.html)">http://openid.net/specs/openid-attribute-exchange-1_0.html</fo:basic-link>]</fo:inline>
            configurations for Google, Yahoo and MyOpenID identity providers (you can experiment with adding others
            if you wish). It uses the JQuery-based <fo:basic-link external-destination="url(http://code.google.com/p/openid-selector/)"><fo:inline>openid-selector</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://code.google.com/p/openid-selector/)">http://code.google.com/p/openid-selector/</fo:basic-link>]</fo:inline>
            project to provide a user-friendly login page which allows the user to easily select a provider, rather than
            typing in the full OpenID identifier.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The application differs from normal authentication scenarios in that it allows any user to access the site (provided
            their OpenID authentication is successful). The first time you login, you will get a <fo:inline>“Welcome [your name]"”</fo:inline>
            message. If you logout and log back in (with the same OpenID identity) then this should change to <fo:inline>“Welcome Back”</fo:inline>.
            This is achieved by using a custom <fo:inline font-family="monospace">UserDetailsService</fo:inline> which assigns a standard role
            to any user and stores the identities internally in a map. Obviously a real application would use a database instead.
            Have a look at the source form more information. This class also takes into account the fact that different attributes may be returned
            from different providers and builds the name with which it addresses the user accordingly.
        </fo:block></fo:block><fo:block id="cas-sample"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">CAS Sample</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">4.5 CAS Sample</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The CAS sample requires that you run both a CAS server and CAS client. It isn't
            included in the distribution so you should check out the project code as described in
            <fo:basic-link internal-destination="get-source"><fo:inline>the introduction</fo:inline></fo:basic-link>. You'll find the relevant files
            under the <fo:inline font-family="monospace">sample/cas</fo:inline> directory. There's also a
            <fo:inline font-family="monospace">Readme.txt</fo:inline> file in there which explains how to run both the server
            and the client directly from the source tree, complete with SSL support.</fo:block></fo:block><fo:block id="jaas-sample"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">JAAS Sample</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">4.6 JAAS Sample</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The JAAS sample is very simple example of how to use a JAAS LoginModule with Spring Security. The provided LoginModule will
            successfully authenticate a user if the username equals the password otherwise a LoginException is thrown. The AuthorityGranter
            used in this example always grants the role ROLE_USER. The sample application also demonstrates how to run as the JAAS Subject
            returned by the LoginModule by setting <fo:basic-link internal-destination="nsa-http-jaas-api-provision"><fo:inline>jaas-api-provision</fo:inline></fo:basic-link> equal to "true".</fo:block></fo:block><fo:block id="preauth-sample"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Pre-Authentication Sample</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">4.7 Pre-Authentication Sample</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This sample application demonstrates how to wire up beans from the <fo:basic-link internal-destination="preauth"><fo:inline>pre-authentication</fo:inline></fo:basic-link> framework to make use of login
            information from a J2EE container. The user name and roles are those setup by the
            container. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The code is in <fo:inline font-family="monospace">samples/preauth</fo:inline>. </fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="community"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="jira"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Issue Tracking</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">5.1 Issue Tracking</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security uses JIRA to manage bug reports and enhancement requests. If you find
            a bug, please log a report using JIRA. Do not log it on the support forum, mailing list
            or by emailing the project's developers. Such approaches are ad-hoc and we prefer to
            manage bugs using a more formal process.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If possible, in your issue report please provide a JUnit test that demonstrates any
            incorrect behaviour. Or, better yet, provide a patch that corrects the issue. Similarly,
            enhancements are welcome to be logged in the issue tracker, although we only accept
            enhancement requests if you include corresponding unit tests. This is necessary to
            ensure project test coverage is adequately maintained.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can access the issue tracker at <fo:basic-link external-destination="url(http://jira.springsource.org/browse/SEC)"><fo:inline>http://jira.springsource.org/browse/SEC</fo:inline></fo:basic-link>. </fo:block></fo:block><fo:block id="becoming-involved"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Becoming Involved</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">5.2 Becoming Involved</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We welcome your involvement in the Spring Security project. There are many ways of
            contributing, including reading the forum and responding to questions from other people,
            writing new code, improving existing code, assisting with documentation, developing
            samples or tutorials, or simply making suggestions.</fo:block></fo:block><fo:block id="further-info"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Further Information</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">5.3 Further Information</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Questions and comments on Spring Security are welcome. You can use the Spring
            Community Forum web site at <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://forum.springsource.org)">http://forum.springsource.org</fo:basic-link></fo:inline> to discuss Spring Security with other users of the
            framework. Remember to use JIRA for bug reports, as explained above.</fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="titlepage" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="overall-architecture"><fo:block><fo:block><fo:block text-align="center" font-size="24.8832pt" space-before="18.6624pt" font-weight="bold" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always" hyphenate="false">Part II. Architecture and Implementation</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once you are familiar with setting up and running some namespace-configuration
                based applications, you may wish to develop more of an understanding of how the
                framework actually works behind the namespace facade. Like most software, Spring
                Security has certain central interfaces, classes and conceptual abstractions that
                are commonly used throughout the framework. In this part of the reference guide we
                will look at some of these and see how they work together to support authentication
                and access-control within Spring Security.</fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="technical-overview"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="runtime-environment"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Runtime Environment</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">6.1 Runtime Environment</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security 3.0 requires a Java 5.0 Runtime Environment or higher. As Spring
            Security aims to operate in a self-contained manner, there is no need to place any
            special configuration files into your Java Runtime Environment. In particular, there is
            no need to configure a special Java Authentication and Authorization Service (JAAS)
            policy file or place Spring Security into common classpath locations.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Similarly, if you are using an EJB Container or Servlet Container there is no need to
            put any special configuration files anywhere, nor include Spring Security in a server
            classloader. All the required files will be contained within your application.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This design offers maximum deployment time flexibility, as you can simply copy your
            target artifact (be it a JAR, WAR or EAR) from one system to another and it will
            immediately work.</fo:block></fo:block><fo:block id="core-components"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Core Components</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">6.2 Core Components</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In Spring Security 3.0, the contents of the <fo:inline font-family="monospace">spring-security-core</fo:inline>
            jar were stripped down to the bare minimum. It no longer contains any code related to
            web-application security, LDAP or namespace configuration. We'll take a look here at
            some of the Java types that you'll find in the core module. They represent the building
            blocks of the the framework, so if you ever need to go beyond a simple namespace
            configuration then it's important that you understand what they are, even if you don't
            actually need to interact with them directly.</fo:block><fo:block id="d0e1837"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"> SecurityContextHolder, SecurityContext and Authentication Objects </fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"> SecurityContextHolder, SecurityContext and Authentication Objects </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The most fundamental object is <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>. This
                is where we store details of the present security context of the application, which
                includes details of the principal currently using the application. By default the
                <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> uses a <fo:inline font-family="monospace">ThreadLocal</fo:inline>
                to store these details, which means that the security context is always available to
                methods in the same thread of execution, even if the security context is not
                explicitly passed around as an argument to those methods. Using a
                <fo:inline font-family="monospace">ThreadLocal</fo:inline> in this way is quite safe if care is taken to clear
                the thread after the present principal's request is processed. Of course, Spring
                Security takes care of this for you automatically so there is no need to worry about
                it.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Some applications aren't entirely suitable for using a
                <fo:inline font-family="monospace">ThreadLocal</fo:inline>, because of the specific way they work with threads.
                For example, a Swing client might want all threads in a Java Virtual Machine to use
                the same security context. <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> can be
                configured with a strategy on startup to specify how you would like the context to
                be stored. For a standalone application you would use the
                <fo:inline font-family="monospace">SecurityContextHolder.MODE_GLOBAL</fo:inline> strategy. Other applications
                might want to have threads spawned by the secure thread also assume the same
                security identity. This is achieved by using
                <fo:inline font-family="monospace">SecurityContextHolder.MODE_INHERITABLETHREADLOCAL</fo:inline>. You can change
                the mode from the default <fo:inline font-family="monospace">SecurityContextHolder.MODE_THREADLOCAL</fo:inline>
                in two ways. The first is to set a system property, the second is to call a static
                method on <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>. Most applications won't need
                to change from the default, but if you do, take a look at the JavaDocs for
                <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> to learn more.</fo:block><fo:block id="d0e1877"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Obtaining information about the current user</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Inside the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> we store details of
                    the principal currently interacting with the application. Spring Security uses
                    an <fo:inline font-family="monospace">Authentication</fo:inline> object to represent this
                    information. You won't normally need to create an
                    <fo:inline font-family="monospace">Authentication</fo:inline> object yourself, but it is fairly
                    common for users to query the <fo:inline font-family="monospace">Authentication</fo:inline>
                    object. You can use the following code block - from anywhere in your application
                    - to obtain the name of the currently authenticated user, for example:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1894">
Object principal = SecurityContextHolder.getContext().getAuthentication().getPrincipal();

<fo:inline font-weight="bold">if</fo:inline> (principal <fo:inline font-weight="bold">instanceof</fo:inline> UserDetails) {
  String username = ((UserDetails)principal).getUsername();
} <fo:inline font-weight="bold">else</fo:inline> {
  String username = principal.toString();
}</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The object returned by the call to <fo:inline font-family="monospace">getContext()</fo:inline> is an
                    instance of the <fo:inline font-family="monospace">SecurityContext</fo:inline> interface. This
                    is the object that is kept in thread-local storage. As we'll see below, most
                    authentication mechanisms withing Spring Security return an instance of
                    <fo:inline font-family="monospace">UserDetails</fo:inline> as the principal. </fo:block></fo:block></fo:block><fo:block id="tech-userdetailsservice"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">The UserDetailsService</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">The UserDetailsService</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Another item to note from the above code fragment is that you can obtain a
                principal from the <fo:inline font-family="monospace">Authentication</fo:inline> object. The
                principal is just an <fo:inline font-family="monospace">Object</fo:inline>. Most of the time this can be cast
                into a <fo:inline font-family="monospace">UserDetails</fo:inline> object.
                <fo:inline font-family="monospace">UserDetails</fo:inline> is a core interface in Spring
                Security. It represents a principal, but in an extensible and application-specific
                way. Think of <fo:inline font-family="monospace">UserDetails</fo:inline> as the adapter between your
                own user database and what Spring Security needs inside the
                <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>. Being a representation of something
                from your own user database, quite often you will cast the
                <fo:inline font-family="monospace">UserDetails</fo:inline> to the original object that your
                application provided, so you can call business-specific methods (like
                <fo:inline font-family="monospace">getEmail()</fo:inline>, <fo:inline font-family="monospace">getEmployeeNumber()</fo:inline> and so
                on).</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By now you're probably wondering, so when do I provide a
                <fo:inline font-family="monospace">UserDetails</fo:inline> object? How do I do that? I thought you
                said this thing was declarative and I didn't need to write any Java code - what
                gives? The short answer is that there is a special interface called
                <fo:inline font-family="monospace">UserDetailsService</fo:inline>. The only method on this interface
                accepts a <fo:inline font-family="monospace">String</fo:inline>-based username argument and returns a
                <fo:inline font-family="monospace">UserDetails</fo:inline>:
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e1953">
  UserDetails loadUserByUsername(String username) <fo:inline font-weight="bold">throws</fo:inline> UsernameNotFoundException;
</fo:block>
                This is the most common approach to loading information for a user within Spring
                Security and you will see it used throughout the framework whenever information on a
                user is required.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> On successful authentication, <fo:inline font-family="monospace">UserDetails</fo:inline> is used
                to build the <fo:inline font-family="monospace">Authentication</fo:inline> object that is stored in
                the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> (more on this <fo:basic-link internal-destination="tech-intro-authentication"><fo:inline>below</fo:inline></fo:basic-link>). The good news is that we
                provide a number of <fo:inline font-family="monospace">UserDetailsService</fo:inline>
                implementations, including one that uses an in-memory map
                (<fo:inline font-family="monospace">InMemoryDaoImpl</fo:inline>) and another that uses JDBC
                (<fo:inline font-family="monospace">JdbcDaoImpl</fo:inline>). Most users tend to write their own, though,
                with their implementations often simply sitting on top of an existing Data Access
                Object (DAO) that represents their employees, customers, or other users of the
                application. Remember the advantage that whatever your
                <fo:inline font-family="monospace">UserDetailsService</fo:inline> returns can always be obtained
                from the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> using the above code fragment.
            </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" margin-left="0.25in" margin-right="0.25in" id="d0e1985"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There is often some confusion about <fo:inline font-family="monospace">UserDetailsService</fo:inline>.
                    It is purely a DAO for user data and performs no other function other than to supply that data
                    to other components within the framework. In particular, it <fo:inline font-style="italic">does not</fo:inline>
                    authenticate the user, which is done by the <fo:inline font-family="monospace">AuthenticationManager</fo:inline>.
                    In many cases it makes more sense to
                    <fo:basic-link internal-destination="core-services-authentication-manager"><fo:inline>implement <fo:inline font-family="monospace">AuthenticationProvider</fo:inline></fo:inline></fo:basic-link>
                    directly if you require a custom authentication process.
                </fo:block></fo:block></fo:block></fo:block><fo:block id="tech-granted-authority"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">GrantedAuthority</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">GrantedAuthority</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Besides the principal, another important method provided by
                <fo:inline font-family="monospace">Authentication</fo:inline> is
                <fo:inline font-family="monospace">getAuthorities(</fo:inline>). This method provides an array of
                <fo:inline font-family="monospace">GrantedAuthority</fo:inline> objects. A
                <fo:inline font-family="monospace">GrantedAuthority</fo:inline> is, not surprisingly, an authority
                that is granted to the principal. Such authorities are usually <fo:inline>“roles”</fo:inline>,
                such as <fo:inline font-family="monospace">ROLE_ADMINISTRATOR</fo:inline> or
                <fo:inline font-family="monospace">ROLE_HR_SUPERVISOR</fo:inline>. These roles are later on configured for web
                authorization, method authorization and domain object authorization. Other parts of
                Spring Security are capable of interpreting these authorities, and expect them to be
                present. <fo:inline font-family="monospace">GrantedAuthority</fo:inline> objects are usually loaded
                by the <fo:inline font-family="monospace">UserDetailsService</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Usually the <fo:inline font-family="monospace">GrantedAuthority</fo:inline> objects are
                application-wide permissions. They are not specific to a given domain object. Thus,
                you wouldn't likely have a <fo:inline font-family="monospace">GrantedAuthority</fo:inline> to
                represent a permission to <fo:inline font-family="monospace">Employee</fo:inline> object number 54, because if
                there are thousands of such authorities you would quickly run out of memory (or, at
                the very least, cause the application to take a long time to authenticate a user).
                Of course, Spring Security is expressly designed to handle this common requirement,
                but you'd instead use the project's domain object security capabilities for this
                purpose.</fo:block></fo:block><fo:block id="d0e2045"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Summary</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Summary</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Just to recap, the major building blocks of Spring Security that we've seen so far
                are:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e2050"><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e2051"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">SecurityContextHolder</fo:inline>, to provide access to the
                        <fo:inline font-family="monospace">SecurityContext</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e2059"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">SecurityContext</fo:inline>, to hold the
                        <fo:inline font-family="monospace">Authentication</fo:inline> and possibly request-specific
                        security information.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e2067"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">Authentication</fo:inline>, to represent the principal
                        in a Spring Security-specific manner.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e2072"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">GrantedAuthority</fo:inline>, to reflect the
                        application-wide permissions granted to a principal.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e2077"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">UserDetails</fo:inline>, to provide the necessary
                        information to build an Authentication object from your application's DAOs
                        or other source source of security data.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e2082"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">UserDetailsService</fo:inline>, to create a
                        <fo:inline font-family="monospace">UserDetails</fo:inline> when passed in a
                        <fo:inline font-family="monospace">String</fo:inline>-based username (or certificate ID or the
                        like).</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now that you've gained an understanding of these repeatedly-used components, let's
                take a closer look at the process of authentication.</fo:block></fo:block></fo:block><fo:block id="tech-intro-authentication"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Authentication</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">6.3 Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security can participate in many different authentication environments. While
            we recommend people use Spring Security for authentication and not integrate with
            existing Container Managed Authentication, it is nevertheless supported - as is
            integrating with your own proprietary authentication system. </fo:block><fo:block id="d0e2101"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">What is authentication in Spring Security?</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">What is authentication in Spring Security?</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Let's consider a standard authentication scenario that everyone is familiar with. <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e2106"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2107"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A user is prompted to log in with a username and password.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2110"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The system (successfully) verifies that the password is correct for the
                        username.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2113"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The context information for that user is obtained (their list of roles and
                        so on).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2116"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A security context is established for the user</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2119"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The user proceeds, potentially to perform some operation which is
                        potentially protected by an access control mechanism which checks the
                        required permissions for the operation against the current security context
                        information. </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block> The first three items constitute the authentication process so we'll
                take a look at how these take place within Spring Security.<fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e2123"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2124"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The username and password are obtained and combined into an instance of
                        <fo:inline font-family="monospace">UsernamePasswordAuthenticationToken</fo:inline> (an instance of
                        the <fo:inline font-family="monospace">Authentication</fo:inline> interface, which we saw
                        earlier).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2133"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The token is passed to an instance of
                        <fo:inline font-family="monospace">AuthenticationManager</fo:inline> for validation.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2139"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The <fo:inline font-family="monospace">AuthenticationManager</fo:inline> returns a fully
                        populated <fo:inline font-family="monospace">Authentication</fo:inline> instance on
                        successful authentication.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2148"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The security context is established by calling
                        <fo:inline font-family="monospace">SecurityContextHolder.getContext().setAuthentication(...)</fo:inline>,
                        passing in the returned authentication object.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>From that point on, the user is considered to be authenticated. Let's
                look at some code as an example.
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e2155"><fo:inline font-weight="bold">import</fo:inline> org.springframework.security.authentication.*;
<fo:inline font-weight="bold">import</fo:inline> org.springframework.security.core.*;
<fo:inline font-weight="bold">import</fo:inline> org.springframework.security.core.authority.SimpleGrantedAuthority;
<fo:inline font-weight="bold">import</fo:inline> org.springframework.security.core.context.SecurityContextHolder;

<fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">class</fo:inline> AuthenticationExample {
  <fo:inline font-weight="bold">private</fo:inline> <fo:inline font-weight="bold">static</fo:inline> AuthenticationManager am = <fo:inline font-weight="bold">new</fo:inline> SampleAuthenticationManager();

  <fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">static</fo:inline> <fo:inline font-weight="bold">void</fo:inline> main(String[] args) <fo:inline font-weight="bold">throws</fo:inline> Exception {
    BufferedReader in = <fo:inline font-weight="bold">new</fo:inline> BufferedReader(<fo:inline font-weight="bold">new</fo:inline> InputStreamReader(System.in));

    <fo:inline font-weight="bold">while</fo:inline>(true) {
      System.out.println(<fo:inline font-weight="bold" font-style="italic">"Please enter your username:"</fo:inline>);
      String name = in.readLine();
      System.out.println(<fo:inline font-weight="bold" font-style="italic">"Please enter your password:"</fo:inline>);
      String password = in.readLine();
      <fo:inline font-weight="bold">try</fo:inline> {
        Authentication request = <fo:inline font-weight="bold">new</fo:inline> UsernamePasswordAuthenticationToken(name, password);
        Authentication result = am.authenticate(request);
        SecurityContextHolder.getContext().setAuthentication(result);
        <fo:inline font-weight="bold">break</fo:inline>;
      } <fo:inline font-weight="bold">catch</fo:inline>(AuthenticationException e) {
        System.out.println(<fo:inline font-weight="bold" font-style="italic">"Authentication failed: "</fo:inline> + e.getMessage());
      }
    }
    System.out.println(<fo:inline font-weight="bold" font-style="italic">"Successfully authenticated. Security context contains: "</fo:inline> +
              SecurityContextHolder.getContext().getAuthentication());
  }
}

<fo:inline font-weight="bold">class</fo:inline> SampleAuthenticationManager <fo:inline font-weight="bold">implements</fo:inline> AuthenticationManager {
  <fo:inline font-weight="bold">static</fo:inline> <fo:inline font-weight="bold">final</fo:inline> List&lt;GrantedAuthority&gt; AUTHORITIES = <fo:inline font-weight="bold">new</fo:inline> ArrayList&lt;GrantedAuthority&gt;();

  <fo:inline font-weight="bold">static</fo:inline> {
    AUTHORITIES.add(<fo:inline font-weight="bold">new</fo:inline> SimpleGrantedAuthority(<fo:inline font-weight="bold" font-style="italic">"ROLE_USER"</fo:inline>));
  }

  <fo:inline font-weight="bold">public</fo:inline> Authentication authenticate(Authentication auth) <fo:inline font-weight="bold">throws</fo:inline> AuthenticationException {
    <fo:inline font-weight="bold">if</fo:inline> (auth.getName().equals(auth.getCredentials())) {
      <fo:inline font-weight="bold">return</fo:inline> <fo:inline font-weight="bold">new</fo:inline> UsernamePasswordAuthenticationToken(auth.getName(),
        auth.getCredentials(), AUTHORITIES);
      }
      <fo:inline font-weight="bold">throw</fo:inline> <fo:inline font-weight="bold">new</fo:inline> BadCredentialsException(<fo:inline font-weight="bold" font-style="italic">"Bad Credentials"</fo:inline>);
  }
}</fo:block>Here
                we have written a little program that asks the user to enter a username and password
                and performs the above sequence. The
                <fo:inline font-family="monospace">AuthenticationManager</fo:inline> which we've implemented here
                will authenticate any user whose username and password are the same. It assigns a
                single role to every user. The output from the above will be something
                like:<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e2161">
Please enter your username:
bob
Please enter your password:
password
Authentication failed: Bad Credentials
Please enter your username:
bob
Please enter your password:
bob
Successfully authenticated. Security context contains: \
 org.springframework.security.authentication.UsernamePasswordAuthenticationToken@441d0230: \
 Principal: bob; Password: [PROTECTED]; \
 Authenticated: true; Details: null; \
 Granted Authorities: ROLE_USER
        </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Note that you don't normally need to write any code like this. The process will
                normally occur internally, in a web authentication filter for example. We've just
                included the code here to show that the question of what actually constitutes
                authentication in Spring Security has quite a simple answer. A user is authenticated
                when the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> contains a fully populated
                <fo:inline font-family="monospace">Authentication</fo:inline> object.</fo:block></fo:block><fo:block id="d0e2171"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Setting the SecurityContextHolder Contents Directly</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Setting the SecurityContextHolder Contents Directly</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In fact, Spring Security doesn't mind how you put the
                <fo:inline font-family="monospace">Authentication</fo:inline> object inside the
                <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>. The only critical requirement is that
                the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> contains an
                <fo:inline font-family="monospace">Authentication</fo:inline> which represents a principal before
                the <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> (which we'll see more about
                later) needs to authorize a user operation.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can (and many users do) write their own filters or MVC controllers to provide
                interoperability with authentication systems that are not based on Spring Security.
                For example, you might be using Container-Managed Authentication which makes the
                current user available from a ThreadLocal or JNDI location. Or you might work for a
                company that has a legacy proprietary authentication system, which is a corporate
                "standard" over which you have little control. In situations like this it's quite
                easy to get Spring Security to work, and still provide authorization capabilities.
                All you need to do is write a filter (or equivalent) that reads the third-party user
                information from a location, build a Spring Security-specific
                <fo:inline font-family="monospace">Authentication</fo:inline> object, and put it into the
                <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>. In this case you also need to think
                about things which are normally taken care of automatically by the built-in authentication
                infrastructure. For example, you might need to pre-emptively create an HTTP session to
                <fo:basic-link external-destination="url(tech-intro-sec-context-persistence)"><fo:inline>cache the context between requests</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(tech-intro-sec-context-persistence)">tech-intro-sec-context-persistence</fo:basic-link>]</fo:inline>,
                before you write the response to the client<fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>It isn't possible to create a session once the
                response has been committed.</fo:block></fo:footnote-body></fo:footnote>.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If you're wondering how the <fo:inline font-family="monospace">AuthenticationManager</fo:inline>
                 is implemented in a real world example, we'll look at that in the <fo:basic-link internal-destination="core-services-authentication-manager"><fo:inline>core services
                chapter</fo:inline></fo:basic-link>.</fo:block></fo:block></fo:block><fo:block id="tech-intro-web-authentication"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Authentication in a Web Application</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">6.4 Authentication in a Web Application</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Now let's explore the situation where you are using Spring Security in a web
            application (without <fo:inline font-family="monospace">web.xml</fo:inline> security enabled). How is a user
            authenticated and the security context established?</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Consider a typical web application's authentication process:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e2224"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2225"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>You visit the home page, and click on a link.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2228"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A request goes to the server, and the server decides that you've asked for a
                    protected resource.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2231"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>As you're not presently authenticated, the server sends back a response
                    indicating that you must authenticate. The response will either be an HTTP
                    response code, or a redirect to a particular web page.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2234"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Depending on the authentication mechanism, your browser will either redirect
                    to the specific web page so that you can fill out the form, or the browser will
                    somehow retrieve your identity (via a BASIC authentication dialogue box, a
                    cookie, a X.509 certificate etc.).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2237"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The browser will send back a response to the server. This will either be an
                    HTTP POST containing the contents of the form that you filled out, or an HTTP
                    header containing your authentication details.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2240"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Next the server will decide whether or not the presented credentials are
                    valid. If they're valid, the next step will happen. If they're invalid, usually
                    your browser will be asked to try again (so you return to step two
                    above).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2243"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The original request that you made to cause the authentication process will be
                    retried. Hopefully you've authenticated with sufficient granted authorities to
                    access the protected resource. If you have sufficient access, the request will
                    be successful. Otherwise, you'll receive back an HTTP error code 403, which
                    means "forbidden".</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security has distinct classes responsible for most of the steps described
            above. The main participants (in the order that they are used) are the
            <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline>, an
            <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> and an <fo:inline>“authentication
            mechanism”</fo:inline>, which is responsible for calling the
            <fo:inline font-family="monospace">AuthenticationManager</fo:inline> which we saw in the previous
            section.</fo:block><fo:block id="d0e2260"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">ExceptionTranslationFilter</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">ExceptionTranslationFilter</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> is a Spring Security filter that
                has responsibility for detecting any Spring Security exceptions that are thrown.
                Such exceptions will generally be thrown by an
                <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline>, which is the main provider of
                authorization services. We will discuss
                <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> in the next section, but for now
                we just need to know that it produces Java exceptions and knows nothing about HTTP
                or how to go about authenticating a principal. Instead the
                <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> offers this service, with specific
                responsibility for either returning error code 403 (if the principal has been
                authenticated and therefore simply lacks sufficient access - as per step seven
                above), or launching an <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> (if
                the principal has not been authenticated and therefore we need to go commence step
                three).</fo:block></fo:block><fo:block id="tech-intro-auth-entry-point"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">AuthenticationEntryPoint</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">AuthenticationEntryPoint</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> is responsible for
                step three in the above list. As you can imagine, each web application will have a
                default authentication strategy (well, this can be configured like nearly everything
                else in Spring Security, but let's keep it simple for now). Each major
                authentication system will have its own
                <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> implementation, which
                typically performs one of the actions described in step 3.</fo:block></fo:block><fo:block id="d0e2290"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Authentication Mechanism</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Authentication Mechanism</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once your browser submits your authentication credentials (either as an HTTP form
                post or HTTP header) there needs to be something on the server that
                <fo:inline>“collects”</fo:inline> these authentication details. By now we're at step six in
                the above list. In Spring Security we have a special name for the function of
                collecting authentication details from a user agent (usually a web browser),
                referring to it as the <fo:inline>“authentication mechanism”</fo:inline>. Examples are
                form-base login and Basic authentication. Once the authentication details have been
                collected from the user agent, an <fo:inline font-family="monospace">Authentication</fo:inline>
                <fo:inline>“request”</fo:inline> object is built and then presented to the
                <fo:inline font-family="monospace">AuthenticationManager</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">After the authentication mechanism receives back the fully-populated
                <fo:inline font-family="monospace">Authentication</fo:inline> object, it will deem the request
                valid, put the <fo:inline font-family="monospace">Authentication</fo:inline> into the
                <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>, and cause the original request to be
                retried (step seven above). If, on the other hand, the
                <fo:inline font-family="monospace">AuthenticationManager</fo:inline> rejected the request, the
                authentication mechanism will ask the user agent to retry (step two above).</fo:block></fo:block><fo:block id="tech-intro-sec-context-persistence"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Storing the <fo:inline font-family="monospace">SecurityContext</fo:inline> between
                requests</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Storing the <fo:inline font-family="monospace">SecurityContext</fo:inline> between
                requests</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Depending on the type of application, there may need to be a strategy in place to
                store the security context between user operations. In a typical web application, a
                user logs in once and is subsequently identified by their session Id. The server
                caches the principal information for the duration session. In Spring Security, the
                responsibility for storing the <fo:inline font-family="monospace">SecurityContext</fo:inline>
                between requests falls to the
                <fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline>, which by default stores the
                context as an <fo:inline font-family="monospace">HttpSession</fo:inline> attribute between HTTP requests. It
                restores the context to the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> for each
                request and, crucially, clears the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> when
                the request completes. You shouldn't interact directly with the
                <fo:inline font-family="monospace">HttpSession</fo:inline> for security purposes. There is simply no
                justification for doing so - always use the
                <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> instead. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Many other types of application (for example, a stateless RESTful web service) do
                not use HTTP sessions and will re-authenticate on every request. However, it is
                still important that the <fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline> is
                included in the chain to make sure that the
                <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> is cleared after each request.</fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" margin-left="0.25in" margin-right="0.25in" id="d0e2361"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In an application which receives concurrent requests in a single session, the
                    same <fo:inline font-family="monospace">SecurityContext</fo:inline> instance will be shared
                    between threads. Even though a <fo:inline font-family="monospace">ThreadLocal</fo:inline> is being used,
                    it is the same instance that is retrieved from the
                    <fo:inline font-family="monospace">HttpSession</fo:inline> for each thread. This has
                    implications if you wish to temporarily change the context under which a thread
                    is running. If you just use <fo:inline font-family="monospace">SecurityContextHolder.getContext()</fo:inline>, and
                    call <fo:inline font-family="monospace">setAuthentication(anAuthentication)</fo:inline> on the returned context
                    object, then the <fo:inline font-family="monospace">Authentication</fo:inline> object will
                    change in <fo:inline font-style="italic">all</fo:inline> concurrent threads which share the same
                    <fo:inline font-family="monospace">SecurityContext</fo:inline> instance. You can customize the
                    behaviour of <fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline> to create a
                    completely new <fo:inline font-family="monospace">SecurityContext</fo:inline> for each request,
                    preventing changes in one thread from affecting another. Alternatively you can
                    create a new instance just at the point where you temporarily change the
                    context. The method <fo:inline font-family="monospace">SecurityContextHolder.createEmptyContext()</fo:inline>
                    always returns a new context instance.</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="tech-intro-access-control"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Access-Control (Authorization) in Spring Security</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">6.5 Access-Control (Authorization) in Spring Security</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The main interface responsible for making access-control decisions in Spring Security
            is the <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>. It has a
            <fo:inline font-family="monospace">decide</fo:inline> method which takes an
            <fo:inline font-family="monospace">Authentication</fo:inline> object representing the principal
            requesting access, a <fo:inline>“secure object”</fo:inline> (see below) and a list of security
            metadata attributes which apply for the object (such as a list of roles which are
            required for access to be granted). </fo:block><fo:block id="d0e2414"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Security and AOP Advice</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Security and AOP Advice</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you're familiar with AOP, you'd be aware there are different types of advice
                available: before, after, throws and around. An around advice is very useful,
                because an advisor can elect whether or not to proceed with a method invocation,
                whether or not to modify the response, and whether or not to throw an exception.
                Spring Security provides an around advice for method invocations as well as web
                requests. We achieve an around advice for method invocations using Spring's standard
                AOP support and we achieve an around advice for web requests using a standard
                Filter.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For those not familiar with AOP, the key point to understand is that Spring
                Security can help you protect method invocations as well as web requests. Most
                people are interested in securing method invocations on their services layer. This
                is because the services layer is where most business logic resides in
                current-generation J2EE applications. If you just need to secure method invocations
                in the services layer, Spring's standard AOP will be adequate. If you need to secure
                domain objects directly, you will likely find that AspectJ is worth
                considering.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can elect to perform method authorization using AspectJ or Spring AOP, or you
                can elect to perform web request authorization using filters. You can use zero, one,
                two or three of these approaches together. The mainstream usage pattern is to
                perform some web request authorization, coupled with some Spring AOP method
                invocation authorization on the services layer.</fo:block></fo:block><fo:block id="secure-objects"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Secure Objects and the <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Secure Objects and the <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">So what <fo:inline font-style="italic">is</fo:inline> a <fo:inline>“secure object”</fo:inline> anyway? Spring
                Security uses the term to refer to any object that can have security (such as an
                authorization decision) applied to it. The most common examples are method
                invocations and web requests.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Each supported secure object type has its own interceptor class, which is a
                subclass of <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline>. Importantly, by the
                time the <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> is called, the
                <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> will contain a valid
                <fo:inline font-family="monospace">Authentication</fo:inline> if the principal has been
                authenticated.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> provides a consistent workflow
                for handling secure object requests, typically: <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e2454"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2455"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Look up the <fo:inline>“configuration attributes”</fo:inline> associated with the
                        present request</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2461"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Submitting the secure object, current
                        <fo:inline font-family="monospace">Authentication</fo:inline> and configuration attributes
                        to the <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> for an
                        authorization decision</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2470"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Optionally change the <fo:inline font-family="monospace">Authentication</fo:inline> under
                        which the invocation takes place</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2476"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Allow the secure object invocation to proceed (assuming access was
                        granted)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e2479"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Call the <fo:inline font-family="monospace">AfterInvocationManager</fo:inline> if
                        configured, once the invocation has returned. If the invocation raised an
                        exception, the <fo:inline font-family="monospace">AfterInvocationManager</fo:inline>
                        will not be invoked.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="tech-intro-config-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">What are Configuration Attributes?</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> A <fo:inline>“configuration attribute”</fo:inline> can be thought of as a String that
                    has special meaning to the classes used by
                    <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline>. They are represented by the
                    interface <fo:inline font-family="monospace">ConfigAttribute</fo:inline> within the framework.
                    They may be simple role names or have more complex meaning, depending on the how
                    sophisticated the <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>
                    implementation is. The <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> is
                    configured with a <fo:inline font-family="monospace">SecurityMetadataSource</fo:inline> which it
                    uses to look up the attributes for a secure object. Usually this configuration
                    will be hidden from the user. Configuration attributes will be entered as
                    annotations on secured methods or as access attributes on secured URLs. For
                    example, when we saw something like <fo:inline font-family="monospace">&lt;intercept-url
                    pattern='/secure/**' access='ROLE_A,ROLE_B'/&gt;</fo:inline> in the namespace
                    introduction, this is saying that the configuration attributes
                    <fo:inline font-family="monospace">ROLE_A</fo:inline> and <fo:inline font-family="monospace">ROLE_B</fo:inline> apply to web requests
                    matching the given pattern. In practice, with the default
                    <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> configuration, this means
                    that anyone who has a <fo:inline font-family="monospace">GrantedAuthority</fo:inline> matching
                    either of these two attributes will be allowed access. Strictly speaking though,
                    they are just attributes and the interpretation is dependent on the
                    <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> implementation. The use of
                    the prefix <fo:inline font-family="monospace">ROLE_</fo:inline> is a marker to indicate that these
                    attributes are roles and should be consumed by Spring Security's
                    <fo:inline font-family="monospace">RoleVoter</fo:inline>. This is only relevant when a voter-based
                    <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> is in use. We'll see how
                    the <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> is implemented in the
                    <fo:basic-link internal-destination="authz-arch"><fo:inline>authorization chapter</fo:inline></fo:basic-link>.</fo:block></fo:block><fo:block id="d0e2544"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">RunAsManager</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Assuming <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> decides to allow
                    the request, the <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> will
                    normally just proceed with the request. Having said that, on rare occasions
                    users may want to replace the <fo:inline font-family="monospace">Authentication</fo:inline>
                    inside the <fo:inline font-family="monospace">SecurityContext</fo:inline> with a different
                    <fo:inline font-family="monospace">Authentication</fo:inline>, which is handled by the
                    <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> calling a
                    <fo:inline font-family="monospace">RunAsManager</fo:inline>. This might be useful in reasonably unusual
                    situations, such as if a services layer method needs to call a remote system and
                    present a different identity. Because Spring Security automatically propagates
                    security identity from one server to another (assuming you're using a
                    properly-configured RMI or HttpInvoker remoting protocol client), this may be
                    useful.</fo:block></fo:block><fo:block id="d0e2570"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">AfterInvocationManager</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Following the secure object invocation proceeding and then returning - which may mean a
                    method invocation completing or a filter chain proceeding - the
                    <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> gets one final chance to
                    handle the invocation. At this stage the
                    <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> is interested in possibly
                    modifying the return object. We might want this to happen because an
                    authorization decision couldn't be made <fo:inline>“on the way in”</fo:inline> to a secure
                    object invocation. Being highly pluggable,
                    <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> will pass control to an
                    <fo:inline font-family="monospace">AfterInvocationManager</fo:inline> to actually modify the object if
                    needed. This class can even entirely replace the object, or throw an exception,
                    or not change it in any way as it chooses. The after-invocation checks will only
                    be executed if the invocation is successful. If an exception occurs, the additional
                    checks will be skipped.
                </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> and its related objects are
                    shown in <fo:basic-link internal-destination="abstract-security-interceptor"><fo:inline>Figure 6.1, “Security interceptors and the <fo:inline>“secure object”</fo:inline> model”</fo:inline></fo:basic-link>. <fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="always" id="abstract-security-interceptor"><fo:block id="d0e2602" text-align="center"><fo:external-graphic src="url(/opt/bamboo-home/xml-data/build-dir/SEC-B32X-JOB1/docs/manual/src/docbook/images/security-interception.png)" width="auto" height="auto" content-width="75%" content-height="75%" content-type="content-type:image/png" text-align="center"/></fo:block><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-previous.within-column="always">Figure 6.1. Security interceptors and the <fo:inline>“secure object”</fo:inline> model</fo:block></fo:block></fo:block></fo:block><fo:block id="d0e2605"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Extending the Secure Object Model</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Only developers contemplating an entirely new way of intercepting and
                    authorizing requests would need to use secure objects directly. For example, it
                    would be possible to build a new secure object to secure calls to a messaging
                    system. Anything that requires security and also provides a way of intercepting
                    a call (like the AOP around advice semantics) is capable of being made into a
                    secure object. Having said that, most Spring applications will simply use the
                    three currently supported secure object types (AOP Alliance
                    <fo:inline font-family="monospace">MethodInvocation</fo:inline>, AspectJ
                    <fo:inline font-family="monospace">JoinPoint</fo:inline> and web request
                    <fo:inline font-family="monospace">FilterInvocation</fo:inline>) with complete transparency.</fo:block></fo:block></fo:block></fo:block><fo:block id="localization"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Localization</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">6.6 Localization</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security supports localization of exception messages that end users are likely
            to see. If your application is designed for English-speaking users, you don't need to do
            anything as by default all Security Security messages are in English. If you need to
            support other locales, everything you need to know is contained in this section.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">All exception messages can be localized, including messages related to authentication
            failures and access being denied (authorization failures). Exceptions and logging
            messages that are focused on developers or system deployers (including incorrect
            attributes, interface contract violations, using incorrect constructors, startup time
            validation, debug-level logging) are not localized and instead are hard-coded in English
            within Spring Security's code.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Shipping in the <fo:inline font-family="monospace">spring-security-core-xx.jar</fo:inline> you will find an
            <fo:inline font-family="monospace">org.springframework.security</fo:inline> package that in turn contains a
            <fo:inline font-family="monospace">messages.properties</fo:inline> file, as well as localized versions for some
            common languages. This should be referred to by your
            <fo:inline font-family="monospace">ApplicationContext</fo:inline>, as Spring Security classes implement Spring's
            <fo:inline font-family="monospace">MessageSourceAware</fo:inline> interface and expect the message resolver to be
            dependency injected at application context startup time. Usually all you need to do is
            register a bean inside your application context to refer to the messages. An example is
            shown below:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e2645">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"messageSource"</fo:inline>
    <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.context.support.ReloadableResourceBundleMessageSource"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"basename"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"classpath:org/springframework/security/messages"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
</fo:block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">messages.properties</fo:inline> is named in accordance with standard
            resource bundles and represents the default language supported by Spring Security
            messages. This default file is in English. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you wish to customize the <fo:inline font-family="monospace">messages.properties</fo:inline> file, or support
            other languages, you should copy the file, rename it accordingly, and register it inside
            the above bean definition. There are not a large number of message keys inside this
            file, so localization should not be considered a major initiative. If you do perform
            localization of this file, please consider sharing your work with the community by
            logging a JIRA task and attaching your appropriately-named localized version of
            <fo:inline font-family="monospace">messages.properties</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security relies on Spring's localization support in order to actually lookup
            the appropriate message. In order for this to work, you have to make sure that the
            locale from the incoming request is stored in Spring's
            <fo:inline font-family="monospace">org.springframework.context.i18n.LocaleContextHolder</fo:inline>. Spring
            MVC's <fo:inline font-family="monospace">DispatcherServlet</fo:inline> does this for your application
            automatically, but since Spring Security's filters are invoked before this, the
            <fo:inline font-family="monospace">LocaleContextHolder</fo:inline> needs to be set up to contain the correct
            <fo:inline font-family="monospace">Locale</fo:inline> before the filters are called. You can either do this in a
            filter yourself (which must come before the Spring Security filters in
            <fo:inline font-family="monospace">web.xml</fo:inline>) or you can use Spring's
            <fo:inline font-family="monospace">RequestContextFilter</fo:inline>.  Please refer to the Spring Framework
            documentation for further details on using localization with Spring. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline>“contacts”</fo:inline> sample application is set up to use localized messages.
        </fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="core-services"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Now that we have a high-level overview of the Spring Security architecture and its core
        classes, let's take a closer look at one or two of the core interfaces and their
        implementations, in particular the <fo:inline font-family="monospace">AuthenticationManager</fo:inline>,
        <fo:inline font-family="monospace">UserDetailsService</fo:inline> and the
        <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>. These crop up regularly throughout the
        remainder of this document so it's important you know how they are configured and how they
        operate. </fo:block><fo:block id="core-services-authentication-manager"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">The <fo:inline font-family="monospace">AuthenticationManager</fo:inline>,
            <fo:inline font-family="monospace">ProviderManager</fo:inline> and
            <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>s</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">7.1 The <fo:inline font-family="monospace">AuthenticationManager</fo:inline>,
            <fo:inline font-family="monospace">ProviderManager</fo:inline> and
            <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>s</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">AuthenticationManager</fo:inline> is just an interface, so the
            implementation can be anything we choose, but how does it work in practice? What if we
            need to check multiple authentication databases or a combination of different
            authentication services such as a database and an LDAP server?</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default implementation in Spring Security is called
            <fo:inline font-family="monospace">ProviderManager</fo:inline> and rather than handling the authentication
            request itself, it delegates to a list of configured
            <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>s, each of which is queried in turn to see
            if it can perform the authentication. Each provider will either throw an exception or
            return a fully populated <fo:inline font-family="monospace">Authentication</fo:inline> object. Remember
            our good friends, <fo:inline font-family="monospace">UserDetails</fo:inline> and
            <fo:inline font-family="monospace">UserDetailsService</fo:inline>? If not, head back to the previous
            chapter and refresh your memory. The most common approach to verifying an authentication
            request is to load the corresponding <fo:inline font-family="monospace">UserDetails</fo:inline> and
            check the loaded password against the one that has been entered by the user. This is the
            approach used by the <fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline> (see below). The
            loaded <fo:inline font-family="monospace">UserDetails</fo:inline> object - and particularly the
            <fo:inline font-family="monospace">GrantedAuthority</fo:inline>s it contains - will be used when building the fully
            populated <fo:inline font-family="monospace">Authentication</fo:inline> object which is returned from a
            successful authentication and stored in the <fo:inline font-family="monospace">SecurityContext</fo:inline>. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If you are using the namespace, an instance of <fo:inline font-family="monospace">ProviderManager</fo:inline>
            is created and maintained internally, and you add providers to it by using the namespace
            authentication provider elements (see <fo:basic-link internal-destination="ns-auth-manager"><fo:inline>the namespace
            chapter</fo:inline></fo:basic-link>). In this case, you should not declare a
            <fo:inline font-family="monospace">ProviderManager</fo:inline> bean in your application context. However, if you
            are not using the namespace then you would declare it like so: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e2763">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline>
     <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.authentication.ProviderManager"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"providers"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;list&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;ref</fo:inline> <fo:inline font-weight="bold">local</fo:inline>=<fo:inline font-weight="bold">"daoAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;ref</fo:inline> <fo:inline font-weight="bold">local</fo:inline>=<fo:inline font-weight="bold">"anonymousAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;ref</fo:inline> <fo:inline font-weight="bold">local</fo:inline>=<fo:inline font-weight="bold">"ldapAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/list&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In the above example we have three providers. They are tried in the order shown (which
            is implied by the use of a <fo:inline font-family="monospace">List</fo:inline>), with each provider able to attempt
            authentication, or skip authentication by simply returning <fo:inline font-family="monospace">null</fo:inline>. If
            all implementations return null, the <fo:inline font-family="monospace">ProviderManager</fo:inline> will throw a
            <fo:inline font-family="monospace">ProviderNotFoundException</fo:inline>. If you're interested in
            learning more about chaining providers, please refer to the
            <fo:inline font-family="monospace">ProviderManager</fo:inline> JavaDocs.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Authentication mechanisms such as a web form-login processing filter are injected
            with a reference to the <fo:inline font-family="monospace">ProviderManager</fo:inline> and will call it
            to handle their authentication requests. The providers you require will sometimes be
            interchangeable with the authentication mechanisms, while at other times they will
            depend on a specific authentication mechanism. For example,
            <fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline> and
            <fo:inline font-family="monospace">LdapAuthenticationProvider</fo:inline> are compatible with any mechanism
            which submits a simple username/password authentication request and so will work with
            form-based logins or HTTP Basic authentication. On the other hand, some authentication
            mechanisms create an authentication request object which can only be interpreted by a
            single type of <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>. An example of this would
            be JA-SIG CAS, which uses the notion of a service ticket and so can therefore only be
            authenticated by a <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline>. You needn't be too
            concerned about this, because if you forget to register a suitable provider, you'll
            simply receive a <fo:inline font-family="monospace">ProviderNotFoundException</fo:inline> when an attempt to
            authenticate is made.</fo:block><fo:block id="core-services-erasing-credentials"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Erasing Credentials on Successful Authentication</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Erasing Credentials on Successful Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> By default (from Spring Security 3.1 onwards) the
                <fo:inline font-family="monospace">ProviderManager</fo:inline> will attempt to clear any sensitive
                credentials information from the <fo:inline font-family="monospace">Authentication</fo:inline>
                object which is returned by a successful authentication request. This prevents
                information like passwords being retained longer than necessary. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This may cause issues when you are using a cache of user objects, for example, to
                improve performance in a stateless application. If the
                <fo:inline font-family="monospace">Authentication</fo:inline> contains a reference to an object in
                the cache (such as a <fo:inline font-family="monospace">UserDetails</fo:inline> instance) and this
                has its credentials removed, then it will no longer be possible to authenticate
                against the cached value. You need to take this into account if you are using a
                cache. An obvious solution is to make a copy of the object first, either in the
                cache implementation or in the <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>
                which creates the returned <fo:inline font-family="monospace">Authentication</fo:inline> object.
                Alternatively, you can disable the
                <fo:inline font-family="monospace">eraseCredentialsAfterAuthentication</fo:inline> property on
                <fo:inline font-family="monospace">ProviderManager</fo:inline>. See the Javadoc for more information.
            </fo:block></fo:block><fo:block id="core-services-dao-provider"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The simplest <fo:inline font-family="monospace">AuthenticationProvider</fo:inline> implemented by
                Spring Security is <fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline>, which is also one
                of the earliest supported by the framework. It leverages a
                <fo:inline font-family="monospace">UserDetailsService</fo:inline> (as a DAO) in order to lookup the
                username, password and <fo:inline font-family="monospace">GrantedAuthority</fo:inline>s. It
                authenticates the user simply by comparing the password submitted in a
                <fo:inline font-family="monospace">UsernamePasswordAuthenticationToken</fo:inline> against the one loaded by
                the <fo:inline font-family="monospace">UserDetailsService</fo:inline>. Configuring the provider is
                quite simple: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e2857">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"daoAuthenticationProvider"</fo:inline>
    <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.authentication.dao.DaoAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"userDetailsService"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"inMemoryDaoImpl"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"passwordEncoder"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"passwordEncoder"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline></fo:block> The <fo:inline font-family="monospace">PasswordEncoder</fo:inline> is optional. A
                <fo:inline font-family="monospace">PasswordEncoder</fo:inline> provides encoding and decoding of
                passwords presented in the <fo:inline font-family="monospace">UserDetails</fo:inline> object that is
                returned from the configured <fo:inline font-family="monospace">UserDetailsService</fo:inline>. This
                will be discussed in more detail <fo:basic-link internal-destination="core-services-password-encoding"><fo:inline>below</fo:inline></fo:basic-link>. </fo:block></fo:block></fo:block><fo:block id="d0e2875"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">UserDetailsService</fo:inline> Implementations</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">7.2 <fo:inline font-family="monospace">UserDetailsService</fo:inline> Implementations</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As mentioned in the earlier in this reference guide, most authentication providers
            take advantage of the <fo:inline font-family="monospace">UserDetails</fo:inline> and
            <fo:inline font-family="monospace">UserDetailsService</fo:inline> interfaces. Recall that the contract
            for <fo:inline font-family="monospace">UserDetailsService</fo:inline> is a single method:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e2893">
  UserDetails loadUserByUsername(String username) <fo:inline font-weight="bold">throws</fo:inline> UsernameNotFoundException;
            </fo:block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The returned <fo:inline font-family="monospace">UserDetails</fo:inline> is an interface that provides
            getters that guarantee non-null provision of authentication information such as the
            username, password, granted authorities and whether the user account is enabled or
            disabled. Most authentication providers will use a
            <fo:inline font-family="monospace">UserDetailsService</fo:inline>, even if the username and password are
            not actually used as part of the authentication decision. They may use the returned
            <fo:inline font-family="monospace">UserDetails</fo:inline> object just for its
            <fo:inline font-family="monospace">GrantedAuthority</fo:inline> information, because some other system (like LDAP or
            X.509 or CAS etc) has undertaken the responsibility of actually validating the
            credentials.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Given <fo:inline font-family="monospace">UserDetailsService</fo:inline> is so simple to implement, it
            should be easy for users to retrieve authentication information using a persistence
            strategy of their choice. Having said that, Spring Security does include a couple of
            useful base implementations, which we'll look at below.</fo:block><fo:block id="core-services-in-memory-service"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">In-Memory Authentication</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">In-Memory Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Is easy to use create a custom <fo:inline font-family="monospace">UserDetailsService</fo:inline>
                implementation that extracts information from a persistence engine of choice, but
                many applications do not require such complexity. This is particularly true if
                you're building a prototype application or just starting integrating Spring
                Security, when you don't really want to spend time configuring databases or writing
                <fo:inline font-family="monospace">UserDetailsService</fo:inline> implementations. For this sort of
                situation, a simple option is to use the <fo:inline font-family="monospace">user-service</fo:inline> element
                from the security <fo:basic-link internal-destination="ns-minimal"><fo:inline>namespace</fo:inline></fo:basic-link>: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e2932">
  <fo:inline font-weight="bold">&lt;user-service</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"userDetailsService"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;user</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"jimi"</fo:inline> <fo:inline font-weight="bold">password</fo:inline>=<fo:inline font-weight="bold">"jimispassword"</fo:inline> <fo:inline font-weight="bold">authorities</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER, ROLE_ADMIN"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;user</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"bob"</fo:inline> <fo:inline font-weight="bold">password</fo:inline>=<fo:inline font-weight="bold">"bobspassword"</fo:inline> <fo:inline font-weight="bold">authorities</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/user-service&gt;</fo:inline>
  
                    </fo:block> This also supports the use of an external properties
                file: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e2935">
  <fo:inline font-weight="bold">&lt;user-service</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"userDetailsService"</fo:inline> <fo:inline font-weight="bold">properties</fo:inline>=<fo:inline font-weight="bold">"users.properties"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  </fo:block> The properties file should contain entries in the form
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e2938">username=password,grantedAuthority[,grantedAuthority][,enabled|disabled]</fo:block>
                For example
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e2941">
 jimi=jimispassword,ROLE_USER,ROLE_ADMIN,enabled
 bob=bobspassword,ROLE_USER,enabled</fo:block></fo:block></fo:block><fo:block id="core-services-jdbc-user-service"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">JdbcDaoImpl</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">JdbcDaoImpl</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security also includes a <fo:inline font-family="monospace">UserDetailsService</fo:inline>
                that can obtain authentication information from a JDBC data source. Internally
                Spring JDBC is used, so it avoids the complexity of a fully-featured object
                relational mapper (ORM) just to store user details. If your application does use an
                ORM tool, you might prefer to write a custom
                <fo:inline font-family="monospace">UserDetailsService</fo:inline> to reuse the mapping files you've
                probably already created. Returning to <fo:inline font-family="monospace">JdbcDaoImpl</fo:inline>, an example
                configuration is shown below:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e2960">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"dataSource"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.jdbc.datasource.DriverManagerDataSource"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"driverClassName"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"org.hsqldb.jdbcDriver"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"url"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"jdbc:hsqldb:hsql://localhost:9001"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"username"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"sa"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"password"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">""</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"userDetailsService"</fo:inline>
      <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.core.userdetails.jdbc.JdbcDaoImpl"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"dataSource"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"dataSource"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>        </fo:block>
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can use different relational database management systems by modifying the
                <fo:inline font-family="monospace">DriverManagerDataSource</fo:inline> shown above. You can also use a global
                data source obtained from JNDI, as with any other Spring configuration.</fo:block><fo:block id="d0e2968"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Authority Groups</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, <fo:inline font-family="monospace">JdbcDaoImpl</fo:inline> loads the authorities for a
                    single user with the assumption that the authorities are mapped directly to
                    users (see the <fo:basic-link internal-destination="appendix-schema"><fo:inline>database schema
                    appendix</fo:inline></fo:basic-link>). An alternative approach is to partition the authorities into
                    groups and assign groups to the user. Some people prefer this approach as a
                    means of administering user rights. See the <fo:inline font-family="monospace">JdbcDaoImpl</fo:inline>
                    Javadoc for more information on how to enable the use of group authorities. The
                    group schema is also included in the appendix.</fo:block></fo:block></fo:block></fo:block><fo:block id="core-services-password-encoding"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Password Encoding</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">7.3 Password Encoding</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security's
            <fo:inline font-family="monospace">PasswordEncoder</fo:inline> interface is used to support the use of
            passwords which are encoded in some way in persistent storage. This will normally mean
            that the passwords are <fo:inline>“hashed”</fo:inline> using a digest algorithm such as MD5 or
            SHA. Spring Security 3.1's <fo:basic-link internal-destination="spring-security-crypto-passwordencoders"><fo:inline><fo:inline font-family="monospace">crypto</fo:inline></fo:inline></fo:basic-link> package introduces a simpler API which encourages
            best-practice for password hashing. We would encourage you to use these APIs for new
            development and regard the classes in package
            <fo:inline font-family="monospace">org.springframework.security.authentication.encoding</fo:inline> as legacy
            implementations. The <fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline> can be injected
            with either the new or legacy <fo:inline font-family="monospace">PasswordEncoder</fo:inline>
            types.</fo:block><fo:block id="d0e3007"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">What is a hash?</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">What is a hash?</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Password hashing is not unique to Spring Security but is a common source of
                confusion for users who are not familiar with the concept. A hash (or digest)
                algorithm is a one-way function which produces a piece of fixed-length output data
                (the hash) from some input data, such as a password. As an example, the MD5 hash of
                the string <fo:inline>“password”</fo:inline> (in hexadecimal) is
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e3015">
    5f4dcc3b5aa765d61d8327deb882cf99
</fo:block>
                A hash is <fo:inline>“one-way”</fo:inline> in the sense that it is very difficult (effectively
                impossible) to obtain the original input given the hash value, or indeed any
                possible input which would produce that hash value. This property makes hash values
                very useful for authentication purposes. They can be stored in your user database as
                an alternative to plaintext passwords and even if the values are compromised they do
                not immediately reveal a password which can be used to login. Note that this also
                means you have no way of recovering the password once it is encoded.</fo:block></fo:block><fo:block id="d0e3021"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Adding Salt to a Hash</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Adding Salt to a Hash</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> One potential problem with the use of password hashes that it is relatively easy
                to get round the one-way property of the hash if a common word is used for the
                input. For example, if you search for the hash value
                <fo:inline font-family="monospace">5f4dcc3b5aa765d61d8327deb882cf99</fo:inline> using google, you will quickly
                find the original word <fo:inline>“password”</fo:inline>. In a similar way, an attacker can
                build a dictionary of hashes from a standard word list and use this to lookup the
                original password. One way to help prevent this is to have a suitably strong
                password policy to try to prevent common words from being used. Another is to use a
                <fo:inline>“salt”</fo:inline> when calculating the hashes. This is an additional string of
                known data for each user which is combined with the password before calculating the
                hash. Ideally the data should be as random as possible, but in practice any salt
                value is usually preferable to none. Using a salt means that an attacker has to
                build a separate dictionary of hashes for each salt value, making the attack more
                complicated (but not impossible).</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">StandardPasswordEncoder</fo:inline> in the <fo:basic-link internal-destination="spring-security-crypto-passwordencoders"><fo:inline><fo:inline font-family="monospace">crypto</fo:inline></fo:inline></fo:basic-link> package uses a random 8-byte salt, which is stored
                in the same field as the password.<fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" margin-left="0.25in" margin-right="0.25in" id="d0e3044"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The legacy approach to handling salt was to inject a
                    <fo:inline font-family="monospace">SaltSource</fo:inline> into the
                    <fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline>, which would obtain a salt
                    value for a particular user and pass it to the
                    <fo:inline font-family="monospace">PasswordEncoder</fo:inline>. Using a random salt and
                    combining it with the password data field means you don't have to worry about
                    the details of salt handling (such as where the the value is stored), as it is
                    all done internally. So we'd strongly recommend you use this approach unless you
                    already have a system in place which stores the salt separately.</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="d0e3056"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"> Hashing and Authentication</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"> Hashing and Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When an authentication provider (such as Spring Security's
                <fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline>) needs to check the password in a
                submitted authentication request against the known value for a user, and the stored
                password is encoded in some way, then the submitted value must be encoded using
                exactly the same algorithm. It's up to you to check that these are compatible as
                Spring Security has no control over the persistent values. If you add password
                hashing to your authentication configuration in Spring Security, and your database
                contains plaintext passwords, then there is no way authentication can succeed. Even
                if you are aware that your database is using MD5 to encode the passwords, for
                example, and your application is configured to use Spring Security's
                <fo:inline font-family="monospace">Md5PasswordEncoder</fo:inline>, there are still things that can go wrong.
                The database may have the passwords encoded in Base 64, for example while the
                encoder is using hexadecimal strings (the default). Alternatively your database may
                be using upper-case while the output from the encoder is lower-case. Make sure you
                write a test to check the output from your configured password encoder with a known
                password and salt combination and check that it matches the database value before
                going further and attempting to authenticate through your application.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you want to generate encoded passwords directly in Java for storage in your
                user database, then you can use the <fo:inline font-family="monospace">encode</fo:inline> method on the
                <fo:inline font-family="monospace">PasswordEncoder</fo:inline>.</fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="titlepage" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="web-app-security"><fo:block><fo:block><fo:block text-align="center" font-size="24.8832pt" space-before="18.6624pt" font-weight="bold" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always" hyphenate="false">Part III. Web Application Security</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Most Spring Security users will be using the framework in applications which make
                user of HTTP and the Servlet API. In this part, we'll take a look at how Spring
                Security provides authentication and access-control features for the web layer of an
                application. We'll look behind the facade of the namespace and see which classes and
                interfaces are actually assembled to provide web-layer security. In some situations
                it is necessary to use traditional bean configuration to provide full control over
                the configuration, so we'll also see how to configure these classes directly without
                the namespace.</fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="security-filter-chain"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security's web infrastructure is based entirely on standard servlet filters. It
        doesn't use servlets or any other servlet-based frameworks (such as Spring MVC) internally,
        so it has no strong links to any particular web technology. It deals in
        <fo:inline font-family="monospace">HttpServletRequest</fo:inline>s and <fo:inline font-family="monospace">HttpServletResponse</fo:inline>s
        and doesn't care whether the requests come from a browser, a web service client, an
        <fo:inline font-family="monospace">HttpInvoker</fo:inline> or an AJAX application. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Spring Security maintains a filter chain internally where each of the filters has a
        particular responsibility and filters are added or removed from the configuration depending
        on which services are required. The ordering of the filters is important as there are
        dependencies between them. If you have been using <fo:basic-link internal-destination="ns-config"><fo:inline>namespace
        configuration</fo:inline></fo:basic-link>, then the filters are automatically configured for you and you don't
        have to define any Spring beans explicitly but here may be times when you want full control
        over the security filter chain, either because you are using features which aren't supported
        in the namespace, or you are using your own customized versions of classes.</fo:block><fo:block id="delegating-filter-proxy"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">8.1 <fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> When using servlet filters, you obviously need to declare them in your
            <fo:inline font-family="monospace">web.xml</fo:inline>, or they will be ignored by the servlet container. In
            Spring Security, the filter classes are also Spring beans defined in the application
            context and thus able to take advantage of Spring's rich dependency-injection facilities
            and lifecycle interfaces. Spring's <fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline> provides
            the link between <fo:inline font-family="monospace">web.xml</fo:inline> and the application context. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When using <fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline>, you will see something like
            this in the <fo:inline font-family="monospace">web.xml</fo:inline> file: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e3124">
  <fo:inline font-weight="bold">&lt;filter&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;filter-name&gt;</fo:inline>myFilter<fo:inline font-weight="bold">&lt;/filter-name&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;filter-class&gt;</fo:inline>org.springframework.web.filter.DelegatingFilterProxy<fo:inline font-weight="bold">&lt;/filter-class&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/filter&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;filter-mapping&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;filter-name&gt;</fo:inline>myFilter<fo:inline font-weight="bold">&lt;/filter-name&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;url-pattern&gt;</fo:inline>/*<fo:inline font-weight="bold">&lt;/url-pattern&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/filter-mapping&gt;</fo:inline>
      </fo:block> Notice that the filter is actually a
            <fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline>, and not the class that will actually implement
            the logic of the filter. What <fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline> does is
            delegate the <fo:inline font-family="monospace">Filter</fo:inline>'s methods through to a bean which is
            obtained from the Spring application context. This enables the bean to benefit from the
            Spring web application context lifecycle support and configuration flexibility. The bean
            must implement <fo:inline font-family="monospace">javax.servlet.Filter</fo:inline> and it must have the
            same name as that in the <fo:inline font-family="monospace">filter-name</fo:inline> element. Read the Javadoc for
            <fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline> for more information</fo:block></fo:block><fo:block id="filter-chain-proxy"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">FilterChainProxy</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">8.2 <fo:inline font-family="monospace">FilterChainProxy</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security's web infrastructure should only be used by delegating to an
            instance of <fo:inline font-family="monospace">FilterChainProxy</fo:inline>. The security filters should not
            be used by themselves. In theory you could declare each Spring Security filter bean
            that you require in your application context file and add a corresponding
            <fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline> entry to <fo:inline font-family="monospace">web.xml</fo:inline>
            for each filter, making sure that they are ordered correctly, but this would be
            cumbersome and would clutter up the <fo:inline font-family="monospace">web.xml</fo:inline> file quickly if you
            have a lot of filters. <fo:inline font-family="monospace">FilterChainProxy</fo:inline> lets us add a single
            entry to <fo:inline font-family="monospace">web.xml</fo:inline> and deal entirely with the application context
            file for managing our web security beans. It is wired using a
            <fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline>, just like in the example above, but with
            the <fo:inline font-family="monospace">filter-name</fo:inline> set to the bean name
            <fo:inline>“filterChainProxy”</fo:inline>. The filter chain is then declared in the application
            context with the same bean name. Here's an example: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e3178">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"filterChainProxy"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.FilterChainProxy"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;constructor-arg&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;list&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;sec:filter-chain</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/restful/**"</fo:inline> <fo:inline font-weight="bold">filters</fo:inline>=<fo:inline font-weight="bold">"
           securityContextPersistenceFilterWithASCFalse,
           basicAuthenticationFilter,
           exceptionTranslationFilter,
           filterSecurityInterceptor"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;sec:filter-chain</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/**"</fo:inline> <fo:inline font-weight="bold">filters</fo:inline>=<fo:inline font-weight="bold">"
           securityContextPersistenceFilterWithASCTrue,
           formLoginFilter,
           exceptionTranslationFilter,
           filterSecurityInterceptor"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/list&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/constructor-arg&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

            </fo:block> The namespace element <fo:inline font-family="monospace">filter-chain</fo:inline> is used for convenience
            to set up the security filter chain(s) which are required within the application.
            <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>Note that you'll need to include the security namespace in your application
                context XML file in order to use this syntax. The older syntax which used a
                <fo:inline font-family="monospace">filter-chain-map</fo:inline> is still supported, but is deprecated in favour of
                the constructor argument injection.</fo:block></fo:footnote-body></fo:footnote>. It maps a particular URL pattern to a list of filters built up from the
            bean names specified in the <fo:inline font-family="monospace">filters</fo:inline> element, and combines them in
            a bean of type <fo:inline font-family="monospace">SecurityFilterChain</fo:inline>. The <fo:inline font-family="monospace">pattern</fo:inline>
            attribute takes an Ant Paths and the most specific URIs should appear first
            <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">2</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">2</fo:inline>Instead of a path pattern, the <fo:inline font-family="monospace">request-matcher-ref</fo:inline> attribute
            can be used to specify a <fo:inline font-family="monospace">RequestMatcher</fo:inline> instance for more powerful
            matching</fo:block></fo:footnote-body></fo:footnote>. At runtime the <fo:inline font-family="monospace">FilterChainProxy</fo:inline> will
            locate the first URI pattern that matches the current web request and the list of filter beans
            specified by the <fo:inline font-family="monospace">filters</fo:inline> attribute will be applied to that request.
            The filters will be invoked in the order they are defined, so you have complete control
            over the filter chain which is applied to a particular URL.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You may have noticed we have declared two
            <fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline>s in the filter chain
            (<fo:inline font-family="monospace">ASC</fo:inline> is short for <fo:inline font-family="monospace">allowSessionCreation</fo:inline>, a property
            of <fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline>). As web services will never
            present a <fo:inline font-family="monospace">jsessionid</fo:inline> on future requests, creating
            <fo:inline font-family="monospace">HttpSession</fo:inline>s for such user agents would be wasteful. If you had a
            high-volume application which required maximum scalability, we recommend you use the
            approach shown above. For smaller applications, using a single
            <fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline> (with its default
            <fo:inline font-family="monospace">allowSessionCreation</fo:inline> as <fo:inline font-family="monospace">true</fo:inline>) would likely be
            sufficient.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Note that <fo:inline font-family="monospace">FilterChainProxy</fo:inline> does not invoke standard filter
            lifecycle methods on the filters it is configured with. We recommend you use
            Spring's application context lifecycle interfaces as an alternative, just as you
            would for any other Spring bean.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> When we looked at how to set up web security using <fo:basic-link internal-destination="ns-web-xml"><fo:inline>namespace configuration</fo:inline></fo:basic-link>, we used a <fo:inline font-family="monospace">DelegatingFilterProxy</fo:inline> with
            the name <fo:inline>“springSecurityFilterChain”</fo:inline>. You should now be able to see that
            this is the name of the <fo:inline font-family="monospace">FilterChainProxy</fo:inline> which is created by the
            namespace. </fo:block><fo:block id="d0e3264"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Bypassing the Filter Chain</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Bypassing the Filter Chain</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> You can use the attribute <fo:inline font-family="monospace">filters =
                "none"</fo:inline> as an alternative to supplying a filter bean list. This will omit
                the request pattern from the security filter chain entirely. Note that anything
                matching this path will then have no authentication or authorization services
                applied and will be freely accessible. If you want to make use of the contents of
                the <fo:inline font-family="monospace">SecurityContext</fo:inline> contents during a request, then it must
                have passed through the security filter chain. Otherwise the
                <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> will not have been populated and the
                contents will be null.</fo:block></fo:block></fo:block><fo:block id="d0e3278"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Filter Ordering</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">8.3 Filter Ordering</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The order that filters are defined in the chain is very important. Irrespective of
            which filters you are actually using, the order should be as follows: <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e3283"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3284"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">ChannelProcessingFilter</fo:inline>, because it might need to
                    redirect to a different protocol</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3289"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline>, so a
                    <fo:inline font-family="monospace">SecurityContext</fo:inline> can be set up in the
                    <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> at the beginning of a web request,
                    and any changes to the <fo:inline font-family="monospace">SecurityContext</fo:inline> can be
                    copied to the <fo:inline font-family="monospace">HttpSession</fo:inline> when the web request ends (ready
                    for use with the next web request)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3306"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">ConcurrentSessionFilter</fo:inline>, because it uses the
                    <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> functionality and needs to update
                    the <fo:inline font-family="monospace">SessionRegistry</fo:inline> to reflect ongoing requests
                    from the principal</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3317"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Authentication processing mechanisms -
                    <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline>,
                    <fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline>,
                    <fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline> etc - so that the
                    <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> can be modified to contain a valid
                    <fo:inline font-family="monospace">Authentication</fo:inline> request token</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3335"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The <fo:inline font-family="monospace">SecurityContextHolderAwareRequestFilter</fo:inline>, if you are
                    using it to install a Spring Security aware
                    <fo:inline font-family="monospace">HttpServletRequestWrapper</fo:inline> into your servlet container</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3344"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The <fo:inline font-family="monospace">JaasApiIntegrationFilter</fo:inline>, if a
                    <fo:inline font-family="monospace">JaasAuthenticationToken</fo:inline> is in the
                    <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> this will process the
                    <fo:inline font-family="monospace">FilterChain</fo:inline> as the <fo:inline font-family="monospace">Subject</fo:inline> in the
                    <fo:inline font-family="monospace">JaasAuthenticationToken</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3364"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">RememberMeAuthenticationFilter</fo:inline>, so that if no earlier
                    authentication processing mechanism updated the
                    <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>, and the request presents a cookie
                    that enables remember-me services to take place, a suitable remembered
                    <fo:inline font-family="monospace">Authentication</fo:inline> object will be put there</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3375"><fo:list-item-label end-indent="label-end()"><fo:block>8.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">AnonymousAuthenticationFilter</fo:inline>, so that if no earlier
                    authentication processing mechanism updated the
                    <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>, an anonymous
                    <fo:inline font-family="monospace">Authentication</fo:inline> object will be put there</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3386"><fo:list-item-label end-indent="label-end()"><fo:block>9.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline>, to catch any Spring
                    Security exceptions so that either an HTTP error response can be returned or an
                    appropriate <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> can be
                    launched</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3394"><fo:list-item-label end-indent="label-end()"><fo:block>10.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline>, to protect web URIs and
                    raise exceptions when access is denied</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="request-matching"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Request Matching and <fo:inline font-family="monospace">HttpFirewall</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">8.4 Request Matching and <fo:inline font-family="monospace">HttpFirewall</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security has several areas where patterns you have defined are tested
            against incoming requests in order to decide how the request should be handled. This
            occurs when the <fo:inline font-family="monospace">FilterChainProxy</fo:inline> decides which filter chain a
            request should be passed through and also when the
            <fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline> decides which security constraints
            apply to a request. It's important to understand what the mechanism is and what URL
            value is used when testing against the patterns that you define.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The Servlet Specification defines several properties for the
            <fo:inline font-family="monospace">HttpServletRequest</fo:inline> which are accessible via getter
            methods, and which we might want to match against. These are the
            <fo:inline font-family="monospace">contextPath</fo:inline>, <fo:inline font-family="monospace">servletPath</fo:inline>,
            <fo:inline font-family="monospace">pathInfo</fo:inline> and <fo:inline font-family="monospace">queryString</fo:inline>. Spring Security is
            only interested in securing paths within the application, so the
            <fo:inline font-family="monospace">contextPath</fo:inline> is ignored. Unfortunately, the servlet spec does not
            define exactly what the values of <fo:inline font-family="monospace">servletPath</fo:inline> and
            <fo:inline font-family="monospace">pathInfo</fo:inline> will contain for a particular request URI. For example,
            each path segment of a URL may contain parameters, as defined in <fo:basic-link external-destination="url(http://www.ietf.org/rfc/rfc2396.txt)"><fo:inline>RFC 2396</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://www.ietf.org/rfc/rfc2396.txt)">http://www.ietf.org/rfc/rfc2396.txt</fo:basic-link>]</fo:inline><fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">3</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">3</fo:inline>You have probably seen this when a browser doesn't support cookies and the
                        <fo:inline font-family="monospace">jsessionid</fo:inline> parameter is appended to the URL after a
                        semi-colon. However the RFC allows the presence of these parameters in any path
                        segment of the URL</fo:block></fo:footnote-body></fo:footnote>. The Specification does not clearly state whether these should be
            included in the <fo:inline font-family="monospace">servletPath</fo:inline> and <fo:inline font-family="monospace">pathInfo</fo:inline>
            values and the behaviour varies between different servlet containers. There is a
            danger that when an application is deployed in a container which does not strip path
            parameters from these values, an attacker could add them to the requested URL in
            order to cause a pattern match to succeed or fail unexpectedly.<fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">4</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">4</fo:inline>The original values will be returned once the request leaves the
                    <fo:inline font-family="monospace">FilterChainProxy</fo:inline>, so will still be available to the
                    application.</fo:block></fo:footnote-body></fo:footnote>. Other variations in the incoming URL are also possible. For example, it
            could contain path-traversal sequences (like <fo:inline font-family="monospace">/../</fo:inline>) or multiple
            forward slashes (<fo:inline font-family="monospace">//</fo:inline>) which could also cause pattern-matches to
            fail. Some containers normalize these out before performing the servlet mapping, but
            others don't. To protect against issues like these,
            <fo:inline font-family="monospace">FilterChainProxy</fo:inline> uses an
            <fo:inline font-family="monospace">HttpFirewall</fo:inline> strategy to check and wrap the request.
            Un-normalized requests are automatically rejected by default, and path parameters
            and duplicate slashes are removed for matching purposes.<fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">5</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">5</fo:inline>So, for example, an original request path
                    <fo:inline font-family="monospace">/secure;hack=1/somefile.html;hack=2</fo:inline> will be returned as
                    <fo:inline font-family="monospace">/secure/somefile.html</fo:inline>.</fo:block></fo:footnote-body></fo:footnote>. It is therefore essential that a
            <fo:inline font-family="monospace">FilterChainProxy</fo:inline> is used to manage the security filter chain.
            Note that the <fo:inline font-family="monospace">servletPath</fo:inline> and <fo:inline font-family="monospace">pathInfo</fo:inline> values
            are decoded by the container, so your application should not have any valid paths
            which contain semi-colons, as these parts will be removed for matching purposes. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As mentioned above, the default strategy is to use Ant-style paths for matching
            and this is likely to be the best choice for most users. The strategy is implemented
            in the class <fo:inline font-family="monospace">AntPathRequestMatcher</fo:inline> which uses Spring's
            <fo:inline font-family="monospace">AntPathMatcher</fo:inline> to perform a case-insensitive match of the
            pattern against the concatenated <fo:inline font-family="monospace">servletPath</fo:inline> and
            <fo:inline font-family="monospace">pathInfo</fo:inline>, ignoring the <fo:inline font-family="monospace">queryString</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If for some reason, you need a more powerful matching strategy, you can use
            regular expressions. The strategy implementation is then
            <fo:inline font-family="monospace">RegexRequestMatcher</fo:inline>. See the Javadoc for this class for more
            information.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In practice we recommend that you use method security at your service layer, to
            control access to your application, and do not rely entirely on the use of security
            constraints defined at the web-application level. URLs change and it is difficult to
            take account of all the possible URLs that an application might support and how
            requests might be manipulated. You should try and restrict yourself to using a few
            simple ant paths which are simple to understand. Always try to use a
            <fo:inline>“deny-by-default”</fo:inline> approach where you have a catch-all wildcard
            (<fo:inline font-family="monospace">/**</fo:inline> or <fo:inline font-family="monospace">**</fo:inline>) defined last and denying access.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Security defined at the service layer is much more robust and harder to bypass, so
            you should always take advantage of Spring Security's method security
            options.</fo:block></fo:block><fo:block id="d0e3526"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Use with other Filter-Based Frameworks</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">8.5 Use with other Filter-Based Frameworks</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you're using some other framework that is also filter-based, then you need to make
            sure that the Spring Security filters come first. This enables the
            <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> to be populated in time for use by the
            other filters. Examples are the use of SiteMesh to decorate your web pages or a web
            framework like Wicket which uses a filter to handle its requests. </fo:block></fo:block><fo:block id="filter-chains-with-ns"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Advanced Namespace Configuration</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">8.6 Advanced Namespace Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As we saw earlier in the namespace chapter, it's possible to use multiple <fo:inline font-family="monospace">http</fo:inline>
        elements to define different security configurations for different URL patterns.
        Each element creates a filter chain within the internal <fo:inline font-family="monospace">FilterChainProxy</fo:inline> and the
        URL pattern that should be mapped to it. The elements will be added in the order they are declared, so the
        most specific patterns must again be declared first. Here's another example, for a similar situation to
        that above, where the application supports both a stateless RESTful API and also a normal web application
        which users log into using a form.
<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e3545">

  <fo:inline font-style="italic">&lt;!-- Stateless RESTful service using Basic authentication --&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;http</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/restful/**"</fo:inline> <fo:inline font-weight="bold">create-session</fo:inline>=<fo:inline font-weight="bold">"stateless"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">'/**'</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">'ROLE_REMOTE'</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;http-basic /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>

  <fo:inline font-style="italic">&lt;!-- Empty filter chain for the login page --&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;http</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/login.htm*"</fo:inline> <fo:inline font-weight="bold">security</fo:inline>=<fo:inline font-weight="bold">"none"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>

  <fo:inline font-style="italic">&lt;!-- Additional filter chain for normal users, matching all other requests --&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">'/**'</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">'ROLE_USER'</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;form-login</fo:inline> <fo:inline font-weight="bold">login-page</fo:inline>=<fo:inline font-weight="bold">'/login.htm'</fo:inline> <fo:inline font-weight="bold">default-target-url</fo:inline>=<fo:inline font-weight="bold">"/home.htm"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;logout /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
  
</fo:block>
        </fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="core-web-filters"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> There are some key filters which will always be used in a web application which uses
        Spring Security, so we'll look at these and their supporting classes and interfaces first.
        We won't cover every feature, so be sure to look at the Javadoc for them if you want to get
        the complete picture.</fo:block><fo:block id="filter-security-interceptor"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">9.1 <fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We've already seen <fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline> briefly when
            discussing <fo:basic-link internal-destination="tech-intro-access-control"><fo:inline>access-control in
            general</fo:inline></fo:basic-link>, and we've already used it with the namespace where the
            <fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline> elements are combined to configure it internally.
            Now we'll see how to explicitly configure it for use with a
            <fo:inline font-family="monospace">FilterChainProxy</fo:inline>, along with its companion filter
            <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline>. A typical configuration example is
            shown below: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e3575">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"filterSecurityInterceptor"</fo:inline>
      <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.access.intercept.FilterSecurityInterceptor"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"accessDecisionManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"accessDecisionManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"securityMetadataSource"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;security:filter-security-metadata-source&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;security:intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/secure/super/**"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_WE_DONT_HAVE"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;security:intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/secure/**"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_SUPERVISOR,ROLE_TELLER"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/security:filter-security-metadata-source&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline> is responsible for handling the
            security of HTTP resources. It requires a reference to an
            <fo:inline font-family="monospace">AuthenticationManager</fo:inline> and an
            <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>. It is also supplied with
            configuration attributes that apply to different HTTP URL requests. Refer back to <fo:basic-link internal-destination="tech-intro-config-attributes"><fo:inline>the original discussion on these</fo:inline></fo:basic-link> in
            the technical introduction.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline> can be configured with
            configuration attributes in two ways. The first, which is shown above, is using the
            <fo:inline font-family="monospace">&lt;filter-security-metadata-source&gt;</fo:inline> namespace element. This is
            similar to the <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> element from the namespace chapter
            but the <fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline>
            child elements only use the <fo:inline font-family="monospace">pattern</fo:inline> and <fo:inline font-family="monospace">access</fo:inline>
            attributes. Commas are used to delimit the different configuration attributes that apply
            to each HTTP URL. The second option is to write your own
            <fo:inline font-family="monospace">SecurityMetadataSource</fo:inline>, but this is beyond the scope of
            this document. Irrespective of the approach used, the
            <fo:inline font-family="monospace">SecurityMetadataSource</fo:inline> is responsible for returning a
            <fo:inline font-family="monospace">List&lt;ConfigAttribute&gt;</fo:inline> containing all of the configuration
            attributes associated with a single secure HTTP URL.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It should be noted that the
            <fo:inline font-family="monospace">FilterSecurityInterceptor.setSecurityMetadataSource()</fo:inline> method actually
            expects an instance of <fo:inline font-family="monospace">FilterInvocationSecurityMetadataSource</fo:inline>. This
            is a marker interface which subclasses
            <fo:inline font-family="monospace">SecurityMetadataSource</fo:inline>. It simply denotes the
            <fo:inline font-family="monospace">SecurityMetadataSource</fo:inline> understands
            <fo:inline font-family="monospace">FilterInvocation</fo:inline>s. In the interests of simplicity we'll continue
            to refer to the <fo:inline font-family="monospace">FilterInvocationSecurityMetadataSource</fo:inline> as
            a <fo:inline font-family="monospace">SecurityMetadataSource</fo:inline>, as the distinction is of little
            relevance to most users.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">SecurityMetadataSource</fo:inline> created by the namespace
            syntax obtains the configuration attributes for a particular
            <fo:inline font-family="monospace">FilterInvocation</fo:inline> by matching the request URL against the
            configured <fo:inline font-family="monospace">pattern</fo:inline> attributes. This behaves in the same way as it
            does for namespace configuration. The default is to treat all expressions as Apache Ant
            paths and regular expressions are also supported for more complex cases. The
            <fo:inline font-family="monospace">path-type</fo:inline> attribute is used to specify the type of pattern being
            used. It is not possible to mix expression syntaxes within the same definition. As an
            example, the previous configuration using regular expressions instead of Ant paths would
            be written as follows:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e3656">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"filterInvocationInterceptor"</fo:inline>
      <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.access.intercept.FilterSecurityInterceptor"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"accessDecisionManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"accessDecisionManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"runAsManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"runAsManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"securityMetadataSource"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;security:filter-security-metadata-source</fo:inline> <fo:inline font-weight="bold">path-type</fo:inline>=<fo:inline font-weight="bold">"regex"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;security:intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"\A/secure/super/.*\Z"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_WE_DONT_HAVE"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;security:intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"\A/secure/.*\"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_SUPERVISOR,ROLE_TELLER"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/security:filter-security-metadata-source&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Patterns are always evaluated in the order they are defined. Thus it is important that
            more specific patterns are defined higher in the list than less specific patterns. This
            is reflected in our example above, where the more specific
            <fo:inline font-family="monospace">/secure/super/</fo:inline> pattern appears higher than the less specific
            <fo:inline font-family="monospace">/secure/</fo:inline> pattern. If they were reversed, the
            <fo:inline font-family="monospace">/secure/</fo:inline> pattern would always match and the
            <fo:inline font-family="monospace">/secure/super/</fo:inline> pattern would never be evaluated.</fo:block></fo:block><fo:block id="exception-translation-filter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"> <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">9.2  <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> sits above the
            <fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline> in the security filter stack. It
            doesn't do any actual security enforcement itself, but handles exceptions thrown by the
            security interceptors and provides suitable and HTTP responses. <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e3686">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"exceptionTranslationFilter"</fo:inline>
  <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.access.ExceptionTranslationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationEntryPoint"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationEntryPoint"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"accessDeniedHandler"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"accessDeniedHandler"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"authenticationEntryPoint"</fo:inline>
  <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.authentication.LoginUrlAuthenticationEntryPoint"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"loginFormUrl"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"/login.jsp"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"accessDeniedHandler"</fo:inline>
     <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.access.AccessDeniedHandlerImpl"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"errorPage"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"/accessDenied.htm"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
</fo:block></fo:block><fo:block id="auth-entry-point"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> will be called if the
                user requests a secure HTTP resource but they are not authenticated. An appropriate
                <fo:inline font-family="monospace">AuthenticationException</fo:inline> or
                <fo:inline font-family="monospace">AccessDeniedException</fo:inline> will be thrown by a security
                interceptor further down the call stack, triggering the
                <fo:inline font-family="monospace">commence</fo:inline> method on the entry point. This does the job of
                presenting the appropriate response to the user so that authentication can begin.
                The one we've used here is <fo:inline font-family="monospace">LoginUrlAuthenticationEntryPoint</fo:inline>,
                which redirects the request to a different URL (typically a login page). The actual
                implementation used will depend on the authentication mechanism you want to be used
                in your application. </fo:block></fo:block><fo:block id="access-denied-handler"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">AccessDeniedHandler</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">AccessDeniedHandler</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">What happens if a user is already authenticated and they try to access a protected
                resource? In normal usage, this shouldn't happen because the application workflow
                should be restricted to operations to which a user has access. For example, an HTML
                link to an administration page might be hidden from users who do not have an admin
                role. You can't rely on hiding links for security though, as there's always a
                possibility that a user will just enter the URL directly in an attempt to bypass the
                restrictions. Or they might modify a RESTful URL to change some of the argument
                values. Your application must be protected against these scenarios or it will
                definitely be insecure. You will typically use simple web layer security to apply
                constraints to basic URLs and use more specific method-based security on your
                service layer interfaces to really nail down what is permissible.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If an <fo:inline font-family="monospace">AccessDeniedException</fo:inline> is thrown and a user
                has already been authenticated, then this means that an operation has been attempted
                for which they don't have enough permissions. In this case,
                <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> will invoke a second strategy, the
                <fo:inline font-family="monospace">AccessDeniedHandler</fo:inline>. By default, an
                <fo:inline font-family="monospace">AccessDeniedHandlerImpl</fo:inline> is used, which just sends a 403
                (Forbidden) response to the client. Alternatively you can configure an instance
                explicitly (as in the above example) and set an error page URL which it will
                forwards the request to <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>We use a forward so that the SecurityContextHolder still contains details of
                    the principal, which may be useful for displaying to the user. In old releases
                    of Spring Security we relied upon the servlet container to handle a 403 error
                    message, which lacked this useful contextual information.</fo:block></fo:footnote-body></fo:footnote>. This can be a simple <fo:inline>“access denied”</fo:inline> page, such as a JSP,
                or it could be a more complex handler such as an MVC controller. And of course, you
                can implement the interface yourself and use your own implementation. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It's also possible to supply a custom
                <fo:inline font-family="monospace">AccessDeniedHandler</fo:inline> when you're using the namespace
                to configure your application. See <fo:basic-link internal-destination="nsa-access-denied-handler"><fo:inline>the
                namespace appendix</fo:inline></fo:basic-link> for more details.</fo:block></fo:block><fo:block id="request-caching"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">SavedRequest</fo:inline>s and the <fo:inline font-family="monospace">RequestCache</fo:inline> Interface</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">SavedRequest</fo:inline>s and the <fo:inline font-family="monospace">RequestCache</fo:inline> Interface</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Another of <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline>'s responsibilities is
                to save the current request before invoking the <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline>.
                This allows the request to be restored after the use has authenticated (see previous overview
                of <fo:basic-link internal-destination="tech-intro-web-authentication"><fo:inline>web authentication</fo:inline></fo:basic-link>).
                A typical example would be where the user logs in with a form, and is then redirected to the
                original URL by the default <fo:inline font-family="monospace">SavedRequestAwareAuthenticationSuccessHandler</fo:inline>
                (see <fo:basic-link internal-destination="form-login-flow-handling"><fo:inline>below</fo:inline></fo:basic-link>).
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">RequestCache</fo:inline> encapsulates the functionality required for storing
                and retrieving <fo:inline font-family="monospace">HttpServletRequest</fo:inline> instances. By default
                the <fo:inline font-family="monospace">HttpSessionRequestCache</fo:inline> is used, which stores the request
                in the <fo:inline font-family="monospace">HttpSession</fo:inline>. The <fo:inline font-family="monospace">RequestCacheFilter</fo:inline>
                has the job of actually restoring the saved request from the cache when the user is redirected to
                the original URL.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Under normal circumstances, you shouldn't need to modify any of this functionality, but the
                saved-request handling is a <fo:inline>“best-effort”</fo:inline> approach and there may be situations which
                the default configuration isn't able to handle. The use of these interfaces makes it fully pluggable
                from Spring Security 3.0 onwards.
            </fo:block></fo:block></fo:block><fo:block id="security-context-persistence-filter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">9.3 <fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> We covered the purpose of this all-important filter in the <fo:basic-link internal-destination="tech-intro-sec-context-persistence"><fo:inline>Technical Overview</fo:inline></fo:basic-link> chapter so
            you might want to re-read that section at this point. Let's first take a look at how you
            would configure it for use with a <fo:inline font-family="monospace">FilterChainProxy</fo:inline>. A basic
            configuration only requires the bean itself <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e3803">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"securityContextPersistenceFilter"</fo:inline>
  <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.context.SecurityContextPersistenceFilter"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
</fo:block> As we saw previously, this filter has two main tasks. It is responsible for
            storage of the <fo:inline font-family="monospace">SecurityContext</fo:inline> contents between HTTP requests and
            for clearing the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> when a request is
            completed. Clearing the <fo:inline font-family="monospace">ThreadLocal</fo:inline> in which the context is
            stored is essential, as it might otherwise be possible for a thread to be replaced into
            the servlet container's thread pool, with the security context for a particular user
            still attached. This thread might then be used at a later stage, performing operations
            with the wrong credentials. </fo:block><fo:block id="security-context-repository"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">SecurityContextRepository</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">SecurityContextRepository</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">From Spring Security 3.0, the job of loading and storing the security context is
                now delegated to a separate strategy interface:
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e3821">
<fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">interface</fo:inline> SecurityContextRepository {
  SecurityContext loadContext(HttpRequestResponseHolder requestResponseHolder);
  <fo:inline font-weight="bold">void</fo:inline> saveContext(SecurityContext context, HttpServletRequest request,
         HttpServletResponse response);
}
</fo:block>
                The <fo:inline font-family="monospace">HttpRequestResponseHolder</fo:inline> is simply a container for the
                incoming request and response objects, allowing the implementation to replace these
                with wrapper classes. The returned contents will be passed to the filter chain. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The default implementation is
                <fo:inline font-family="monospace">HttpSessionSecurityContextRepository</fo:inline>, which stores the
                security context as an <fo:inline font-family="monospace">HttpSession</fo:inline> attribute <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">2</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">2</fo:inline>In Spring Security 2.0 and earlier, this filter was called
                    <fo:inline font-family="monospace">HttpSessionContextIntegrationFilter</fo:inline> and performed all the
                    work of storing the context was performed by the filter itself. If you were
                    familiar with this class, then most of the configuration options which were
                    available can now be found on
                    <fo:inline font-family="monospace">HttpSessionSecurityContextRepository</fo:inline>. </fo:block></fo:footnote-body></fo:footnote>. The most important configuration parameter for this implementation is
                the <fo:inline font-family="monospace">allowSessionCreation</fo:inline> property, which defaults to
                <fo:inline font-family="monospace">true</fo:inline>, thus allowing the class to create a session if it needs one
                to store the security context for an authenticated user (it won't create one unless
                authentication has taken place and the contents of the security context have
                changed). If you don't want a session to be created, then you can set this property
                to <fo:inline font-family="monospace">false</fo:inline>: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e3854">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"securityContextPersistenceFilter"</fo:inline>
    <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.context.SecurityContextPersistenceFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">'securityContextRepository'</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">'org.springframework.security.web.context.HttpSessionSecurityContextRepository'</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">'allowSessionCreation'</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">'false'</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
</fo:block> Alternatively you could provide an instance of
                <fo:inline font-family="monospace">NullSecurityContextRepository</fo:inline>, a <fo:inline>“<fo:basic-link external-destination="url(http://en.wikipedia.org/wiki/Null_Object_pattern)"><fo:inline>null object</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://en.wikipedia.org/wiki/Null_Object_pattern)">http://en.wikipedia.org/wiki/Null_Object_pattern</fo:basic-link>]</fo:inline>”</fo:inline>
                implementation, which will prevent the security context from being stored, even if a
                session has already been created during the request. </fo:block></fo:block></fo:block><fo:block id="form-login-filter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">9.4 <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">We've now seen the three main filters which are always present in a Spring Security
            web configuration. These are also the three which are automatically created by the
            namespace <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> element and cannot be substituted with
            alternatives. The only thing that's missing now is an actual authentication mechanism,
            something that will allow a user to authenticate. This filter is the most commonly used
            authentication filter and the one that is most often customized <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">3</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">3</fo:inline>For historical reasons, prior to Spring Security 3.0, this filter was called
                <fo:inline font-family="monospace">AuthenticationProcessingFilter</fo:inline> and the entry point was called
                <fo:inline font-family="monospace">AuthenticationProcessingFilterEntryPoint</fo:inline>. Since the framework
                now supports many different forms of authentication, they have both been given more
                specific names in 3.0.</fo:block></fo:footnote-body></fo:footnote>. It also provides the implementation used by the
            <fo:inline font-family="monospace">&lt;form-login&gt;</fo:inline> element from the namespace. There are three stages
            required to configure it. <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e3886"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3887"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Configure a <fo:inline font-family="monospace">LoginUrlAuthenticationEntryPoint</fo:inline> with the
                    URL of the login page, just as we did above, and set it on the
                    <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline>. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3896"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Implement the login page (using a JSP or MVC controller).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3899"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Configure an instance of
                    <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline> in the application
                    context</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e3905"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Add the filter bean to your filter chain proxy (making sure you pay attention
                    to the order). </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block> The login form simply contains <fo:inline font-family="monospace">j_username</fo:inline> and
            <fo:inline font-family="monospace">j_password</fo:inline> input fields, and posts to the URL that is monitored by
            the filter (by default this is <fo:inline font-family="monospace">/j_spring_security_check</fo:inline>). The basic
            filter configuration looks something like this: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e3919">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"authenticationFilter"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
<fo:inline font-weight="bold">"org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"filterProcessesUrl"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"/j_spring_security_check"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline> 
                </fo:block></fo:block><fo:block id="form-login-flow-handling"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Application Flow on Authentication Success and Failure</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Application Flow on Authentication Success and Failure</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The filter calls the configured
                <fo:inline font-family="monospace">AuthenticationManager</fo:inline> to process each authentication
                request. The destination following a successful authentication or an authentication
                failure is controlled by the
                <fo:inline font-family="monospace">AuthenticationSuccessHandler</fo:inline> and
                <fo:inline font-family="monospace">AuthenticationFailureHandler</fo:inline> strategy interfaces,
                respectively. The filter has properties which allow you to set these so you can
                customize the behaviour completely <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">4</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">4</fo:inline>In versions prior to 3.0, the application flow at this point had evolved to a
                    stage was controlled by a mix of properties on this class and strategy plugins.
                    The decision was made for 3.0 to refactor the code to make these two strategies
                    entirely responsible. </fo:block></fo:footnote-body></fo:footnote>. Some standard implementations are supplied such as
                <fo:inline font-family="monospace">SimpleUrlAuthenticationSuccessHandler</fo:inline>,
                <fo:inline font-family="monospace">SavedRequestAwareAuthenticationSuccessHandler</fo:inline>,
                <fo:inline font-family="monospace">SimpleUrlAuthenticationFailureHandler</fo:inline> and
                <fo:inline font-family="monospace">ExceptionMappingAuthenticationFailureHandler</fo:inline>. Have a look at
                the Javadoc for these classes and also for <fo:inline font-family="monospace">AbstractAuthenticationProcessingFilter</fo:inline>
                to get an overview of how they work and the supported features.
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If authentication is successful, the resulting
                <fo:inline font-family="monospace">Authentication</fo:inline> object will be placed into the
                <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>. The configured
                <fo:inline font-family="monospace">AuthenticationSuccessHandler</fo:inline> will then be called to
                either redirect or forward the user to the appropriate destination. By default a
                <fo:inline font-family="monospace">SavedRequestAwareAuthenticationSuccessHandler</fo:inline> is used, which
                means that the user will be redirected to the original destination they requested
                before they were asked to login. <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" margin-left="0.25in" margin-right="0.25in" id="d0e3968"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> caches the original
                    request a user makes. When the user authenticates, the request handler makes use
                    of this cached request to obtain the original URL and redirect to it. The
                    original request is then rebuilt and used as an alternative. </fo:block></fo:block></fo:block> If authentication fails, the configured
                <fo:inline font-family="monospace">AuthenticationFailureHandler</fo:inline> will be invoked. </fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="basic"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Basic and digest authentiation are alternative authentication mechanisms which are popular
        in web applications. Basic authentication is often used with stateless clients which pass
        their credentials on each request. It's quite common to use it in combination with
        form-based authentication where an application is used through both a browser-based user
        interface and as a web-service. However, basic authentication transmits the password as
        plain text so it should only really be used over an encrypted transport layer such as
        HTTPS.</fo:block><fo:block id="basic-processing-filter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">10.1 <fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline> is responsible for processing basic
            authentication credentials presented in HTTP headers. This can be used for
            authenticating calls made by Spring remoting protocols (such as Hessian and Burlap), as
            well as normal browser user agents (such as Firefox and Internet Explorer). The standard
            governing HTTP Basic Authentication is defined by RFC 1945, Section 11, and
            <fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline> conforms with this RFC. Basic
            Authentication is an attractive approach to authentication, because it is very widely
            deployed in user agents and implementation is extremely simple (it's just a Base64
            encoding of the username:password, specified in an HTTP header).</fo:block><fo:block id="basic-config"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To implement HTTP Basic Authentication, you need to add a
                <fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline> to your filter chain. The application
                context should contain <fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline> and its required
                collaborator:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4010">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"basicAuthenticationFilter"</fo:inline>
  <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.authentication.www.BasicAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationEntryPoint"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationEntryPoint"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"authenticationEntryPoint"</fo:inline>
  <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"realmName"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"Name Of Your Realm"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
                </fo:block> </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The configured <fo:inline font-family="monospace">AuthenticationManager</fo:inline> processes each
                authentication request. If authentication fails, the configured
                <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> will be used to retry the
                authentication process. Usually you will use the filter in combination with a
                <fo:inline font-family="monospace">BasicAuthenticationEntryPoint</fo:inline>, which returns a 401 response with
                a suitable header to retry HTTP Basic authentication. If authentication is
                successful, the resulting <fo:inline font-family="monospace">Authentication</fo:inline> object will
                be placed into the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> as usual.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the authentication event was successful, or authentication was not attempted
                because the HTTP header did not contain a supported authentication request, the
                filter chain will continue as normal. The only time the filter chain will be
                interrupted is if authentication fails and the
                <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> is called.</fo:block></fo:block></fo:block><fo:block id="digest-processing-filter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">DigestAuthenticationFilter</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">10.2 <fo:inline font-family="monospace">DigestAuthenticationFilter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">DigestAuthenticationFilter</fo:inline> is capable of processing digest
            authentication credentials presented in HTTP headers. Digest Authentication attempts to
            solve many of the weaknesses of Basic authentication, specifically by ensuring
            credentials are never sent in clear text across the wire. Many user agents support
            Digest Authentication, including FireFox and Internet Explorer. The standard governing
            HTTP Digest Authentication is defined by RFC 2617, which updates an earlier version of
            the Digest Authentication standard prescribed by RFC 2069. Most user agents implement
            RFC 2617. Spring Security's <fo:inline font-family="monospace">DigestAuthenticationFilter</fo:inline> is
            compatible with the "<fo:inline font-family="monospace">auth</fo:inline>" quality of protection
            (<fo:inline font-family="monospace">qop</fo:inline>) prescribed by RFC 2617, which also provides backward
            compatibility with RFC 2069. Digest Authentication is a more attractive option if you
            need to use unencrypted HTTP (i.e. no TLS/HTTPS) and wish to maximise security of the
            authentication process. Indeed Digest Authentication is a mandatory requirement for the
            WebDAV protocol, as noted by RFC 2518 Section 17.1.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Digest Authentication is definitely the most secure choice between Form
            Authentication, Basic Authentication and Digest Authentication, although extra security
            also means more complex user agent implementations. Central to Digest Authentication is
            a "nonce". This is a value the server generates. Spring Security's nonce adopts the
            following format:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4056">
  base64(expirationTime + ":" + md5Hex(expirationTime + ":" + key))

  expirationTime:   The date and time when the nonce expires, expressed in milliseconds
  key:              A private key to prevent modification of the nonce token
            </fo:block> </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">DigestAuthenticatonEntryPoint</fo:inline> has a property specifying the
            <fo:inline font-family="monospace">key</fo:inline> used for generating the nonce tokens, along with a
            <fo:inline font-family="monospace">nonceValiditySeconds</fo:inline> property for determining the expiration time
            (default 300, which equals five minutes). Whist ever the nonce is valid, the digest is
            computed by concatenating various strings including the username, password, nonce, URI
            being requested, a client-generated nonce (merely a random value which the user agent
            generates each request), the realm name etc, then performing an MD5 hash. Both the
            server and user agent perform this digest computation, resulting in different hash codes
            if they disagree on an included value (eg password). In Spring Security implementation,
            if the server-generated nonce has merely expired (but the digest was otherwise valid),
            the <fo:inline font-family="monospace">DigestAuthenticationEntryPoint</fo:inline> will send a
            <fo:inline font-family="monospace">"stale=true"</fo:inline> header. This tells the user agent there is no need to
            disturb the user (as the password and username etc is correct), but simply to try again
            using a new nonce.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An appropriate value for <fo:inline font-family="monospace">DigestAuthenticationEntryPoint</fo:inline>'s
            <fo:inline font-family="monospace">nonceValiditySeconds</fo:inline> parameter will depend on your application.
            Extremely secure applications should note that an intercepted authentication header can
            be used to impersonate the principal until the <fo:inline font-family="monospace">expirationTime</fo:inline>
            contained in the nonce is reached. This is the key principle when selecting an
            appropriate setting, but it would be unusual for immensely secure applications to not be
            running over TLS/HTTPS in the first instance.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Because of the more complex implementation of Digest Authentication, there are often
            user agent issues. For example, Internet Explorer fails to present an
            "<fo:inline font-family="monospace">opaque</fo:inline>" token on subsequent requests in the same session. Spring
            Security filters therefore encapsulate all state information into the
            "<fo:inline font-family="monospace">nonce</fo:inline>" token instead. In our testing, Spring Security's
            implementation works reliably with FireFox and Internet Explorer, correctly handling
            nonce timeouts etc.</fo:block><fo:block id="digest-config"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now that we've reviewed the theory, let's see how to use it. To implement HTTP
                Digest Authentication, it is necessary to define
                <fo:inline font-family="monospace">DigestAuthenticationFilter</fo:inline> in the filter chain. The application
                context will need to define the <fo:inline font-family="monospace">DigestAuthenticationFilter</fo:inline> and
                its required collaborators:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4108">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"digestFilter"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
    <fo:inline font-weight="bold">"org.springframework.security.web.authentication.www.DigestAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"userDetailsService"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"jdbcDaoImpl"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationEntryPoint"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"digestEntryPoint"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"userCache"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"userCache"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"digestEntryPoint"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
    <fo:inline font-weight="bold">"org.springframework.security.web.authentication.www.DigestAuthenticationEntryPoint"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"realmName"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"Contacts Realm via Digest Authentication"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"key"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"acegi"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"nonceValiditySeconds"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"10"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
                </fo:block> </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The configured <fo:inline font-family="monospace">UserDetailsService</fo:inline> is needed because
                <fo:inline font-family="monospace">DigestAuthenticationFilter</fo:inline> must have direct access to the clear
                text password of a user. Digest Authentication will NOT work if you are using
                encoded passwords in your DAO <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>It is possible to encode the password in the
                format HEX( MD5(username:realm:password) ) provided the
                <fo:inline font-family="monospace">DigestAuthenticationFilter.passwordAlreadyEncoded</fo:inline> is set to <fo:inline font-family="monospace">true</fo:inline>.
                However, other password encodings will not work with digest authentication.</fo:block></fo:footnote-body></fo:footnote>.
                The DAO collaborator, along with the <fo:inline font-family="monospace">UserCache</fo:inline>, are typically shared directly
                with a <fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline>. The
                <fo:inline font-family="monospace">authenticationEntryPoint</fo:inline> property must be
                <fo:inline font-family="monospace">DigestAuthenticationEntryPoint</fo:inline>, so that
                <fo:inline font-family="monospace">DigestAuthenticationFilter</fo:inline> can obtain the correct
                <fo:inline font-family="monospace">realmName</fo:inline> and <fo:inline font-family="monospace">key</fo:inline> for digest
                calculations.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Like <fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline>, if authentication is successful
                an <fo:inline font-family="monospace">Authentication</fo:inline> request token will be placed into
                the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>. If the authentication event was
                successful, or authentication was not attempted because the HTTP header did not
                contain a Digest Authentication request, the filter chain will continue as normal.
                The only time the filter chain will be interrupted is if authentication fails and
                the <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> is called, as discussed
                in the previous paragraph.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Digest Authentication's RFC offers a range of additional features to further
                increase security. For example, the nonce can be changed on every request. Despite
                this, Spring Security implementation was designed to minimise the complexity of the
                implementation (and the doubtless user agent incompatibilities that would emerge),
                and avoid needing to store server-side state. You are invited to review RFC 2617 if
                you wish to explore these features in more detail. As far as we are aware, Spring
                Security's implementation does comply with the minimum standards of this RFC.</fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="remember-me"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="remember-me-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">11.1 Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Remember-me or persistent-login authentication refers to web sites being able to
            remember the identity of a principal between sessions. This is typically accomplished by
            sending a cookie to the browser, with the cookie being detected during future sessions
            and causing automated login to take place. Spring Security provides the necessary hooks
            for these operations to take place, and has two concrete remember-me implementations.
            One uses hashing to preserve the security of cookie-based tokens and the other uses a
            database or other persistent storage mechanism to store the generated tokens. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Note that both implemementations require a
            <fo:inline font-family="monospace">UserDetailsService</fo:inline>. If you are using an authentication
            provider which doesn't use a <fo:inline font-family="monospace">UserDetailsService</fo:inline> (for
            example, the LDAP provider) then it won't work unless you also have a
            <fo:inline font-family="monospace">UserDetailsService</fo:inline> bean in your application context.
        </fo:block></fo:block><fo:block id="remember-me-hash-token"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Simple Hash-Based Token Approach</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">11.2 Simple Hash-Based Token Approach</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This approach uses hashing to achieve a useful remember-me strategy. In essence a
            cookie is sent to the browser upon successful interactive authentication, with the
            cookie being composed as follows:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4192">
    base64(username + ":" + expirationTime + ":" +
             md5Hex(username + ":" + expirationTime + ":" password + ":" + key))

    username:          As identifiable to the <fo:inline font-family="monospace">UserDetailsService</fo:inline>
    password:          That matches the one in the retrieved UserDetails
    expirationTime:    The date and time when the remember-me token expires,
                       expressed in milliseconds
    key:               A private key to prevent modification of the remember-me token
        </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As such the remember-me token is valid only for the period specified, and provided
            that the username, password and key does not change. Notably, this has a potential
            security issue in that a captured remember-me token will be usable from any user agent
            until such time as the token expires. This is the same issue as with digest
            authentication. If a principal is aware a token has been captured, they can easily
            change their password and immediately invalidate all remember-me tokens on issue. If
            more significant security is needed you should use the approach described in the next
            section. Alternatively remember-me services should simply not be used at all.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you are familiar with the topics discussed in the chapter on <fo:basic-link internal-destination="ns-config"><fo:inline>namespace configuration</fo:inline></fo:basic-link>, you can enable remember-me
            authentication just by adding the <fo:inline font-family="monospace">&lt;remember-me&gt;</fo:inline> element: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4207">
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    ...
    <fo:inline font-weight="bold">&lt;remember-me</fo:inline> <fo:inline font-weight="bold">key</fo:inline>=<fo:inline font-weight="bold">"myAppKey"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
  
                </fo:block> The <fo:inline font-family="monospace">UserDetailsService</fo:inline> will
            normally be selected automatically. If you have more than one in your application
            context, you need to specify which one should be used with the
            <fo:inline font-family="monospace">user-service-ref</fo:inline> attribute, where the value is the name of your
            <fo:inline font-family="monospace">UserDetailsService</fo:inline> bean. </fo:block></fo:block><fo:block id="remember-me-persistent-token"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Persistent Token Approach</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">11.3 Persistent Token Approach</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This approach is based on the article <fo:basic-link external-destination="url(http://jaspan.com/improved_persistent_login_cookie_best_practice)"><fo:inline>http://jaspan.com/improved_persistent_login_cookie_best_practice</fo:inline></fo:basic-link> with some minor
            modifications <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>Essentially, the username is not included in the cookie, to prevent exposing a
                valid login name unecessarily. There is a discussion on this in the comments section
                of this article.</fo:block></fo:footnote-body></fo:footnote>. To use the this approach with namespace configuration, you would supply a
            datasource reference: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4231">
  <fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
    ...
    <fo:inline font-weight="bold">&lt;remember-me</fo:inline> <fo:inline font-weight="bold">data-source-ref</fo:inline>=<fo:inline font-weight="bold">"someDataSource"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
  
            </fo:block> The database should contain a
            <fo:inline font-family="monospace">persistent_logins</fo:inline> table, created using the following SQL (or
            equivalent):
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4237">
    create table persistent_logins (username varchar(64) not null,
                                    series varchar(64) primary key,
                                    token varchar(64) not null,
                                    last_used timestamp not null)
</fo:block></fo:block></fo:block><fo:block id="remember-me-impls"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Remember-Me Interfaces and Implementations</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">11.4 Remember-Me Interfaces and Implementations</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Remember-me authentication is not used with basic authentication, given it is often
            not used with <fo:inline font-family="monospace">HttpSession</fo:inline>s. Remember-me is used with
            <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline>, and is implemented via hooks in
            the <fo:inline font-family="monospace">AbstractAuthenticationProcessingFilter</fo:inline> superclass. The hooks will
            invoke a concrete <fo:inline font-family="monospace">RememberMeServices</fo:inline> at the appropriate
            times. The interface looks like this:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4258">
  Authentication autoLogin(HttpServletRequest request, HttpServletResponse response);
  <fo:inline font-weight="bold">void</fo:inline> loginFail(HttpServletRequest request, HttpServletResponse response);
  <fo:inline font-weight="bold">void</fo:inline> loginSuccess(HttpServletRequest request, HttpServletResponse response,
      Authentication successfulAuthentication);
    </fo:block>
            Please refer to the JavaDocs for a fuller discussion on what the methods do, although
            note at this stage that <fo:inline font-family="monospace">AbstractAuthenticationProcessingFilter</fo:inline> only
            calls the <fo:inline font-family="monospace">loginFail()</fo:inline> and <fo:inline font-family="monospace">loginSuccess()</fo:inline> methods.
            The <fo:inline font-family="monospace">autoLogin()</fo:inline> method is called by
            <fo:inline font-family="monospace">RememberMeAuthenticationFilter</fo:inline> whenever the
            <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> does not contain an
            <fo:inline font-family="monospace">Authentication</fo:inline>. This interface therefore provides the
            underlying remember-me implementation with sufficient notification of
            authentication-related events, and delegates to the implementation whenever a candidate
            web request might contain a cookie and wish to be remembered. This design allows any
            number of remember-me implementation strategies. We've seen above that Spring Security
            provides two implementations. We'll look at these in turn.</fo:block><fo:block id="d0e4282"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">TokenBasedRememberMeServices</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">TokenBasedRememberMeServices</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This implementation supports the simpler approach described in <fo:basic-link internal-destination="remember-me-hash-token"><fo:inline>Section 11.2, “Simple Hash-Based Token Approach”</fo:inline></fo:basic-link>.
                <fo:inline font-family="monospace">TokenBasedRememberMeServices</fo:inline> generates a
                <fo:inline font-family="monospace">RememberMeAuthenticationToken</fo:inline>, which is processed by
                <fo:inline font-family="monospace">RememberMeAuthenticationProvider</fo:inline>. A <fo:inline font-family="monospace">key</fo:inline> is
                shared between this authentication provider and the
                <fo:inline font-family="monospace">TokenBasedRememberMeServices</fo:inline>. In addition,
                <fo:inline font-family="monospace">TokenBasedRememberMeServices</fo:inline> requires A UserDetailsService from
                which it can retrieve the username and password for signature comparison purposes,
                and generate the <fo:inline font-family="monospace">RememberMeAuthenticationToken</fo:inline> to contain the
                correct <fo:inline font-family="monospace">GrantedAuthority</fo:inline>s. Some sort of logout
                command should be provided by the application that invalidates the cookie if the
                user requests this. <fo:inline font-family="monospace">TokenBasedRememberMeServices</fo:inline> also
                implements Spring Security's <fo:inline font-family="monospace">LogoutHandler</fo:inline> interface
                so can be used with <fo:inline font-family="monospace">LogoutFilter</fo:inline> to have the cookie cleared
                automatically. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The beans required in an application context to enable remember-me services are as
                follows: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4324">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"rememberMeFilter"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
 <fo:inline font-weight="bold">"org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"rememberMeServices"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"rememberMeServices"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"theAuthenticationManager"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"rememberMeServices"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
 <fo:inline font-weight="bold">"org.springframework.security.web.authentication.rememberme.TokenBasedRememberMeServices"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"userDetailsService"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"myUserDetailsService"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"key"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"springRocks"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"rememberMeAuthenticationProvider"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
 <fo:inline font-weight="bold">"org.springframework.security.authentication.rememberme.RememberMeAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"key"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"springRocks"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

            </fo:block>Don't forget to add your
                <fo:inline font-family="monospace">RememberMeServices</fo:inline> implementation to your
                <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter.setRememberMeServices()</fo:inline>
                property, include the <fo:inline font-family="monospace">RememberMeAuthenticationProvider</fo:inline> in your
                <fo:inline font-family="monospace">AuthenticationManager.setProviders()</fo:inline> list, and add
                <fo:inline font-family="monospace">RememberMeAuthenticationFilter</fo:inline> into your
                <fo:inline font-family="monospace">FilterChainProxy</fo:inline> (typically immediately after your
                <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline>).</fo:block></fo:block><fo:block id="d0e4348"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">PersistentTokenBasedRememberMeServices</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">PersistentTokenBasedRememberMeServices</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This class can be used in the same way as
                <fo:inline font-family="monospace">TokenBasedRememberMeServices</fo:inline>, but it additionally needs to be
                configured with a <fo:inline font-family="monospace">PersistentTokenRepository</fo:inline> to store
                the tokens. There are two standard implementations. <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e4359"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e4360"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">InMemoryTokenRepositoryImpl</fo:inline> which is intended for
                        testing only.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e4365"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">JdbcTokenRepositoryImpl</fo:inline> which stores the tokens in
                        a database. </fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block> The database schema is described above in <fo:basic-link internal-destination="remember-me-persistent-token"><fo:inline>Section 11.3, “Persistent Token Approach”</fo:inline></fo:basic-link>. </fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="session-mgmt"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">HTTP session related functonality is handled by a combination of the
        <fo:inline font-family="monospace">SessionManagementFilter</fo:inline> and the
        <fo:inline font-family="monospace">SessionAuthenticationStrategy</fo:inline> interface, which the filter
        delegates to. Typical usage includes session-fixation protection attack prevention,
        detection of session timeouts and restrictions on how many sessions an authenticated user
        may have open concurrently.</fo:block><fo:block id="d0e4385"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">SessionManagementFilter</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">12.1 SessionManagementFilter</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">SessionManagementFilter</fo:inline> checks the contents of the
            <fo:inline font-family="monospace">SecurityContextRepository</fo:inline> against the current contents of
            the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> to determine whether a user has been
            authenticated during the current request, typically by a non-interactive authentication
            mechanism, such as pre-authentication or remember-me <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>Authentication by mechanisms which perform a redirect after authenticating (such
                as form-login) will not be detected by
                <fo:inline font-family="monospace">SessionManagementFilter</fo:inline>, as the filter will not be invoked
                during the authenticating request. Session-management functionality has to be
                handled separately in these cases. </fo:block></fo:footnote-body></fo:footnote>. If the repository contains a security context, the filter does nothing. If
            it doesn't, and the thread-local <fo:inline font-family="monospace">SecurityContext</fo:inline> contains
            a (non-anonymous) <fo:inline font-family="monospace">Authentication</fo:inline> object, the filter
            assumes they have been authenticated by a previous filter in the stack. It will then
            invoke the configured
            <fo:inline font-family="monospace">SessionAuthenticationStrategy</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If the user is not currently authenticated, the filter will check whether an invalid
            session ID has been requested (because of a timeout, for example) and will invoke the configured
            <fo:inline font-family="monospace">InvalidSessionStrategy</fo:inline>, if one is set. The most common behaviour
            is just to redirect to a fixed URL and this is encapsulated in the standard implementation
            <fo:inline font-family="monospace">SimpleRedirectInvalidSessionStrategy</fo:inline>. The latter is also used
            when configuring an invalid session URL through the namespace,
            <fo:basic-link internal-destination="ns-session-mgmt"><fo:inline>as described earlier</fo:inline></fo:basic-link>.</fo:block></fo:block><fo:block id="d0e4426"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">SessionAuthenticationStrategy</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">12.2 <fo:inline font-family="monospace">SessionAuthenticationStrategy</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:inline font-family="monospace">SessionAuthenticationStrategy</fo:inline> is used by both
            <fo:inline font-family="monospace">SessionManagementFilter</fo:inline> and
            <fo:inline font-family="monospace">AbstractAuthenticationProcessingFilter</fo:inline>, so if you are using a
            customized form-login class, for example, you will need to inject it into both of these.
            In this case, a typical configuration, combining the namespace and custom beans might
            look like this:<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4441">
<fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;custom-filter</fo:inline> <fo:inline font-weight="bold">position</fo:inline>=<fo:inline font-weight="bold">"FORM_LOGIN_FILTER"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"myAuthFilter"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;session-management</fo:inline> <fo:inline font-weight="bold">session-authentication-strategy-ref</fo:inline>=<fo:inline font-weight="bold">"sas"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;beans:bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"myAuthFilter"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
  <fo:inline font-weight="bold">"org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;beans:property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"sessionAuthenticationStrategy"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"sas"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    ...
<fo:inline font-weight="bold">&lt;/beans:bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;beans:bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"sas"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
  <fo:inline font-weight="bold">"org.springframework.security.web.authentication.session.SessionFixationProtectionStrategy"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
</fo:block>
            Note that the use of the default, <fo:inline font-family="monospace">SessionFixationProtectionStrategy</fo:inline>
            may cause issues if you are storing beans in the session which implement
            <fo:inline font-family="monospace">HttpSessionBindingListener</fo:inline>, including Spring session-scoped
            beans. See the Javadoc for this class for more information.
        </fo:block></fo:block><fo:block id="concurrent-sessions"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Concurrency Control</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">12.3 Concurrency Control</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security is able to prevent a principal from concurrently authenticating to the
            same application more than a specified number of times. Many ISVs take advantage of this
            to enforce licensing, whilst network administrators like this feature because it helps
            prevent people from sharing login names. You can, for example, stop user
            <fo:inline>“Batman”</fo:inline> from logging onto the web application from two different sessions.
            You can either expire their previous login or you can report an error when they try to
            log in again, preventing the second login. Note that if you are using the second
            approach, a user who has not explicitly logged out (but who has just closed their
            browser, for example) will not be able to log in again until their original session
            expires.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Concurrency control is supported by the namespace, so please check the earlier
            namespace chapter for the simplest configuration. Sometimes you need to customize things
            though. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The implementation uses a specialized version of
            <fo:inline font-family="monospace">SessionAuthenticationStrategy</fo:inline>, called
            <fo:inline font-family="monospace">ConcurrentSessionControlStrategy</fo:inline>. <fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" margin-left="0.25in" margin-right="0.25in" id="d0e4468"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always">Note</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Previously the concurrent authentication check was made by the
                <fo:inline font-family="monospace">ProviderManager</fo:inline>, which could be injected with a
                <fo:inline font-family="monospace">ConcurrentSessionController</fo:inline>. The latter would check if the user
                was attempting to exceed the number of permitted sessions. However, this approach
                required that an HTTP session be created in advance, which is undesirable. In Spring
                Security 3, the user is first authenticated by the
                <fo:inline font-family="monospace">AuthenticationManager</fo:inline> and once they are successfully
                authenticated, a session is created and the check is made whether they are allowed
                to have another session open.</fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To use concurrent session support, you'll need to add the following to
            <fo:inline font-family="monospace">web.xml</fo:inline>: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4485">
  <fo:inline font-weight="bold">&lt;listener&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;listener-class&gt;</fo:inline>
      org.springframework.security.web.session.HttpSessionEventPublisher
    <fo:inline font-weight="bold">&lt;/listener-class&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/listener&gt;</fo:inline> 
        </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In addition, you will need to add the <fo:inline font-family="monospace">ConcurrentSessionFilter</fo:inline> to
            your <fo:inline font-family="monospace">FilterChainProxy</fo:inline>. The
            <fo:inline font-family="monospace">ConcurrentSessionFilter</fo:inline> requires two properties,
            <fo:inline font-family="monospace">sessionRegistry</fo:inline>, which generally points to an instance of
            <fo:inline font-family="monospace">SessionRegistryImpl</fo:inline>, and <fo:inline font-family="monospace">expiredUrl</fo:inline>, which
            points to the page to display when a session has expired. A configuration using the
            namespace to create the <fo:inline font-family="monospace">FilterChainProxy</fo:inline> and other default beans
            might look like this: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4510">
<fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;custom-filter</fo:inline> <fo:inline font-weight="bold">position</fo:inline>=<fo:inline font-weight="bold">"CONCURRENT_SESSION_FILTER"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"concurrencyFilter"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;custom-filter</fo:inline> <fo:inline font-weight="bold">position</fo:inline>=<fo:inline font-weight="bold">"FORM_LOGIN_FILTER"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"myAuthFilter"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;session-management</fo:inline> <fo:inline font-weight="bold">session-authentication-strategy-ref</fo:inline>=<fo:inline font-weight="bold">"sas"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;beans:bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"concurrencyFilter"</fo:inline>
   <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.session.ConcurrentSessionFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;beans:property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"sessionRegistry"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"sessionRegistry"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;beans:property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"expiredUrl"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"/session-expired.htm"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/beans:bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;beans:bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"myAuthFilter"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
   <fo:inline font-weight="bold">"org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;beans:property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"sessionAuthenticationStrategy"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"sas"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;beans:property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/beans:bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;beans:bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"sas"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
 <fo:inline font-weight="bold">"org.springframework.security.web.authentication.session.ConcurrentSessionControlStrategy"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;beans:constructor-arg</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"sessionRegistry"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"sessionRegistry"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;beans:property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"maximumSessions"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"1"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/beans:bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;beans:bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"sessionRegistry"</fo:inline>
    <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.core.session.SessionRegistryImpl"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>

    </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Adding the listener to <fo:inline font-family="monospace">web.xml</fo:inline> causes an
            <fo:inline font-family="monospace">ApplicationEvent</fo:inline> to be published to the Spring
            <fo:inline font-family="monospace">ApplicationContext</fo:inline> every time a <fo:inline font-family="monospace">HttpSession</fo:inline>
            commences or terminates. This is critical, as it allows the
            <fo:inline font-family="monospace">SessionRegistryImpl</fo:inline> to be notified when a session ends. Without
            it, a user will never be able to log back in again once they have exceeded their session
            allowance, even if they log out of another session or it times out.</fo:block><fo:block id="list-authenticated-principals"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Querying the <fo:inline font-family="monospace">SessionRegistry</fo:inline> for currently authenticated
            users and their sessions</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Querying the <fo:inline font-family="monospace">SessionRegistry</fo:inline> for currently authenticated
            users and their sessions</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                Setting up concurrency-control, either through the namespace or using plain beans has the
                useful side effect of providing you with a reference to the <fo:inline font-family="monospace">SessionRegistry</fo:inline>
                which you can use directly within your application, so even if you don't want to restrict the
                number of sessions a user may have, it may be worth setting up the infrastructure anyway. You can
                set the <fo:inline font-family="monospace">maximumSession</fo:inline> property to -1 to allow unlimited sessions. If
                 you're using the namespace, you can set an alias for the internally-created 
                <fo:inline font-family="monospace">SessionRegistry</fo:inline> using the <fo:inline font-family="monospace">session-registry-alias</fo:inline>
                attribute, providing a reference which you can inject into your own beans.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
                The <fo:inline font-family="monospace">getAllPrincipals()</fo:inline>
                method supplies you with a list of the currently authenticated users. You can list a user's
                sessions by calling the <fo:inline font-family="monospace">getAllSessions(Object principal, boolean includeExpiredSessions)</fo:inline> method,
                which returns a list of <fo:inline font-family="monospace">SessionInformation</fo:inline> objects. You can also
                expire a user's session by calling <fo:inline font-family="monospace">expireNow()</fo:inline> on a
                <fo:inline font-family="monospace">SessionInformation</fo:inline> instance. When the user returns to the application, they
                will be prevented from proceeding. You may find these methods useful in an administration
                application, for example. Have a look at the Javadoc for more information.
            </fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="anonymous"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="anonymous-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">13.1 Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It's generally considered good security practice to adopt a
            <fo:inline>“deny-by-default”</fo:inline> where you explicitly specify what is allowed and disallow
            everything else. Defining what is accessible to unauthenticated users is a similar
            situation, particularly for web applications. Many sites require that users must be
            authenticated for anything other than a few URLs (for example the home and login pages).
            In this case it is easiest to define access configuration attributes for these specific
            URLs rather than have for every secured resource. Put differently, sometimes it is nice
            to say <fo:inline font-family="monospace">ROLE_SOMETHING</fo:inline> is required by default and only allow certain
            exceptions to this rule, such as for login, logout and home pages of an application. You
            could also omit these pages from the filter chain entirely, thus bypassing the access
            control checks, but this may be undesirable for other reasons, particularly if the pages
            behave differently for authenticated users.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This is what we mean by anonymous authentication. Note that there is no real
            conceptual difference between a user who is <fo:inline>“anonymously authenticated”</fo:inline> and
            an unauthenticated user. Spring Security's anonymous authentication just gives you a
            more convenient way to configure your access-control attributes. Calls to servlet API
            calls such as <fo:inline font-family="monospace">getCallerPrincipal</fo:inline>, for example, will still
            return null even though there is actually an anonymous authentication object in the
            <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are other situations where anonymous authentication is useful, such as when an
            auditing interceptor queries the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> to
            identify which principal was responsible for a given operation. Classes can be authored
            more robustly if they know the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> always
            contains an <fo:inline font-family="monospace">Authentication</fo:inline> object, and never
            <fo:inline font-family="monospace">null</fo:inline>.</fo:block></fo:block><fo:block id="anonymous-config"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">13.2 Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Anonymous authentication support is provided automatically when using the HTTP
            configuration Spring Security 3.0 and can be customized (or disabled) using the
            <fo:inline font-family="monospace">&lt;anonymous&gt;</fo:inline> element. You don't need to configure the beans
            described here unless you are using traditional bean configuration.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Three classes that together provide the anonymous authentication feature.
            <fo:inline font-family="monospace">AnonymousAuthenticationToken</fo:inline> is an implementation of
            <fo:inline font-family="monospace">Authentication</fo:inline>, and stores the
            <fo:inline font-family="monospace">GrantedAuthority</fo:inline>s which apply to the anonymous principal.
            There is a corresponding <fo:inline font-family="monospace">AnonymousAuthenticationProvider</fo:inline>, which is
            chained into the <fo:inline font-family="monospace">ProviderManager</fo:inline> so that
            <fo:inline font-family="monospace">AnonymousAuthenticationToken</fo:inline>s are accepted. Finally, there is an
            <fo:inline font-family="monospace">AnonymousAuthenticationFilter</fo:inline>, which is chained after the normal
            authentication mechanisms and automatically adds an
            <fo:inline font-family="monospace">AnonymousAuthenticationToken</fo:inline> to the
            <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> if there is no existing
            <fo:inline font-family="monospace">Authentication</fo:inline> held there. The definition of the filter
            and authentication provider appears as follows:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4650">

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"anonymousAuthFilter"</fo:inline>
    <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.authentication.AnonymousAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"key"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"foobar"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"userAttribute"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"anonymousUser,ROLE_ANONYMOUS"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"anonymousAuthenticationProvider"</fo:inline>
    <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.authentication.AnonymousAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"key"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"foobar"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
    </fo:block> </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">key</fo:inline> is shared between the filter and authentication provider,
            so that tokens created by the former are accepted by the latter<fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>The use of the <fo:inline font-family="monospace">key</fo:inline> property should not be regarded as providing
                any real security here. It is merely a book-keeping exercise. If you are sharing a
                <fo:inline font-family="monospace">ProviderManager</fo:inline> which contains an
                <fo:inline font-family="monospace">AnonymousAuthenticationProvider</fo:inline> in a scenario where it is
                possible for an authenticating client to construct the
                <fo:inline font-family="monospace">Authentication</fo:inline> object (such as with RMI invocations),
                then a malicious client could submit an
                <fo:inline font-family="monospace">AnonymousAuthenticationToken</fo:inline> which it had created itself
                (with chosen username and authority list). If the <fo:inline font-family="monospace">key</fo:inline> is
                guessable or can be found out, then the token would be accepted by the anonymous
                provider. This isn't a problem with normal usage but if you are using RMI you would
                be best to use a customized <fo:inline font-family="monospace">ProviderManager</fo:inline> which omits the
                anonymous provider rather than sharing the one you use for your HTTP authentication
                mechanisms.</fo:block></fo:footnote-body></fo:footnote>. The <fo:inline font-family="monospace">userAttribute</fo:inline> is expressed in the form of
            <fo:inline font-family="monospace">usernameInTheAuthenticationToken,grantedAuthority[,grantedAuthority]</fo:inline>.
            This is the same syntax as used after the equals sign for
            <fo:inline font-family="monospace">InMemoryDaoImpl</fo:inline>'s <fo:inline font-family="monospace">userMap</fo:inline> property.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As explained earlier, the benefit of anonymous authentication is that all URI patterns
            can have security applied to them. For example:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4699">

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"filterSecurityInterceptor"</fo:inline>
    <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.access.intercept.FilterSecurityInterceptor"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"accessDecisionManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"httpRequestAccessDecisionManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"securityMetadata"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;security:filter-security-metadata-source&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;security:intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">'/index.jsp'</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">'ROLE_ANONYMOUS,ROLE_USER'</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;security:intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">'/hello.htm'</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">'ROLE_ANONYMOUS,ROLE_USER'</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;security:intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">'/logoff.jsp'</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">'ROLE_ANONYMOUS,ROLE_USER'</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;security:intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">'/login.jsp'</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">'ROLE_ANONYMOUS,ROLE_USER'</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;security:intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">'/**'</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">'ROLE_USER'</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/security:filter-security-metadata-source&gt;</fo:inline>" +
  <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
    </fo:block> </fo:block></fo:block><fo:block id="anonymous-auth-trust-resolver"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">AuthenticationTrustResolver</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">13.3 <fo:inline font-family="monospace">AuthenticationTrustResolver</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Rounding out the anonymous authentication discussion is the
            <fo:inline font-family="monospace">AuthenticationTrustResolver</fo:inline> interface, with its
            corresponding <fo:inline font-family="monospace">AuthenticationTrustResolverImpl</fo:inline> implementation. This
            interface provides an <fo:inline font-family="monospace">isAnonymous(Authentication)</fo:inline> method, which
            allows interested classes to take into account this special type of authentication
            status. The <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> uses this interface in
            processing <fo:inline font-family="monospace">AccessDeniedException</fo:inline>s. If an
            <fo:inline font-family="monospace">AccessDeniedException</fo:inline> is thrown, and the authentication is of an
            anonymous type, instead of throwing a 403 (forbidden) response, the filter will instead
            commence the <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> so the principal
            can authenticate properly. This is a necessary distinction, otherwise principals would
            always be deemed <fo:inline>“authenticated”</fo:inline> and never be given an opportunity to login
            via form, basic, digest or some other normal authentication mechanism. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> You will often see the <fo:inline font-family="monospace">ROLE_ANONYMOUS</fo:inline> attribute in the above
            interceptor configuration replaced with <fo:inline font-family="monospace">IS_AUTHENTICATED_ANONYMOUSLY</fo:inline>,
            which is effectively the same thing when defining access controls. This is an example of
            the use of the <fo:inline font-family="monospace">AuthenticatedVoter</fo:inline> which we will see in the <fo:basic-link internal-destination="authz-authenticated-voter"><fo:inline>authorization chapter</fo:inline></fo:basic-link>. It uses an
            <fo:inline font-family="monospace">AuthenticationTrustResolver</fo:inline> to process this particular
            configuration attribute and grant access to anonymous users. The
            <fo:inline font-family="monospace">AuthenticatedVoter</fo:inline> approach is more powerful, since it allows you
            to differentiate between anonymous, remember-me and fully-authenticated users. If you
            don't need this functionality though, then you can stick with
            <fo:inline font-family="monospace">ROLE_ANONYMOUS</fo:inline>, which will be processed by Spring Security's standard
            <fo:inline font-family="monospace">RoleVoter</fo:inline>. </fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="titlepage" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="authorization"><fo:block><fo:block><fo:block text-align="center" font-size="24.8832pt" space-before="18.6624pt" font-weight="bold" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always" hyphenate="false">Part IV. Authorization</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The advanced authorization capabilities within Spring Security represent one of
                the most compelling reasons for its popularity. Irrespective of how you choose to
                authenticate - whether using a Spring Security-provided mechanism and provider, or
                integrating with a container or other non-Spring Security authentication authority -
                you will find the authorization services can be used within your application in a
                consistent and simple way.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In this part we'll explore the different
                    <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> implementations, which were
                introduced in Part I. We then move on to explore how to fine-tune authorization
                through use of domain access control lists.</fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="authz-arch"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="authz-authorities"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Authorities</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">14.1 Authorities</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As we saw in the <fo:basic-link internal-destination="tech-granted-authority"><fo:inline>technical overview</fo:inline></fo:basic-link>,
            all <fo:inline font-family="monospace">Authentication</fo:inline> implementations store a list of
            <fo:inline font-family="monospace">GrantedAuthority</fo:inline> objects. These represent the authorities
            that have been granted to the principal. The
            <fo:inline font-family="monospace">GrantedAuthority</fo:inline> objects are inserted into the
            <fo:inline font-family="monospace">Authentication</fo:inline> object by the
            <fo:inline font-family="monospace">AuthenticationManager</fo:inline> and are later read by
            <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>s when making authorization
            decisions.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">GrantedAuthority</fo:inline> is an interface with only one method:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4804">
  String getAuthority();
    </fo:block> This method allows
            <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>s to obtain a precise
            <fo:inline font-family="monospace">String</fo:inline> representation of the
            <fo:inline font-family="monospace">GrantedAuthority</fo:inline>. By returning a representation as a
            <fo:inline font-family="monospace">String</fo:inline>, a <fo:inline font-family="monospace">GrantedAuthority</fo:inline> can be
            easily <fo:inline>“read”</fo:inline> by most
            <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>s. If a
            <fo:inline font-family="monospace">GrantedAuthority</fo:inline> cannot be precisely represented as a
            <fo:inline font-family="monospace">String</fo:inline>, the <fo:inline font-family="monospace">GrantedAuthority</fo:inline> is
            considered <fo:inline>“complex”</fo:inline> and <fo:inline font-family="monospace">getAuthority()</fo:inline> must return
            <fo:inline font-family="monospace">null</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An example of a <fo:inline>“complex”</fo:inline> <fo:inline font-family="monospace">GrantedAuthority</fo:inline>
            would be an implementation that stores a list of operations and authority thresholds
            that apply to different customer account numbers. Representing this complex
            <fo:inline font-family="monospace">GrantedAuthority</fo:inline> as a <fo:inline font-family="monospace">String</fo:inline> would be
            quite difficult, and as a result the <fo:inline font-family="monospace">getAuthority()</fo:inline> method should
            return <fo:inline font-family="monospace">null</fo:inline>. This will indicate to any
            <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> that it will need to specifically
            support the <fo:inline font-family="monospace">GrantedAuthority</fo:inline> implementation in order to
            understand its contents.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security includes one concrete <fo:inline font-family="monospace">GrantedAuthority</fo:inline>
            implementation, <fo:inline font-family="monospace">GrantedAuthorityImpl</fo:inline>. This allows any user-specified
            <fo:inline font-family="monospace">String</fo:inline> to be converted into a
            <fo:inline font-family="monospace">GrantedAuthority</fo:inline>. All
            <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>s included with the security architecture
            use <fo:inline font-family="monospace">GrantedAuthorityImpl</fo:inline> to populate the
            <fo:inline font-family="monospace">Authentication</fo:inline> object.</fo:block></fo:block><fo:block id="authz-pre-invocation"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Pre-Invocation Handling</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">14.2 Pre-Invocation Handling</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> As we've also seen in the <fo:basic-link internal-destination="secure-objects"><fo:inline>Technical
            Overview</fo:inline></fo:basic-link> chapter, Spring Security provides interceptors which control access to
            secure objects such as method invocations or web requests. A pre-invocation decision on
            whether the invocation is allowed to proceed is made by the
            <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>. </fo:block><fo:block id="authz-access-decision-manager"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">The AccessDecisionManager</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">The AccessDecisionManager</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> is called by the
                <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> and is responsible for making
                final access control decisions. The
                <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> interface contains three
                methods:
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e4921">
 <fo:inline font-weight="bold">void</fo:inline> decide(Authentication authentication, Object secureObject,
     Collection&lt;ConfigAttribute&gt; attrs) <fo:inline font-weight="bold">throws</fo:inline> AccessDeniedException;
 <fo:inline font-weight="bold">boolean</fo:inline> supports(ConfigAttribute attribute);
 <fo:inline font-weight="bold">boolean</fo:inline> supports(Class clazz);
      </fo:block>
                The <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>'s
                <fo:inline font-family="monospace">decide</fo:inline> method is passed all the relevant information it
                needs in order to make an authorization decision. In particular, passing the secure
                <fo:inline font-family="monospace">Object</fo:inline> enables those arguments contained in the actual secure
                object invocation to be inspected. For example, let's assume the secure object was a
                <fo:inline font-family="monospace">MethodInvocation</fo:inline>. It would be easy to query the
                <fo:inline font-family="monospace">MethodInvocation</fo:inline> for any <fo:inline font-family="monospace">Customer</fo:inline>
                argument, and then implement some sort of security logic in the
                <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> to ensure the principal is
                permitted to operate on that customer. Implementations are expected to throw an
                <fo:inline font-family="monospace">AccessDeniedException</fo:inline> if access is denied.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">supports(ConfigAttribute)</fo:inline> method is called by the
                <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> at startup time to determine if
                the <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> can process the passed
                <fo:inline font-family="monospace">ConfigAttribute</fo:inline>. The <fo:inline font-family="monospace">supports(Class)</fo:inline> method is
                called by a security interceptor implementation to ensure the configured
                <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> supports the type of secure
                object that the security interceptor will present.</fo:block></fo:block><fo:block id="authz-voting-based"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Voting-Based AccessDecisionManager Implementations</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Voting-Based AccessDecisionManager Implementations</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Whilst users can implement their own
                <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> to control all aspects of
                authorization, Spring Security includes several
                <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> implementations that are based
                on voting. <fo:basic-link internal-destination="authz-access-voting"><fo:inline>Figure 14.1, “Voting Decision Manager”</fo:inline></fo:basic-link> illustrates the relevant
                classes.</fo:block><fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="always" id="authz-access-voting"><fo:block id="d0e4984" text-align="center"><fo:external-graphic src="url(/opt/bamboo-home/xml-data/build-dir/SEC-B32X-JOB1/docs/manual/src/docbook/images/access-decision-voting.png)" width="auto" height="auto" content-width="75%" content-height="75%" content-type="content-type:image/png" text-align="center"/></fo:block><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-previous.within-column="always">Figure 14.1. Voting Decision Manager</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Using this approach, a series of
                <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline> implementations are polled on an
                authorization decision. The <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>
                then decides whether or not to throw an <fo:inline font-family="monospace">AccessDeniedException</fo:inline>
                based on its assessment of the votes.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline> interface has three
                methods:
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5003">
<fo:inline font-weight="bold">int</fo:inline> vote(Authentication authentication, Object object, Collection&lt;ConfigAttribute&gt; attrs);
<fo:inline font-weight="bold">boolean</fo:inline> supports(ConfigAttribute attribute);
<fo:inline font-weight="bold">boolean</fo:inline> supports(Class clazz);
</fo:block>
                Concrete implementations return an <fo:inline font-family="monospace">int</fo:inline>, with possible values
                being reflected in the <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline> static
                fields <fo:inline font-family="monospace">ACCESS_ABSTAIN</fo:inline>, <fo:inline font-family="monospace">ACCESS_DENIED</fo:inline> and
                <fo:inline font-family="monospace">ACCESS_GRANTED</fo:inline>. A voting implementation will return
                <fo:inline font-family="monospace">ACCESS_ABSTAIN</fo:inline> if it has no opinion on an authorization decision.
                If it does have an opinion, it must return either <fo:inline font-family="monospace">ACCESS_DENIED</fo:inline>
                or <fo:inline font-family="monospace">ACCESS_GRANTED</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are three concrete <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>s
                provided with Spring Security that tally the votes. The
                <fo:inline font-family="monospace">ConsensusBased</fo:inline> implementation will grant or deny access based on
                the consensus of non-abstain votes. Properties are provided to control behavior in
                the event of an equality of votes or if all votes are abstain. The
                <fo:inline font-family="monospace">AffirmativeBased</fo:inline> implementation will grant access if one or more
                <fo:inline font-family="monospace">ACCESS_GRANTED</fo:inline> votes were received (i.e. a deny vote will be
                ignored, provided there was at least one grant vote). Like the
                <fo:inline font-family="monospace">ConsensusBased</fo:inline> implementation, there is a parameter that controls
                the behavior if all voters abstain. The <fo:inline font-family="monospace">UnanimousBased</fo:inline> provider
                expects unanimous <fo:inline font-family="monospace">ACCESS_GRANTED</fo:inline> votes in order to grant access,
                ignoring abstains. It will deny access if there is any
                <fo:inline font-family="monospace">ACCESS_DENIED</fo:inline> vote. Like the other implementations, there is a
                parameter that controls the behaviour if all voters abstain.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It is possible to implement a custom
                <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> that tallies votes differently.
                For example, votes from a particular
                <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline> might receive additional
                weighting, whilst a deny vote from a particular voter may have a veto effect.</fo:block><fo:block id="authz-role-voter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">RoleVoter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The most commonly used <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline>
                    provided with Spring Security is the simple <fo:inline font-family="monospace">RoleVoter</fo:inline>,
                    which treats configuration attributes as simple role names and votes to grant
                    access if the user has been assigned that role.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It will vote if any <fo:inline font-family="monospace">ConfigAttribute</fo:inline> begins with
                    the prefix <fo:inline font-family="monospace">ROLE_</fo:inline>. It will vote to grant access if there is a
                    <fo:inline font-family="monospace">GrantedAuthority</fo:inline> which returns a
                    <fo:inline font-family="monospace">String</fo:inline> representation (via the
                    <fo:inline font-family="monospace">getAuthority()</fo:inline> method) exactly equal to one or more
                    <fo:inline font-family="monospace">ConfigAttributes</fo:inline> starting with the prefix
                    <fo:inline font-family="monospace">ROLE_</fo:inline>. If there is no exact match of any
                    <fo:inline font-family="monospace">ConfigAttribute</fo:inline> starting with <fo:inline font-family="monospace">ROLE_</fo:inline>, the
                    <fo:inline font-family="monospace">RoleVoter</fo:inline> will vote to deny access. If no
                    <fo:inline font-family="monospace">ConfigAttribute</fo:inline> begins with <fo:inline font-family="monospace">ROLE_</fo:inline>, the
                    voter will abstain.</fo:block></fo:block><fo:block id="authz-authenticated-voter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">AuthenticatedVoter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Another voter which we've implicitly seen is the
                    <fo:inline font-family="monospace">AuthenticatedVoter</fo:inline>, which can be used to differentiate
                    between anonymous, fully-authenticated and remember-me authenticated users. Many
                    sites allow certain limited access under remember-me authentication, but require
                    a user to confirm their identity by logging in for full access.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When we've used the attribute <fo:inline font-family="monospace">IS_AUTHENTICATED_ANONYMOUSLY</fo:inline>
                    to grant anonymous access, this attribute was being processed by the
                    <fo:inline font-family="monospace">AuthenticatedVoter</fo:inline>. See the Javadoc for this class for
                    more information. </fo:block></fo:block><fo:block id="authz-custom-voter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Custom Voters</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Obviously, you can also implement a custom
                    <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline> and you can
                    put just about any access-control logic you want in it. It might
                    be specific to your application (business-logic related) or it
                    might implement some security administration logic. For example, you'll find
                    a <fo:basic-link external-destination="url(http://blog.springsource.com/2009/01/02/spring-security-customization-part-2-adjusting-secured-session-in-real-time/)"><fo:inline>
                    blog article</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://blog.springsource.com/2009/01/02/spring-security-customization-part-2-adjusting-secured-session-in-real-time/)">http://blog.springsource.com/2009/01/02/spring-security-customization-part-2-adjusting-secured-session-in-real-time/</fo:basic-link>]</fo:inline> on the SpringSource web site which describes how to
                    use a voter to deny access in real-time to users whose accounts have
                    been suspended.
                    </fo:block></fo:block></fo:block></fo:block><fo:block id="authz-after-invocation-handling"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">After Invocation Handling</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">14.3 After Invocation Handling</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Whilst the <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> is called by the
            <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> before proceeding with the secure
            object invocation, some applications need a way of modifying the object actually
            returned by the secure object invocation. Whilst you could easily implement your own AOP
            concern to achieve this, Spring Security provides a convenient hook that has several
            concrete implementations that integrate with its ACL capabilities.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:basic-link internal-destination="authz-after-invocation"><fo:inline>Figure 14.2, “After Invocation Implementation”</fo:inline></fo:basic-link> illustrates Spring Security's
            <fo:inline font-family="monospace">AfterInvocationManager</fo:inline> and its concrete implementations. <fo:block space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="always" id="authz-after-invocation"><fo:block id="d0e5163" text-align="center"><fo:external-graphic src="url(/opt/bamboo-home/xml-data/build-dir/SEC-B32X-JOB1/docs/manual/src/docbook/images/after-invocation.png)" width="auto" height="auto" content-width="75%" content-height="75%" content-type="content-type:image/png" text-align="center"/></fo:block><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-previous.within-column="always">Figure 14.2. After Invocation Implementation</fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Like many other parts of Spring Security, <fo:inline font-family="monospace">AfterInvocationManager</fo:inline>
            has a single concrete implementation, <fo:inline font-family="monospace">AfterInvocationProviderManager</fo:inline>,
            which polls a list of <fo:inline font-family="monospace">AfterInvocationProvider</fo:inline>s. Each
            <fo:inline font-family="monospace">AfterInvocationProvider</fo:inline> is allowed to modify the return object or
            throw an <fo:inline font-family="monospace">AccessDeniedException</fo:inline>. Indeed multiple providers can modify
            the object, as the result of the previous provider is passed to the next in the
            list.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Please be aware that if you're using <fo:inline font-family="monospace">AfterInvocationManager</fo:inline>, you
            will still need configuration attributes that allow the
            <fo:inline font-family="monospace">MethodSecurityInterceptor</fo:inline>'s
            <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> to allow an operation. If you're
            using the typical Spring Security included
            <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> implementations, having no
            configuration attributes defined for a particular secure method invocation will cause
            each <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline> to abstain from voting. In turn,
            if the <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> property
            "<fo:inline font-family="monospace">allowIfAllAbstainDecisions</fo:inline>" is <fo:inline font-family="monospace">false</fo:inline>, an
            <fo:inline font-family="monospace">AccessDeniedException</fo:inline> will be thrown. You may avoid this potential
            issue by either (i) setting "<fo:inline font-family="monospace">allowIfAllAbstainDecisions</fo:inline>" to
            <fo:inline font-family="monospace">true</fo:inline> (although this is generally not recommended) or (ii) simply
            ensure that there is at least one configuration attribute that an
            <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline> will vote to grant access for. This
            latter (recommended) approach is usually achieved through a <fo:inline font-family="monospace">ROLE_USER</fo:inline>
            or <fo:inline font-family="monospace">ROLE_AUTHENTICATED</fo:inline> configuration attribute.</fo:block></fo:block><fo:block id="authz-hierarchical-roles"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Hierarchical Roles</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">14.4 Hierarchical Roles</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            It is a common requirement that a particular role in an application should automatically
            <fo:inline>“include”</fo:inline> other roles. For example, in an application which has the concept of
            an <fo:inline>“admin”</fo:inline> and a <fo:inline>“user”</fo:inline> role, you may want an admin to be able to
            do everything a normal user can. To achieve this, you can either make sure that all admin users
            are also assigned the <fo:inline>“user”</fo:inline> role. Alternatively, you can modify every access constraint
            which requires the <fo:inline>“user”</fo:inline> role to also include the <fo:inline>“admin”</fo:inline> role.
            This can get quite complicated if you have a lot of different roles in your application.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The use of a role-hierarchy allows you to configure which roles (or authorities) should include others.
            An extended version of Spring Security's <fo:basic-link internal-destination="authz-role-voter"><fo:inline><fo:inline font-family="monospace">RoleVoter</fo:inline></fo:inline></fo:basic-link>,
            <fo:inline font-family="monospace">RoleHierarchyVoter</fo:inline>, is configured with a <fo:inline font-family="monospace">RoleHierarchy</fo:inline>,
            from which it obtains all the <fo:inline>“reachable authorities”</fo:inline> which the user is assigned.
            A typical configuration might look like this:
<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5267">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"roleVoter"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.access.vote.RoleHierarchyVoter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"roleHierarchy"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/class&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"roleHierarchy"</fo:inline>
        <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.access.hierarchicalroles.RoleHierarchyImpl"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"hierarchy"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;value&gt;</fo:inline>
            ROLE_ADMIN &gt; ROLE_STAFF
            ROLE_STAFF &gt; ROLE_USER
            ROLE_USER &gt; ROLE_GUEST
        <fo:inline font-weight="bold">&lt;/value&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
</fo:block>
            Here we have four roles in a hierarchy <fo:inline font-family="monospace">ROLE_ADMIN =&gt; ROLE_STAFF =&gt; ROLE_USER =&gt; ROLE_GUEST</fo:inline>.
            A user who is authenticated with <fo:inline font-family="monospace">ROLE_ADMIN</fo:inline>, will behave as if they have all four roles when
            security contraints are evaluated against an <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> cconfigured
            with the above <fo:inline font-family="monospace">RoleHierarchyVoter</fo:inline>. The <fo:inline font-family="monospace">&gt;</fo:inline> symbol can be thought of
            as meaning <fo:inline>“includes”</fo:inline>.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Role hierarchies offer a convenient means of simplifying the access-control configuration data for your
            application and/or reducing the number of authorities which you need to assign to a user. For more
            complex requirements you may wish to define a logical mapping between the specific access-rights your
            application requires and the roles that are assigned to users, translating between the two when loading
            the user information.
            
        </fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="secure-object-impls"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="aop-alliance"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">AOP Alliance (MethodInvocation) Security Interceptor</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">15.1 AOP Alliance (MethodInvocation) Security Interceptor</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Prior to Spring Security 2.0, securing <fo:inline font-family="monospace">MethodInvocation</fo:inline>s
            needed quite a lot of boiler plate configuration. Now the recommended approach for
            method security is to use <fo:basic-link internal-destination="ns-method-security"><fo:inline>namespace
            configuration</fo:inline></fo:basic-link>. This way the method security infrastructure beans are configured
            automatically for you so you don't really need to know about the implementation classes.
            We'll just provide a quick overview of the classes that are involved here. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Method security in enforced using a <fo:inline font-family="monospace">MethodSecurityInterceptor</fo:inline>,
            which secures <fo:inline font-family="monospace">MethodInvocation</fo:inline>s. Depending on the configuration
            approach, an interceptor may be specific to a single bean or shared between multiple
            beans. The interceptor uses a
            <fo:inline font-family="monospace">MethodSecurityMetadataSource</fo:inline> instance to obtain the
            configuration attributes that apply to a particular method invocation.
            <fo:inline font-family="monospace">MapBasedMethodSecurityMetadataSource</fo:inline> is used to store
            configuration attributes keyed by method names (which can be wildcarded) and will be
            used internally when the attributes are defined in the application context using the
            <fo:inline font-family="monospace">&lt;intercept-methods&gt;</fo:inline> or <fo:inline font-family="monospace">&lt;protect-point&gt;</fo:inline>
            elements. Other implementations will be used to handle annotation-based configuration. </fo:block><fo:block id="d0e5328"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Explicit MethodSecurityInterceptor Configuration</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Explicit MethodSecurityInterceptor Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> You can of course configure a <fo:inline font-family="monospace">MethodSecurityIterceptor</fo:inline>
                directly in your application context for use with one of Spring AOP's proxying
                mechanisms: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5336">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"bankManagerSecurity"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
    <fo:inline font-weight="bold">"org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"accessDecisionManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"accessDecisionManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"afterInvocationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"afterInvocationManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"securityMetadataSource"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;sec:method-security-metadata-source&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;sec:protect</fo:inline> <fo:inline font-weight="bold">method</fo:inline>=<fo:inline font-weight="bold">"com.mycompany.BankManager.delete*"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_SUPERVISOR"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;sec:protect</fo:inline> <fo:inline font-weight="bold">method</fo:inline>=<fo:inline font-weight="bold">"com.mycompany.BankManager.getBalance"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_TELLER,ROLE_SUPERVISOR"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/sec:method-security-metadata-source&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline> 
</fo:block></fo:block></fo:block></fo:block><fo:block id="aspectj"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">AspectJ (JoinPoint) Security Interceptor</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">15.2 AspectJ (JoinPoint) Security Interceptor</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The AspectJ security interceptor is very similar to the AOP Alliance security
            interceptor discussed in the previous section. Indeed we will only discuss the
            differences in this section.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The AspectJ interceptor is named <fo:inline font-family="monospace">AspectJSecurityInterceptor</fo:inline>. Unlike
            the AOP Alliance security interceptor, which relies on the Spring application context to
            weave in the security interceptor via proxying, the
            <fo:inline font-family="monospace">AspectJSecurityInterceptor</fo:inline> is weaved in via the AspectJ compiler. It
            would not be uncommon to use both types of security interceptors in the same
            application, with <fo:inline font-family="monospace">AspectJSecurityInterceptor</fo:inline> being used for domain
            object instance security and the AOP Alliance
            <fo:inline font-family="monospace">MethodSecurityInterceptor</fo:inline> being used for services layer
            security.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Let's first consider how the <fo:inline font-family="monospace">AspectJSecurityInterceptor</fo:inline> is
            configured in the Spring application context:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5363">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"bankManagerSecurity"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
    <fo:inline font-weight="bold">"org.springframework.security.access.intercept.aspectj.AspectJMethodSecurityInterceptor"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"accessDecisionManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"accessDecisionManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"afterInvocationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"afterInvocationManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"securityMetadataSource"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;sec:method-security-metadata-source&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;sec:protect</fo:inline> <fo:inline font-weight="bold">method</fo:inline>=<fo:inline font-weight="bold">"com.mycompany.BankManager.delete*"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_SUPERVISOR"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;sec:protect</fo:inline> <fo:inline font-weight="bold">method</fo:inline>=<fo:inline font-weight="bold">"com.mycompany.BankManager.getBalance"</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"ROLE_TELLER,ROLE_SUPERVISOR"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/sec:method-security-metadata-source&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As you can see, aside from the class name, the
            <fo:inline font-family="monospace">AspectJSecurityInterceptor</fo:inline> is exactly the same as the AOP Alliance
            security interceptor. Indeed the two interceptors can share the same
            <fo:inline font-family="monospace">securityMetadataSource</fo:inline>, as the
            <fo:inline font-family="monospace">SecurityMetadataSource</fo:inline> works with
            <fo:inline font-family="monospace">java.lang.reflect.Method</fo:inline>s rather than an AOP library-specific class.
            Of course, your access decisions have access to the relevant AOP library-specific
            invocation (ie <fo:inline font-family="monospace">MethodInvocation</fo:inline> or <fo:inline font-family="monospace">JoinPoint</fo:inline>)
            and as such can consider a range of addition criteria when making access decisions (such
            as method arguments).</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next you'll need to define an AspectJ <fo:inline font-family="monospace">aspect</fo:inline>. For example:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5390">
<fo:inline font-weight="bold">package</fo:inline> org.springframework.security.samples.aspectj;

<fo:inline font-weight="bold">import</fo:inline> org.springframework.security.access.intercept.aspectj.AspectJSecurityInterceptor;
<fo:inline font-weight="bold">import</fo:inline> org.springframework.security.access.intercept.aspectj.AspectJCallback;
<fo:inline font-weight="bold">import</fo:inline> org.springframework.beans.factory.InitializingBean;

<fo:inline font-weight="bold">public</fo:inline> aspect DomainObjectInstanceSecurityAspect <fo:inline font-weight="bold">implements</fo:inline> InitializingBean {

    <fo:inline font-weight="bold">private</fo:inline> AspectJSecurityInterceptor securityInterceptor;

    pointcut domainObjectInstanceExecution(): target(PersistableEntity)
        &amp;&amp; execution(<fo:inline font-weight="bold">public</fo:inline> * *(..)) &amp;&amp; !within(DomainObjectInstanceSecurityAspect);

    Object around(): domainObjectInstanceExecution() {
        <fo:inline font-weight="bold">if</fo:inline> (<fo:inline font-weight="bold">this</fo:inline>.securityInterceptor == null) {
            <fo:inline font-weight="bold">return</fo:inline> proceed();
        }

        AspectJCallback callback = <fo:inline font-weight="bold">new</fo:inline> AspectJCallback() {
            <fo:inline font-weight="bold">public</fo:inline> Object proceedWithObject() {
                <fo:inline font-weight="bold">return</fo:inline> proceed();
            }
        };

        <fo:inline font-weight="bold">return</fo:inline> <fo:inline font-weight="bold">this</fo:inline>.securityInterceptor.invoke(thisJoinPoint, callback);
    }

    <fo:inline font-weight="bold">public</fo:inline> AspectJSecurityInterceptor getSecurityInterceptor() {
        <fo:inline font-weight="bold">return</fo:inline> securityInterceptor;
    }

    <fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">void</fo:inline> setSecurityInterceptor(AspectJSecurityInterceptor securityInterceptor) {
        <fo:inline font-weight="bold">this</fo:inline>.securityInterceptor = securityInterceptor;
    }

    <fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">void</fo:inline> afterPropertiesSet() <fo:inline font-weight="bold">throws</fo:inline> Exception {
        <fo:inline font-weight="bold">if</fo:inline> (<fo:inline font-weight="bold">this</fo:inline>.securityInterceptor == null)
            <fo:inline font-weight="bold">throw</fo:inline> <fo:inline font-weight="bold">new</fo:inline> IllegalArgumentException(<fo:inline font-weight="bold" font-style="italic">"securityInterceptor required"</fo:inline>);
        }
    }
}
</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In the above example, the security interceptor will be applied to every instance of
            <fo:inline font-family="monospace">PersistableEntity</fo:inline>, which is an abstract class not shown (you can use
            any other class or <fo:inline font-family="monospace">pointcut</fo:inline> expression you like). For those curious,
            <fo:inline font-family="monospace">AspectJCallback</fo:inline> is needed because the <fo:inline font-family="monospace">proceed();</fo:inline>
            statement has special meaning only within an <fo:inline font-family="monospace">around()</fo:inline> body. The
            <fo:inline font-family="monospace">AspectJSecurityInterceptor</fo:inline> calls this anonymous
            <fo:inline font-family="monospace">AspectJCallback</fo:inline> class when it wants the target object to
            continue.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You will need to configure Spring to load the aspect and wire it with the
            <fo:inline font-family="monospace">AspectJSecurityInterceptor</fo:inline>. A bean declaration which achieves this is
            shown below:</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5420">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"domainObjectInstanceSecurityAspect"</fo:inline>
     <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"security.samples.aspectj.DomainObjectInstanceSecurityAspect"</fo:inline>
     <fo:inline font-weight="bold">factory-method</fo:inline>=<fo:inline font-weight="bold">"aspectOf"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"securityInterceptor"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"bankManagerSecurity"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">That's it! Now you can create your beans from anywhere within your application, using
            whatever means you think fit (eg <fo:inline font-family="monospace">new Person();</fo:inline>) and they will have
            the security interceptor applied.</fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="el-access"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Spring Security 3.0 introduced the ability to use Spring EL expressions as an
        authorization mechanism in addition to the simple use of configuration attributes and
        access-decision voters which have seen before. Expression-based access control is built on
        the same architecture but allows complicated boolean logic to be encapsulated in a single
        expression.</fo:block><fo:block id="d0e5432"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">16.1 Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security uses Spring EL for expression support and you should look at how that
            works if you are interested in understanding the topic in more depth. Expressions are
            evaluated with a <fo:inline>“root object”</fo:inline> as part of the evaluation context. Spring
            Security uses specific classes for web and method security as the root object, in order
            to provide built-in expressions and access to values such as the current
            principal.</fo:block><fo:block id="el-common-built-in"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Common Built-In Expressions</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Common Built-In Expressions</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The base class for expression root objects is
                <fo:inline font-family="monospace">SecurityExpressionRoot</fo:inline>. This provides some common expressions
                which are available in both web and method security.</fo:block><fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="d0e5448"><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-next.within-column="always">Table 16.1. Common built-in expressions</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="none" border-end-style="none" border-top-style="none" border-bottom-style="none" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(1.0)"/><fo:table-column column-number="2" column-width="proportional-column-width(2.0)"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black"><fo:block font-weight="bold">Expression</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-family="monospace">hasRole([role])</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Returns <fo:inline font-family="monospace">true</fo:inline> if the current principal has the
                                specified role.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-family="monospace">hasAnyRole([role1,role2])</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Returns <fo:inline font-family="monospace">true</fo:inline> if the current principal has any
                                of the supplied roles (given as a comma-separated list of
                                strings)</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-family="monospace">principal</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Allows direct access to the principal object representing the
                                current user</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-family="monospace">authentication</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Allows direct access to the current
                                <fo:inline font-family="monospace">Authentication</fo:inline> object obtained from
                                the <fo:inline font-family="monospace">SecurityContext</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-family="monospace">permitAll</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Always evaluates to <fo:inline font-family="monospace">true</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-family="monospace">denyAll</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Always evaluates to <fo:inline font-family="monospace">false</fo:inline></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-family="monospace">isAnonymous()</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Returns <fo:inline font-family="monospace">true</fo:inline> if the current principal is an
                                anonymous user</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-family="monospace">isRememberMe()</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Returns <fo:inline font-family="monospace">true</fo:inline> if the current principal is a
                                remember-me user</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-family="monospace">isAuthenticated()</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black"><fo:block>Returns <fo:inline font-family="monospace">true</fo:inline> if the user is not
                                anonymous</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black"><fo:block><fo:inline font-family="monospace">isFullyAuthenticated()</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt"><fo:block>Returns <fo:inline font-family="monospace">true</fo:inline> if the user is not an anonymous
                                or a remember-me user</fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:block></fo:block><fo:block id="el-access-web"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Web Security Expressions</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">16.2 Web Security Expressions</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> To use expressions to secure individual URLs, you would first need to set the
            <fo:inline font-family="monospace">use-expressions</fo:inline> attribute in the <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> element
            to <fo:inline font-family="monospace">true</fo:inline>. Spring Security will then expect the
            <fo:inline font-family="monospace">access</fo:inline> attributes of the <fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline>
            elements to contain Spring EL expressions. The expressions should evaluate to a boolean,
            defining whether access should be allowed or not. For example:<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5568">
  <fo:inline font-weight="bold">&lt;http</fo:inline> <fo:inline font-weight="bold">use-expressions</fo:inline>=<fo:inline font-weight="bold">"true"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;intercept-url</fo:inline> <fo:inline font-weight="bold">pattern</fo:inline>=<fo:inline font-weight="bold">"/admin*"</fo:inline>
        <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"hasRole('admin') and hasIpAddress('192.168.1.0/24')"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    ...
  <fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
</fo:block>Here we have defined that the <fo:inline>“admin”</fo:inline> area of an application
            (defined by the URL pattern) should only be available to users who have the granted
            authority <fo:inline>“admin”</fo:inline> and whose IP address matches a local subnet. We've
            already seen the built-in <fo:inline font-family="monospace">hasRole</fo:inline> expression in the previous section.
            The expression <fo:inline font-family="monospace">hasIpAddress</fo:inline> is an additional built-in expression
            which is specific to web security. It is defined by the
            <fo:inline font-family="monospace">WebSecurityExpressionRoot</fo:inline> class, an instance of which is used as
            the expression root object when evaluation web-access expressions. This object also
            directly exposed the <fo:inline font-family="monospace">HttpServletRequest</fo:inline> object under the
            name <fo:inline font-family="monospace">request</fo:inline> so you can invoke the request directly in an
            expression.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If expressions are being used, a <fo:inline font-family="monospace">WebExpressionVoter</fo:inline> will be
            added to the <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> which is used by the
            namespace. So if you aren't using the namespace and want to use expressions, you will
            have to add one of these to your configuration.</fo:block></fo:block><fo:block id="d0e5600"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Method Security Expressions</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">16.3 Method Security Expressions</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Method security is a bit more complicated than a simple allow or deny rule. Spring
            Security 3.0 introduced some new annotations in order to allow comprehensive support for
            the use of expressions.</fo:block><fo:block id="el-pre-post-annotations"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">@Pre</fo:inline> and <fo:inline font-family="monospace">@Post</fo:inline> Annotations</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">@Pre</fo:inline> and <fo:inline font-family="monospace">@Post</fo:inline> Annotations</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are four annotations which support expression attributes to allow pre and
                post-invocation authorization checks and also to support filtering of submitted
                collection arguments or return values. They are <fo:inline font-family="monospace">@PreAuthorize</fo:inline>,
                <fo:inline font-family="monospace">@PreFilter</fo:inline>, <fo:inline font-family="monospace">@PostAuthorize</fo:inline> and
                <fo:inline font-family="monospace">@PostFilter</fo:inline>. Their use is enabled through the
                <fo:inline font-family="monospace">global-method-security</fo:inline> namespace
                element:<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5630"><fo:inline font-weight="bold">&lt;global-method-security</fo:inline> <fo:inline font-weight="bold">pre-post-annotations</fo:inline>=<fo:inline font-weight="bold">"enabled"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline></fo:block></fo:block><fo:block id="d0e5632"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Access Control using <fo:inline font-family="monospace">@PreAuthorize</fo:inline> and
                    <fo:inline font-family="monospace">@PostAuthorize</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The most obviously useful annotation is <fo:inline font-family="monospace">@PreAuthorize</fo:inline> which
                    decides whether a method can actually be invoked or not. For example (from the
                    <fo:inline>“Contacts”</fo:inline> sample
                    application)<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5648">
 <fo:inline color="gray">@PreAuthorize("hasRole('ROLE_USER')")</fo:inline>
 <fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">void</fo:inline> create(Contact contact);</fo:block>which
                    means that access will only be allowed for users with the role "ROLE_USER".
                    Obviously the same thing could easily be achieved using a traditional
                    configuration and a simple configuration attribute for the required role. But
                    what
                    about:<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5651">
 <fo:inline color="gray">@PreAuthorize("hasPermission(#contact, 'admin')")</fo:inline>
 <fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">void</fo:inline> deletePermission(Contact contact, Sid recipient, Permission permission);</fo:block>Here
                    we're actually using a method argument as part of the expression to decide
                    whether the current user has the <fo:inline>“admin”</fo:inline>permission for the given
                    contact. The built-in <fo:inline font-family="monospace">hasPermission()</fo:inline> expression is linked
                    into the Spring Security ACL module through the application context, as we'll
                    <fo:basic-link internal-destination="el-permission-evaluator"><fo:inline>see below</fo:inline></fo:basic-link>. You can access any
                    of the method arguments by name as expression variables, provided your code has
                    debug information compiled in. Any Spring-EL functionality is available within
                    the expression, so you can also access properties on the arguments. For example,
                    if you wanted a particular method to only allow access to a user whose username
                    matched that of the contact, you could write</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5663">
 <fo:inline color="gray">@PreAuthorize("#contact.name == authentication.name")</fo:inline>
 <fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">void</fo:inline> doSomething(Contact contact);</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Here we are accessing another built–in expression, <fo:inline font-family="monospace">authentication</fo:inline>,
                    which is the <fo:inline font-family="monospace">Authentication</fo:inline> stored in the
                    security context. You can also access its <fo:inline>“principal”</fo:inline> property
                    directly, using the expression <fo:inline font-family="monospace">principal</fo:inline>. The value will
                    often be a <fo:inline font-family="monospace">UserDetails</fo:inline> instance, so you might use an
                    expression like <fo:inline font-family="monospace">principal.username</fo:inline> or
                    <fo:inline font-family="monospace">principal.enabled</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Less commonly, you may wish to perform an access-control check after the
                    method has been invoked. This can be achieved using the
                    <fo:inline font-family="monospace">@PostAuthorize</fo:inline> annotation. To access the return value from a
                    method, use the built–in name <fo:inline font-family="monospace">returnObject</fo:inline> in the
                    expression.</fo:block></fo:block><fo:block id="d0e5696"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Filtering using <fo:inline font-family="monospace">@PreFilter</fo:inline> and
                    <fo:inline font-family="monospace">@PostFilter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As you may already be aware, Spring Security supports filtering of collections
                    and arrays and this can now be achieved using expressions. This is most commonly
                    performed on the return value of a method. For
                    example:<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5706">  <fo:inline color="gray">@PreAuthorize("hasRole('ROLE_USER')")</fo:inline>
  <fo:inline color="gray">@PostFilter("hasPermission(filterObject, 'read') or hasPermission(filterObject, 'admin')")</fo:inline>
  <fo:inline font-weight="bold">public</fo:inline> List&lt;Contact&gt; getAll();</fo:block>When
                    using the <fo:inline font-family="monospace">@PostFilter</fo:inline> annotation, Spring Security iterates
                    through the returned collection and removes any elements for which the supplied
                    expression is false. The name <fo:inline font-family="monospace">filterObject</fo:inline> refers to the
                    current object in the collection. You can also filter before the method call,
                    using <fo:inline font-family="monospace">@PreFilter</fo:inline>, though this is a less common requirement.
                    The syntax is just the same, but if there is more than one argument which is a
                    collection type then you have to select one by name using the
                    <fo:inline font-family="monospace">filterTarget</fo:inline> property of this annotation.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Note that filtering is obviously not a substitute for tuning your data
                    retrieval queries. If you are filtering large collections and removing many of
                    the entries then this is likely to be inefficient.</fo:block></fo:block></fo:block><fo:block id="el-method-built-in"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Built-In Expressions</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Built-In Expressions</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are some built-in expressions which are specific to method security, which
                we have already seen in use above. The <fo:inline font-family="monospace">filterTarget</fo:inline> and
                <fo:inline font-family="monospace">returnValue</fo:inline> values are simple enough, but the use of the
                <fo:inline font-family="monospace">hasPermission()</fo:inline> expression warrants a closer look.</fo:block><fo:block id="el-permission-evaluator"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">The <fo:inline font-family="monospace">PermissionEvaluator</fo:inline> interface</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"><fo:inline font-family="monospace">hasPermission()</fo:inline> expressions are delegated to an instance of
                    <fo:inline font-family="monospace">PermissionEvaluator</fo:inline>. It is intended to bridge
                    between the expression system and Spring Security's ACL system, allowing you to
                    specify authorization constraints on domain objects, based on abstract
                    permissions. It has no explicit dependencies on the ACL module, so you could
                    swap that out for an alternative implementation if required. The interface has
                    two methods:
                    <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5750">
 <fo:inline font-weight="bold">boolean</fo:inline> hasPermission(Authentication authentication, Object targetDomainObject,
                             Object permission);

 <fo:inline font-weight="bold">boolean</fo:inline> hasPermission(Authentication authentication, Serializable targetId,
                              String targetType, Object permission);
</fo:block>which
                    map directly to the available versions of the expression, with the exception
                    that the first argument (the <fo:inline font-family="monospace">Authentication</fo:inline>
                    object) is not supplied. The first is used in situations where the domain
                    object, to which access is being controlled, is already loaded. Then expression
                    will return true if the current user has the given permission for that object.
                    The second version is used in cases where the object is not loaded, but its
                    identifier is known. An abstract <fo:inline>“type”</fo:inline> specifier for the domain
                    object is also required, allowing the correct ACL permissions to be loaded. This
                    has traditionally been the Java class of the object, but does not have to be as
                    long as it is consistent with how the permissions are loaded.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To use <fo:inline font-family="monospace">hasPermission()</fo:inline> expressions, you have to explicitly
                    configure a <fo:inline font-family="monospace">PermissionEvaluator</fo:inline> in your
                    application context. This would look something like this: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e5767"> 
<fo:inline font-weight="bold">&lt;security:global-method-security</fo:inline> <fo:inline font-weight="bold">pre-post-annotations</fo:inline>=<fo:inline font-weight="bold">"enabled"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;security:expression-handler</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"expressionHandler"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/security:global-method-security&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"expressionHandler"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
  <fo:inline font-weight="bold">"org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
     <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"permissionEvaluator"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"myPermissionEvaluator"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline></fo:block>Where <fo:inline font-family="monospace">myPermissionEvaluator</fo:inline> is the bean which
                    implements <fo:inline font-family="monospace">PermissionEvaluator</fo:inline>. Usually this will
                    be the implementation from the ACL module which is called
                    <fo:inline font-family="monospace">AclPermissionEvaluator</fo:inline>. See the <fo:inline>“Contacts”</fo:inline>
                    sample application configuration for more details.</fo:block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="titlepage" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body"><fo:block id="advanced-topics"><fo:block><fo:block><fo:block text-align="center" font-size="24.8832pt" space-before="18.6624pt" font-weight="bold" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always" hyphenate="false">Part V. Additional Topics</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> In this part we cover features which require a knowledge of previous chapters as
                well as some of the more advanced and less-commonly used features of the
                framework.</fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="domain-acls"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="domain-acls-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">17.1 Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Complex applications often will find the need to define access permissions not simply
            at a web request or method invocation level. Instead, security decisions need to
            comprise both who (<fo:inline font-family="monospace">Authentication</fo:inline>), where
            (<fo:inline font-family="monospace">MethodInvocation</fo:inline>) and what
            (<fo:inline font-family="monospace">SomeDomainObject</fo:inline>). In other words, authorization decisions also need
            to consider the actual domain object instance subject of a method invocation.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Imagine you're designing an application for a pet clinic. There will be two main
            groups of users of your Spring-based application: staff of the pet clinic, as well as
            the pet clinic's customers. The staff will have access to all of the data, whilst your
            customers will only be able to see their own customer records. To make it a little more
            interesting, your customers can allow other users to see their customer records, such as
            their "puppy preschool" mentor or president of their local "Pony Club". Using Spring
            Security as the foundation, you have several approaches that can be used:<fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e5810"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e5811"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Write your business methods to enforce the security. You could consult a
                    collection within the <fo:inline font-family="monospace">Customer</fo:inline> domain object instance to
                    determine which users have access. By using the
                    <fo:inline font-family="monospace">SecurityContextHolder.getContext().getAuthentication()</fo:inline>,
                    you'll be able to access the <fo:inline font-family="monospace">Authentication</fo:inline>
                    object.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e5823"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Write an <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline> to enforce the
                    security from the <fo:inline font-family="monospace">GrantedAuthority[]</fo:inline>s stored in the
                    <fo:inline font-family="monospace">Authentication</fo:inline> object. This would mean your
                    <fo:inline font-family="monospace">AuthenticationManager</fo:inline> would need to populate the
                    <fo:inline font-family="monospace">Authentication</fo:inline> with custom
                    <fo:inline font-family="monospace">GrantedAuthority</fo:inline>[]s representing each of the
                    <fo:inline font-family="monospace">Customer</fo:inline> domain object instances the principal has access
                    to.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e5847"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Write an <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline> to enforce the
                    security and open the target <fo:inline font-family="monospace">Customer</fo:inline> domain object directly.
                    This would mean your voter needs access to a DAO that allows it to retrieve the
                    <fo:inline font-family="monospace">Customer</fo:inline> object. It would then access the
                    <fo:inline font-family="monospace">Customer</fo:inline> object's collection of approved users and make the
                    appropriate decision.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Each one of these approaches is perfectly legitimate. However, the first couples your
            authorization checking to your business code. The main problems with this include the
            enhanced difficulty of unit testing and the fact it would be more difficult to reuse the
            <fo:inline font-family="monospace">Customer</fo:inline> authorization logic elsewhere. Obtaining the
            <fo:inline font-family="monospace">GrantedAuthority[]</fo:inline>s from the
            <fo:inline font-family="monospace">Authentication</fo:inline> object is also fine, but will not scale to
            large numbers of <fo:inline font-family="monospace">Customer</fo:inline>s. If a user might be able to access 5,000
            <fo:inline font-family="monospace">Customer</fo:inline>s (unlikely in this case, but imagine if it were a popular
            vet for a large Pony Club!) the amount of memory consumed and time required to construct
            the <fo:inline font-family="monospace">Authentication</fo:inline> object would be undesirable. The final
            method, opening the <fo:inline font-family="monospace">Customer</fo:inline> directly from external code, is probably
            the best of the three. It achieves separation of concerns, and doesn't misuse memory or
            CPU cycles, but it is still inefficient in that both the
            <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline> and the eventual business method
            itself will perform a call to the DAO responsible for retrieving the
            <fo:inline font-family="monospace">Customer</fo:inline> object. Two accesses per method invocation is clearly
            undesirable. In addition, with every approach listed you'll need to write your own
            access control list (ACL) persistence and business logic from scratch.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Fortunately, there is another alternative, which we'll talk about below.</fo:block></fo:block><fo:block id="domain-acls-key-concepts"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Key Concepts</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">17.2 Key Concepts</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security's ACL services are shipped in the
            <fo:inline font-family="monospace">spring-security-acl-xxx.jar</fo:inline>. You will need to add this JAR to your
            classpath to use Spring Security's domain object instance security capabilities.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security's domain object instance security capabilities centre on the concept
            of an access control list (ACL). Every domain object instance in your system has its own
            ACL, and the ACL records details of who can and can't work with that domain object. With
            this in mind, Spring Security delivers three main ACL-related capabilities to your application:<fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e5904"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e5905"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A way of efficiently retrieving ACL entries for all of your domain objects
                    (and modifying those ACLs)</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e5908"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A way of ensuring a given principal is permitted to work with your objects,
                    before methods are called</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e5911"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>A way of ensuring a given principal is permitted to work with your objects (or
                    something they return), after methods are called</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As indicated by the first bullet point, one of the main capabilities of the Spring
            Security ACL module is providing a high-performance way of retrieving ACLs. This ACL
            repository capability is extremely important, because every domain object instance in
            your system might have several access control entries, and each ACL might inherit from
            other ACLs in a tree-like structure (this is supported out-of-the-box by Spring
            Security, and is very commonly used). Spring Security's ACL capability has been
            carefully designed to provide high performance retrieval of ACLs, together with
            pluggable caching, deadlock-minimizing database updates, independence from ORM
            frameworks (we use JDBC directly), proper encapsulation, and transparent database
            updating.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Given databases are central to the operation of the ACL module, let's explore the four
            main tables used by default in the implementation. The tables are presented below in
            order of size in a typical Spring Security ACL deployment, with the table with the most
            rows listed last:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e5920"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e5921"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>ACL_SID allows us to uniquely identify any principal or authority in the
                    system ("SID" stands for "security identity"). The only columns are the ID, a
                    textual representation of the SID, and a flag to indicate whether the textual
                    representation refers to a principal name or a
                    <fo:inline font-family="monospace">GrantedAuthority</fo:inline>. Thus, there is a single row for
                    each unique principal or <fo:inline font-family="monospace">GrantedAuthority</fo:inline>. When
                    used in the context of receiving a permission, a SID is generally called a
                    "recipient".</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e5930"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>ACL_CLASS allows us to uniquely identify any domain object class in the
                    system. The only columns are the ID and the Java class name. Thus, there is a
                    single row for each unique Class we wish to store ACL permissions for.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e5933"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>ACL_OBJECT_IDENTITY stores information for each unique domain object instance
                    in the system. Columns include the ID, a foreign key to the ACL_CLASS table, a
                    unique identifier so we know which ACL_CLASS instance we're providing
                    information for, the parent, a foreign key to the ACL_SID table to represent the
                    owner of the domain object instance, and whether we allow ACL entries to inherit
                    from any parent ACL. We have a single row for every domain object instance we're
                    storing ACL permissions for.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e5936"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Finally, ACL_ENTRY stores the individual permissions assigned to each
                    recipient. Columns include a foreign key to the ACL_OBJECT_IDENTITY, the
                    recipient (ie a foreign key to ACL_SID), whether we'll be auditing or not, and
                    the integer bit mask that represents the actual permission being granted or
                    denied. We have a single row for every recipient that receives a permission to
                    work with a domain object.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block> </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">As mentioned in the last paragraph, the ACL system uses integer bit masking. Don't
            worry, you need not be aware of the finer points of bit shifting to use the ACL system,
            but suffice to say that we have 32 bits we can switch on or off. Each of these bits
            represents a permission, and by default the permissions are read (bit 0), write (bit 1),
            create (bit 2), delete (bit 3) and administer (bit 4). It's easy to implement your own
            <fo:inline font-family="monospace">Permission</fo:inline> instance if you wish to use other permissions, and the
            remainder of the ACL framework will operate without knowledge of your extensions.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It is important to understand that the number of domain objects in your system has
            absolutely no bearing on the fact we've chosen to use integer bit masking. Whilst you
            have 32 bits available for permissions, you could have billions of domain object
            instances (which will mean billions of rows in ACL_OBJECT_IDENTITY and quite probably
            ACL_ENTRY). We make this point because we've found sometimes people mistakenly believe
            they need a bit for each potential domain object, which is not the case.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now that we've provided a basic overview of what the ACL system does, and what it
            looks like at a table structure, let's explore the key interfaces. The key interfaces
            are:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e5949"><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e5950"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">Acl</fo:inline>: Every domain object has one and only one
                    <fo:inline font-family="monospace">Acl</fo:inline> object, which internally holds the
                    <fo:inline font-family="monospace">AccessControlEntry</fo:inline>s as well as knows the owner of the
                    <fo:inline font-family="monospace">Acl</fo:inline>. An Acl does not refer directly to the domain object, but
                    instead to an <fo:inline font-family="monospace">ObjectIdentity</fo:inline>. The <fo:inline font-family="monospace">Acl</fo:inline> is
                    stored in the ACL_OBJECT_IDENTITY table.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e5970"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">AccessControlEntry</fo:inline>: An <fo:inline font-family="monospace">Acl</fo:inline> holds
                    multiple <fo:inline font-family="monospace">AccessControlEntry</fo:inline>s, which are often abbreviated as
                    ACEs in the framework. Each ACE refers to a specific tuple of
                    <fo:inline font-family="monospace">Permission</fo:inline>, <fo:inline font-family="monospace">Sid</fo:inline> and
                    <fo:inline font-family="monospace">Acl</fo:inline>. An ACE can also be granting or non-granting and contain
                    audit settings. The ACE is stored in the ACL_ENTRY table.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e5990"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">Permission</fo:inline>: A permission represents a particular immutable
                    bit mask, and offers convenience functions for bit masking and outputting
                    information. The basic permissions presented above (bits 0 through 4) are
                    contained in the <fo:inline font-family="monospace">BasePermission</fo:inline> class.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e5998"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">Sid</fo:inline>: The ACL module needs to refer to principals and
                    <fo:inline font-family="monospace">GrantedAuthority[]</fo:inline>s. A level of indirection is provided by
                    the <fo:inline font-family="monospace">Sid</fo:inline> interface, which is an abbreviation of "security
                    identity". Common classes include <fo:inline font-family="monospace">PrincipalSid</fo:inline> (to represent
                    the principal inside an <fo:inline font-family="monospace">Authentication</fo:inline> object)
                    and <fo:inline font-family="monospace">GrantedAuthoritySid</fo:inline>. The security identity information is
                    stored in the ACL_SID table.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e6018"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">ObjectIdentity</fo:inline>: Each domain object is represented
                    internally within the ACL module by an <fo:inline font-family="monospace">ObjectIdentity</fo:inline>. The
                    default implementation is called <fo:inline font-family="monospace">ObjectIdentityImpl</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e6029"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">AclService</fo:inline>: Retrieves the <fo:inline font-family="monospace">Acl</fo:inline> applicable
                    for a given <fo:inline font-family="monospace">ObjectIdentity</fo:inline>. In the included implementation
                    (<fo:inline font-family="monospace">JdbcAclService</fo:inline>), retrieval operations are delegated to a
                    <fo:inline font-family="monospace">LookupStrategy</fo:inline>. The <fo:inline font-family="monospace">LookupStrategy</fo:inline>
                    provides a highly optimized strategy for retrieving ACL information, using
                    batched retrievals <fo:inline font-family="monospace">(BasicLookupStrategy</fo:inline>) and supporting
                    custom implementations that leverage materialized views, hierarchical queries
                    and similar performance-centric, non-ANSI SQL capabilities.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="0em" space-before.minimum="0em" space-before.maximum="0.2em" id="d0e6052"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">MutableAclService</fo:inline>: Allows a modified <fo:inline font-family="monospace">Acl</fo:inline>
                    to be presented for persistence. It is not essential to use this interface if
                    you do not wish.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Please note that our out-of-the-box AclService and related database classes all use
            ANSI SQL. This should therefore work with all major databases. At the time of writing,
            the system had been successfully tested using Hypersonic SQL, PostgreSQL, Microsoft SQL
            Server and Oracle.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Two samples ship with Spring Security that demonstrate the ACL module. The first is
            the Contacts Sample, and the other is the Document Management System (DMS) Sample. We
            suggest taking a look over these for examples.</fo:block></fo:block><fo:block id="domain-acls-getting-started"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Getting Started</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">17.3 Getting Started</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To get starting using Spring Security's ACL capability, you will need to store your
            ACL information somewhere. This necessitates the instantiation of a
            <fo:inline font-family="monospace">DataSource</fo:inline> using Spring. The <fo:inline font-family="monospace">DataSource</fo:inline> is then
            injected into a <fo:inline font-family="monospace">JdbcMutableAclService</fo:inline> and
            <fo:inline font-family="monospace">BasicLookupStrategy</fo:inline> instance. The latter provides high-performance
            ACL retrieval capabilities, and the former provides mutator capabilities. Refer to one
            of the samples that ship with Spring Security for an example configuration. You'll also
            need to populate the database with the four ACL-specific tables listed in the last
            section (refer to the ACL samples for the appropriate SQL statements).</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once you've created the required schema and instantiated
            <fo:inline font-family="monospace">JdbcMutableAclService</fo:inline>, you'll next need to ensure your domain model
            supports interoperability with the Spring Security ACL package. Hopefully
            <fo:inline font-family="monospace">ObjectIdentityImpl</fo:inline> will prove sufficient, as it provides a large
            number of ways in which it can be used. Most people will have domain objects that
            contain a <fo:inline font-family="monospace">public Serializable getId()</fo:inline> method. If the return type is
            long, or compatible with long (eg an int), you will find you need not give further
            consideration to <fo:inline font-family="monospace">ObjectIdentity</fo:inline> issues. Many parts of the ACL module
            rely on long identifiers. If you're not using long (or an int, byte etc), there is a
            very good chance you'll need to reimplement a number of classes. We do not intend to
            support non-long identifiers in Spring Security's ACL module, as longs are already
            compatible with all database sequences, the most common identifier data type, and are of
            sufficient length to accommodate all common usage scenarios.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following fragment of code shows how to create an <fo:inline font-family="monospace">Acl</fo:inline>, or
            modify an existing
            <fo:inline font-family="monospace">Acl</fo:inline>:<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6104"><fo:inline font-style="italic">// Prepare the information we'd like in our access control entry (ACE)</fo:inline>
ObjectIdentity oi = <fo:inline font-weight="bold">new</fo:inline> ObjectIdentityImpl(Foo.<fo:inline font-weight="bold">class</fo:inline>, <fo:inline font-weight="bold">new</fo:inline> Long(44));
Sid sid = <fo:inline font-weight="bold">new</fo:inline> PrincipalSid(<fo:inline font-weight="bold" font-style="italic">"Samantha"</fo:inline>);
Permission p = BasePermission.ADMINISTRATION;

<fo:inline font-style="italic">// Create or update the relevant ACL</fo:inline>
MutableAcl acl = null;
<fo:inline font-weight="bold">try</fo:inline> {
  acl = (MutableAcl) aclService.readAclById(oi);
} <fo:inline font-weight="bold">catch</fo:inline> (NotFoundException nfe) {
  acl = aclService.createAcl(oi);
}

<fo:inline font-style="italic">// Now grant some permissions via an access control entry (ACE)</fo:inline>
acl.insertAce(acl.getEntries().length, p, sid, true);
aclService.updateAcl(acl);
</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In the example above, we're retrieving the ACL associated with the "Foo" domain object
            with identifier number 44. We're then adding an ACE so that a principal named "Samantha"
            can "administer" the object. The code fragment is relatively self-explanatory, except
            the insertAce method. The first argument to the insertAce method is determining at what
            position in the Acl the new entry will be inserted. In the example above, we're just
            putting the new ACE at the end of the existing ACEs. The final argument is a boolean
            indicating whether the ACE is granting or denying. Most of the time it will be granting
            (true), but if it is denying (false), the permissions are effectively being
            blocked.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security does not provide any special integration to automatically create,
            update or delete ACLs as part of your DAO or repository operations. Instead, you will
            need to write code like shown above for your individual domain objects. It's worth
            considering using AOP on your services layer to automatically integrate the ACL
            information with your services layer operations. We've found this quite an effective
            approach in the past.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Once you've used the above techniques to store some ACL information in the database,
            the next step is to actually use the ACL information as part of authorization decision
            logic. You have a number of choices here. You could write your own
            <fo:inline font-family="monospace">AccessDecisionVoter</fo:inline> or
            <fo:inline font-family="monospace">AfterInvocationProvider</fo:inline> that respectively fires before or after a
            method invocation. Such classes would use <fo:inline font-family="monospace">AclService</fo:inline> to retrieve the
            relevant ACL and then call <fo:inline font-family="monospace">Acl.isGranted(Permission[] permission, Sid[] sids,
            boolean administrativeMode)</fo:inline> to decide whether permission is granted or denied.
            Alternately, you could use our <fo:inline font-family="monospace">AclEntryVoter</fo:inline>,
            <fo:inline font-family="monospace">AclEntryAfterInvocationProvider</fo:inline> or
            <fo:inline font-family="monospace">AclEntryAfterInvocationCollectionFilteringProvider</fo:inline> classes. All of
            these classes provide a declarative-based approach to evaluating ACL information at
            runtime, freeing you from needing to write any code. Please refer to the sample
            applications to learn how to use these classes.</fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="preauth"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> There are situations where you want to use Spring Security for authorization, but the
        user has already been reliably authenticated by some external system prior to accessing the
        application. We refer to these situations as <fo:inline>“pre-authenticated”</fo:inline> scenarios.
        Examples include X.509, Siteminder and authentication by the J2EE container in which the
        application is running. When using pre-authentication, Spring Security has to <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e6142"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e6143"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Identify the user making the request. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e6146"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Obtain the authorities for the user.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block>The details will depend on the external authentication mechanism. A user might
        be identified by their certificate information in the case of X.509, or by an HTTP request
        header in the case of Siteminder. If relying on container authentication, the user will be
        identified by calling the <fo:inline font-family="monospace">getUserPrincipal()</fo:inline> method on the incoming
        HTTP request. In some cases, the external mechanism may supply role/authority information
        for the user but in others the authorities must be obtained from a separate source, such as
        a <fo:inline font-family="monospace">UserDetailsService</fo:inline>. </fo:block><fo:block id="d0e6156"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Pre-Authentication Framework Classes</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">18.1 Pre-Authentication Framework Classes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Because most pre-authentication mechanisms follow the same pattern, Spring Security
            has a set of classes which provide an internal framework for implementing
            pre-authenticated authentication providers. This removes duplication and allows new
            implementations to be added in a structured fashion, without having to write everything
            from scratch. You don't need to know about these classes if you want to use something
            like <fo:basic-link internal-destination="x509"><fo:inline>X.509 authentication</fo:inline></fo:basic-link>, as it already has a namespace
            configuration option which is simpler to use and get started with. If you need to use
            explicit bean configuration or are planning on writing your own implementation then an
            understanding of how the provided implementations work will be useful. You will find
            classes under the
            org.springframework.security.web.authentication.preauth. We just
            provide an outline here so you should consult the Javadoc and source where appropriate. </fo:block><fo:block id="d0e6167"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">AbstractPreAuthenticatedProcessingFilter</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">AbstractPreAuthenticatedProcessingFilter</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This class will check the current contents of the security context and, if empty,
                it will attempt to extract user information from the HTTP request and submit it to
                the <fo:inline font-family="monospace">AuthenticationManager</fo:inline>. Subclasses override the
                following methods to obtain this information:
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6175">
  <fo:inline font-weight="bold">protected</fo:inline> <fo:inline font-weight="bold">abstract</fo:inline> Object getPreAuthenticatedPrincipal(HttpServletRequest request);

  <fo:inline font-weight="bold">protected</fo:inline> <fo:inline font-weight="bold">abstract</fo:inline> Object getPreAuthenticatedCredentials(HttpServletRequest request);
</fo:block>
                After calling these, the filter will create a
                <fo:inline font-family="monospace">PreAuthenticatedAuthenticationToken</fo:inline> containing the returned
                data and submit it for authentication. By <fo:inline>“authentication”</fo:inline> here, we
                really just mean further processing to perhaps load the user's authorities, but the
                standard Spring Security authentication architecture is followed. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Like other Spring Security authentication filters, the pre-authentication filter
                has an <fo:inline font-family="monospace">authenticationDetailsSource</fo:inline> property which by default will
                create a <fo:inline font-family="monospace">WebAuthenticationDetails</fo:inline> object to store additional
                information such as the session-identifier and originating IP address in the
                    <fo:inline font-family="monospace">details</fo:inline> property of the
                    <fo:inline font-family="monospace">Authentication</fo:inline> object. In cases where user role
                information can be obtained from the pre-authentication mechanism, the data is also
                stored in this property, with the details implementing the
                    <fo:inline font-family="monospace">GrantedAuthoritiesContainer</fo:inline> interface. This
                enables the authentication provider to read the authorities which were externally
                allocated to the user. We'll look at a concrete example next. </fo:block><fo:block id="j2ee-preauth-details"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">J2eeBasedPreAuthenticatedWebAuthenticationDetailsSource</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If the filter is configured with an
                        <fo:inline font-family="monospace">authenticationDetailsSource</fo:inline> which is an instance of this
                    class, the authority information is obtained by calling the
                        <fo:inline font-family="monospace">isUserInRole(String role)</fo:inline> method for each of a
                    pre-determined set of <fo:inline>“mappable roles”</fo:inline>. The class gets these from a
                    configured <fo:inline font-family="monospace">MappableAttributesRetriever</fo:inline>. Possible
                    implementations include hard-coding a list in the application context and
                    reading the role information from the <fo:inline font-family="monospace">&lt;security-role&gt;</fo:inline>
                    information in a <fo:inline font-family="monospace">web.xml</fo:inline> file. The pre-authentication
                    sample application uses the latter approach.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There is an additional stage where the roles (or attributes) are mapped to
                    Spring Security <fo:inline font-family="monospace">GrantedAuthority</fo:inline> objects using a
                    configured <fo:inline font-family="monospace">Attributes2GrantedAuthoritiesMapper</fo:inline>.
                    The default will just add the usual <fo:inline font-family="monospace">ROLE_</fo:inline> prefix to the
                    names, but it gives you full control over the behaviour. </fo:block></fo:block></fo:block><fo:block id="d0e6235"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">PreAuthenticatedAuthenticationProvider</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">PreAuthenticatedAuthenticationProvider</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The pre-authenticated provider has little more to do than load the
                <fo:inline font-family="monospace">UserDetails</fo:inline> object for the user. It does this by
                delegating to a <fo:inline font-family="monospace">AuthenticationUserDetailsService</fo:inline>. The
                latter is similar to the standard <fo:inline font-family="monospace">UserDetailsService</fo:inline>
                but takes an <fo:inline font-family="monospace">Authentication</fo:inline> object rather than just
                user name:
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6252">
  <fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">interface</fo:inline> AuthenticationUserDetailsService {
    UserDetails loadUserDetails(Authentication token) <fo:inline font-weight="bold">throws</fo:inline> UsernameNotFoundException;
  }
</fo:block>
                This interface may have also other uses but with pre-authentication it allows access
                to the authorities which were packaged in the
                <fo:inline font-family="monospace">Authentication</fo:inline> object, as we saw in the previous
                section. The
                <fo:inline font-family="monospace">PreAuthenticatedGrantedAuthoritiesUserDetailsService</fo:inline> class
                does this. Alternatively, it may delegate to a standard
                <fo:inline font-family="monospace">UserDetailsService</fo:inline> via the
                <fo:inline font-family="monospace">UserDetailsByNameServiceWrapper</fo:inline> implementation. </fo:block></fo:block><fo:block id="d0e6267"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Http403ForbiddenEntryPoint</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Http403ForbiddenEntryPoint</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> was discussed in the
                <fo:basic-link internal-destination="tech-intro-auth-entry-point"><fo:inline>technical overview</fo:inline></fo:basic-link> chapter.
                Normally it is responsible for kick-starting the authentication process for an
                unauthenticated user (when they try to access a protected resource), but in the
                pre-authenticated case this doesn't apply. You would only configure the
                <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> with an instance of this class if
                you aren't using pre-authentication in combination with other authentication
                mechanisms. It will be called if the user is rejected by the
                <fo:inline font-family="monospace">AbstractPreAuthenticatedProcessingFilter</fo:inline> resulting in a null
                authentication. It always returns a <fo:inline font-family="monospace">403</fo:inline>-forbidden response code
                if called. </fo:block></fo:block></fo:block><fo:block id="d0e6287"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Concrete Implementations</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">18.2 Concrete Implementations</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> X.509 authentication is covered in its <fo:basic-link internal-destination="x509"><fo:inline>own chapter</fo:inline></fo:basic-link>.
            Here we'll look at some classes which provide support for other pre-authenticated
            scenarios. </fo:block><fo:block id="d0e6295"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Request-Header Authentication (Siteminder)</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Request-Header Authentication (Siteminder)</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> An external authentication system may supply information to the application by
                setting specific headers on the HTTP request. A well known example of this is
                Siteminder, which passes the username in a header called <fo:inline font-family="monospace">SM_USER</fo:inline>.
                This mechanism is supported by the class
                <fo:inline font-family="monospace">RequestHeaderAuthenticationFilter</fo:inline> which simply extracts the
                username from the header. It defaults to using the name <fo:inline font-family="monospace">SM_USER</fo:inline>
                as the header name. See the Javadoc for more details. </fo:block><fo:block space-before.minimum="0.8em" space-before.optimum="1em" space-before.maximum="1.2em" margin-left="0.25in" margin-right="0.25in" id="d0e6309"><fo:block font-size="14pt" font-weight="bold" hyphenate="false" keep-with-next.within-column="always">Tip</fo:block><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Note that when using a system like this, the framework performs no
                    authentication checks at all and it is <fo:inline font-style="italic">extremely</fo:inline> important
                    that the external system is configured properly and protects all access to the
                    application. If an attacker is able to forge the headers in their original
                    request without this being detected then they could potentially choose any
                    username they wished. </fo:block></fo:block></fo:block><fo:block id="d0e6315"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Siteminder Example Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> A typical configuration using this filter would look like this: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6320">
  <fo:inline font-weight="bold">&lt;security:http&gt;</fo:inline>
    <fo:inline font-style="italic">&lt;!-- Additional http configuration omitted --&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;security:custom-filter</fo:inline> <fo:inline font-weight="bold">position</fo:inline>=<fo:inline font-weight="bold">"PRE_AUTH_FILTER"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"siteminderFilter"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/security:http&gt;</fo:inline>

    <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"siteminderFilter"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
<fo:inline font-weight="bold">"org.springframework.security.web.authentication.preauth.RequestHeaderAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"principalRequestHeader"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"SM_USER"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"preauthAuthProvider"</fo:inline>
<fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"preAuthenticatedUserDetailsService"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"userDetailsServiceWrapper"</fo:inline>
          <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.core.userdetails.UserDetailsByNameServiceWrapper"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"userDetailsService"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"userDetailsService"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

    <fo:inline font-weight="bold">&lt;security:authentication-manager</fo:inline> <fo:inline font-weight="bold">alias</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;security:authentication-provider</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"preauthAuthProvider"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/security:authentication-manager&gt;</fo:inline>

</fo:block> We've assumed here that the <fo:basic-link internal-destination="ns-config"><fo:inline>security namespace</fo:inline></fo:basic-link>
                    is being used for configuration. It's also assumed that you have added a
                    <fo:inline font-family="monospace">UserDetailsService</fo:inline> (called
                    <fo:inline>“userDetailsService”</fo:inline>) to your configuration to load the user's
                    roles. </fo:block></fo:block></fo:block><fo:block id="d0e6332"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">J2EE Container Authentication</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">J2EE Container Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The class <fo:inline font-family="monospace">J2eePreAuthenticatedProcessingFilter</fo:inline> will
                extract the username from the <fo:inline font-family="monospace">userPrincipal</fo:inline> property of the
                <fo:inline font-family="monospace">HttpServletRequest</fo:inline>. Use of this filter would usually
                be combined with the use of J2EE roles as described above in <fo:basic-link internal-destination="j2ee-preauth-details"><fo:inline>the section called “J2eeBasedPreAuthenticatedWebAuthenticationDetailsSource”</fo:inline></fo:basic-link>. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> There is a sample application in the codebase which uses this approach, so get
                hold of the code from subversion and have a look at the application context file if
                you are interested. The code is in the <fo:inline font-family="monospace">samples/preauth</fo:inline>
                directory. </fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="ldap"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="ldap-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">19.1 Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">LDAP is often used by organizations as a central repository for user information and
            as an authentication service. It can also be used to store the role information for
            application users.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are many different scenarios for how an LDAP server may be configured so Spring
            Security's LDAP provider is fully configurable. It uses separate strategy interfaces for
            authentication and role retrieval and provides default implementations which can be
            configured to handle a wide range of situations.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should be familiar with LDAP before trying to use it with Spring Security. The
            following link provides a good introduction to the concepts involved and a guide to
            setting up a directory using the free LDAP server OpenLDAP: <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://www.zytrax.com/books/ldap/)">http://www.zytrax.com/books/ldap/</fo:basic-link></fo:inline>.
            Some familiarity with the JNDI APIs used to access LDAP from Java may also be useful. We
            don't use any third-party LDAP libraries (Mozilla, JLDAP etc.) in the LDAP provider, but
            extensive use is made of Spring LDAP, so some familiarity with that project may be
            useful if you plan on adding your own customizations.</fo:block></fo:block><fo:block id="d0e6370"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Using LDAP with Spring Security</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">19.2 Using LDAP with Spring Security</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> LDAP authentication in Spring Security can be roughly divided into the following
            stages. <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e6376"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e6377"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Obtaining the unique LDAP <fo:inline>“Distinguished Name”</fo:inline>, or DN, from the
                    login name. This will often mean performing a search in the directory, unless
                    the exact mapping of usernames to DNs is known in advance. So a user might enter
                    the name <fo:inline>“joe”</fo:inline> when logging in, but the actual name used to
                    authenticate to LDAP will be the full DN, such as
                    <fo:inline font-family="monospace">uid=joe,ou=users,dc=springsource,dc=com</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e6389"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Authenticating the user, either by <fo:inline>“binding”</fo:inline> as that user or by
                    performing a remote <fo:inline>“compare”</fo:inline> operation of the user's password
                    against the password attribute in the directory entry for the DN.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e6398"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Loading the list of authorities for the user.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block> The exception is when the LDAP directory is just being used to retrieve
            user information and authenticate against it locally. This may not be possible as
            directories are often set up with limited read access for attributes such as user
            passwords. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> We will look at some configuration scenarios below. For full information on available
            configuration options, please consult the security namespace schema (information from
            which should be available in your XML editor). </fo:block></fo:block><fo:block id="ldap-server"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Configuring an LDAP Server</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">19.3 Configuring an LDAP Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The first thing you need to do is configure the server against which authentication
            should take place. This is done using the <fo:inline font-family="monospace">&lt;ldap-server&gt;</fo:inline> element
            from the security namespace. This can be configured to point at an external LDAP server,
            using the <fo:inline font-family="monospace">url</fo:inline> attribute: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6416">
  <fo:inline font-weight="bold">&lt;ldap-server</fo:inline> <fo:inline font-weight="bold">url</fo:inline>=<fo:inline font-weight="bold">"ldap://springframework.org:389/dc=springframework,dc=org"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>

            </fo:block></fo:block><fo:block id="d0e6418"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Using an Embedded Test Server</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using an Embedded Test Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The <fo:inline font-family="monospace">&lt;ldap-server&gt;</fo:inline> element can also be used to create an
                embedded server, which can be very useful for testing and demonstrations. In this
                case you use it without the <fo:inline font-family="monospace">url</fo:inline> attribute: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6430">
  <fo:inline font-weight="bold">&lt;ldap-server</fo:inline> <fo:inline font-weight="bold">root</fo:inline>=<fo:inline font-weight="bold">"dc=springframework,dc=org"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
 
    </fo:block> Here we've specified that the root DIT of the directory should be
                <fo:inline>“dc=springframework,dc=org”</fo:inline>, which is the default. Used this way, the
                namespace parser will create an embedded Apache Directory server and scan the
                classpath for any LDIF files, which it will attempt to load into the server. You can
                customize this behaviour using the <fo:inline font-family="monospace">ldif</fo:inline> attribute, which defines
                an LDIF resource to be loaded: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6439">
  <fo:inline font-weight="bold">&lt;ldap-server</fo:inline> <fo:inline font-weight="bold">ldif</fo:inline>=<fo:inline font-weight="bold">"classpath:users.ldif"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
        </fo:block> This makes it a lot easier to get up and running with LDAP, since it
                can be inconvenient to work all the time with an external server. It also insulates
                the user from the complex bean configuration needed to wire up an Apache Directory
                server. Using plain Spring Beans the configuration would be much more cluttered. You
                must have the necessary Apache Directory dependency jars available for your
                application to use. These can be obtained from the LDAP sample application. </fo:block></fo:block><fo:block id="d0e6442"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Using Bind Authentication</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Using Bind Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This is the most common LDAP authentication scenario. <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6448">
  <fo:inline font-weight="bold">&lt;ldap-authentication-provider</fo:inline> <fo:inline font-weight="bold">user-dn-pattern</fo:inline>=<fo:inline font-weight="bold">"uid={0},ou=people"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
                     </fo:block> This simple example would obtain the DN for the user by
                substituting the user login name in the supplied pattern and attempting to bind as
                that user with the login password. This is OK if all your users are stored under a
                single node in the directory. If instead you wished to configure an LDAP search
                filter to locate the user, you could use the following: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6451">
  <fo:inline font-weight="bold">&lt;ldap-authentication-provider</fo:inline> <fo:inline font-weight="bold">user-search-filter</fo:inline>=<fo:inline font-weight="bold">"(uid={0})"</fo:inline>
          <fo:inline font-weight="bold">user-search-base</fo:inline>=<fo:inline font-weight="bold">"ou=people"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
                    </fo:block> If used with the server definition above, this would
                perform a search under the DN <fo:inline font-family="monospace">ou=people,dc=springframework,dc=org</fo:inline>
                using the value of the <fo:inline font-family="monospace">user-search-filter</fo:inline> attribute as a filter.
                Again the user login name is substituted for the parameter in the filter name, so it
                will search for an entry with the <fo:inline font-family="monospace">uid</fo:inline> attribute equal to the user
                name. If <fo:inline font-family="monospace">user-search-base</fo:inline> isn't supplied, the search will be
                performed from the root. </fo:block></fo:block><fo:block id="d0e6466"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Loading Authorities</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Loading Authorities</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> How authorities are loaded from groups in the LDAP directory is controlled by the
                following attributes. <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e6472"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e6473"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block> <fo:inline font-family="monospace">group-search-base</fo:inline>. Defines the part of the directory
                        tree under which group searches should be performed.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e6479"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block> <fo:inline font-family="monospace">group-role-attribute</fo:inline>. The attribute which contains the
                        name of the authority defined by the group entry. Defaults to
                        <fo:inline font-family="monospace">cn</fo:inline> </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e6488"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block> <fo:inline font-family="monospace">group-search-filter</fo:inline>. The filter which is used to
                        search for group membership. The default is
                        <fo:inline font-family="monospace">uniqueMember={0}</fo:inline>, corresponding to the
                        <fo:inline font-family="monospace">groupOfUniqueNames</fo:inline> LDAP class <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>
                            Note that this is different from the default configuration of the
                            underlying <fo:inline font-family="monospace">DefaultLdapAuthoritiesPopulator</fo:inline>
                            which uses <fo:inline font-family="monospace">member={0}</fo:inline>.
                        </fo:block></fo:footnote-body></fo:footnote>.
                        In this case, the substituted parameter is the full distinguished name
                        of the user. The parameter <fo:inline font-family="monospace">{1}</fo:inline> can be used if you
                        want to filter on the login name.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block> So if we used the following configuration <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6514">
  <fo:inline font-weight="bold">&lt;ldap-authentication-provider</fo:inline> <fo:inline font-weight="bold">user-dn-pattern</fo:inline>=<fo:inline font-weight="bold">"uid={0},ou=people"</fo:inline>
          <fo:inline font-weight="bold">group-search-base</fo:inline>=<fo:inline font-weight="bold">"ou=groups"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    </fo:block> and authenticated successfully as user <fo:inline>“ben”</fo:inline>, the subsequent
                loading of authorities would perform a search under the directory entry
                <fo:inline font-family="monospace">ou=groups,dc=springframework,dc=org</fo:inline>, looking for entries which
                contain the attribute <fo:inline font-family="monospace">uniqueMember</fo:inline> with value
                <fo:inline font-family="monospace">uid=ben,ou=people,dc=springframework,dc=org</fo:inline>. By default the
                authority names will have the prefix <fo:inline font-family="monospace">ROLE_</fo:inline> prepended. You can
                change this using the <fo:inline font-family="monospace">role-prefix</fo:inline> attribute. If you don't want
                any prefix, use <fo:inline font-family="monospace">role-prefix="none"</fo:inline>. For more information on
                loading authorities, see the Javadoc for the
                <fo:inline font-family="monospace">DefaultLdapAuthoritiesPopulator</fo:inline> class. </fo:block></fo:block></fo:block><fo:block id="d0e6541"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Implementation Classes</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">19.4 Implementation Classes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The namespace configuration options we've used above are simple to use and much more
            concise than using Spring beans explicitly. There are situations when you may need to
            know how to configure Spring Security LDAP directly in your application context. You may
            wish to customize the behaviour of some of the classes, for example. If you're happy
            using namespace configuration then you can skip this section and the next one. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The main LDAP provider class, <fo:inline font-family="monospace">LdapAuthenticationProvider</fo:inline>,
            doesn't actually do much itself but delegates the work to two other beans, an
            <fo:inline font-family="monospace">LdapAuthenticator</fo:inline> and an
            <fo:inline font-family="monospace">LdapAuthoritiesPopulator</fo:inline> which are responsible for
            authenticating the user and retrieving the user's set of
            <fo:inline font-family="monospace">GrantedAuthority</fo:inline>s respectively.</fo:block><fo:block id="ldap-ldap-authenticators"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">LdapAuthenticator Implementations</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">LdapAuthenticator Implementations</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The authenticator is also responsible for retrieving any required user attributes.
                This is because the permissions on the attributes may depend on the type of
                authentication being used. For example, if binding as the user, it may be necessary
                to read them with the user's own permissions.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are currently two authentication strategies supplied with Spring Security: <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e6569"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e6570"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Authentication directly to the LDAP server ("bind" authentication).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e6573"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Password comparison, where the password supplied by the user is compared
                        with the one stored in the repository. This can either be done by retrieving
                        the value of the password attribute and checking it locally or by performing
                        an LDAP "compare" operation, where the supplied password is passed to the
                        server for comparison and the real password value is never retrieved.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="ldap-ldap-authenticators-common"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Common Functionality</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Before it is possible to authenticate a user (by either strategy), the
                    distinguished name (DN) has to be obtained from the login name supplied to the
                    application. This can be done either by simple pattern-matching (by setting the
                    setUserDnPatterns array property) or by setting the
                    userSearch property. For the DN pattern-matching approach,
                    a standard Java pattern format is used, and the login name will be substituted
                    for the parameter <fo:inline font-family="monospace" font-style="italic">{0}</fo:inline>. The pattern should be relative to
                    the DN that the configured
                    <fo:inline font-family="monospace">SpringSecurityContextSource</fo:inline> will bind to (see the
                    section on <fo:basic-link internal-destination="ldap-context-source"><fo:inline>connecting to the LDAP
                    server</fo:inline></fo:basic-link> for more information on this). For example, if you are using an
                    LDAP server with the URL
                    <fo:inline font-family="monospace">ldap://monkeymachine.co.uk/dc=springframework,dc=org</fo:inline>, and
                    have a pattern <fo:inline font-family="monospace">uid={0},ou=greatapes</fo:inline>, then a login name of
                    "gorilla" will map to a DN
                    <fo:inline font-family="monospace">uid=gorilla,ou=greatapes,dc=springframework,dc=org</fo:inline>. Each
                    configured DN pattern will be tried in turn until a match is found. For
                    information on using a search, see the section on <fo:basic-link internal-destination="ldap-searchobjects"><fo:inline>search objects</fo:inline></fo:basic-link> below. A combination of the
                    two approaches can also be used - the patterns will be checked first and if no
                    matching DN is found, the search will be used.</fo:block></fo:block><fo:block id="ldap-ldap-authenticators-bind"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">BindAuthenticator</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The class <fo:inline font-family="monospace">BindAuthenticator</fo:inline> in the package
                    <fo:inline font-family="monospace">org.springframework.security.ldap.authentication</fo:inline> implements
                    the bind authentication strategy. It simply attempts to bind as the user.</fo:block></fo:block><fo:block id="ldap-ldap-authenticators-password"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">PasswordComparisonAuthenticator</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The class <fo:inline font-family="monospace">PasswordComparisonAuthenticator</fo:inline> implements
                    the password comparison authentication strategy.</fo:block></fo:block></fo:block><fo:block id="ldap-context-source"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Connecting to the LDAP Server</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Connecting to the LDAP Server</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The beans discussed above have to be able to connect to the server. They both have
                to be supplied with a <fo:inline font-family="monospace">SpringSecurityContextSource</fo:inline>
                which is an extension of Spring LDAP's <fo:inline font-family="monospace">ContextSource</fo:inline>.
                Unless you have special requirements, you will usually configure a
                <fo:inline font-family="monospace">DefaultSpringSecurityContextSource</fo:inline> bean, which can be
                configured with the URL of your LDAP server and optionally with the username and
                password of a "manager" user which will be used by default when binding to the
                server (instead of binding anonymously). For more information read the Javadoc for
                this class and for Spring LDAP's <fo:inline font-family="monospace">AbstractContextSource</fo:inline>.
            </fo:block></fo:block><fo:block id="ldap-searchobjects"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">LDAP Search Objects</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">LDAP Search Objects</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Often a more complicated strategy than simple DN-matching is required to locate a
                user entry in the directory. This can be encapsulated in an
                <fo:inline font-family="monospace">LdapUserSearch</fo:inline> instance which can be supplied to the
                authenticator implementations, for example, to allow them to locate a user. The
                supplied implementation is <fo:inline font-family="monospace">FilterBasedLdapUserSearch</fo:inline>.</fo:block><fo:block id="ldap-searchobjects-filter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">
                        <fo:inline font-family="monospace">FilterBasedLdapUserSearch</fo:inline> </fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This bean uses an LDAP filter to match the user object in the directory. The
                    process is explained in the Javadoc for the corresponding search method on the
                    <fo:basic-link external-destination="url(http://java.sun.com/j2se/1.4.2/docs/api/javax/naming/directory/DirContext.html#search(javax.naming.Name,%20java.lang.String,%20java.lang.Object[],%20javax.naming.directory.SearchControls))"><fo:inline>JDK DirContext class</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://java.sun.com/j2se/1.4.2/docs/api/javax/naming/directory/DirContext.html#search(javax.naming.Name,%20java.lang.String,%20java.lang.Object[],%20javax.naming.directory.SearchControls))">http://java.sun.com/j2se/1.4.2/docs/api/javax/naming/directory/DirContext.html#search(javax.naming.Name,%20java.lang.String,%20java.lang.Object[],%20javax.naming.directory.SearchControls)</fo:basic-link>]</fo:inline>. As explained there, the search filter can be
                    supplied with parameters. For this class, the only valid parameter is
                    <fo:inline font-family="monospace" font-style="italic">{0}</fo:inline> which will be replaced with the user's login
                    name.</fo:block></fo:block></fo:block><fo:block id="ldap-authorities"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">LdapAuthoritiesPopulator</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">LdapAuthoritiesPopulator</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> After authenticating the user successfully, the
                <fo:inline font-family="monospace">LdapAuthenticationProvider</fo:inline> will attempt to load a set of
                authorities for the user by calling the configured
                <fo:inline font-family="monospace">LdapAuthoritiesPopulator</fo:inline> bean. The
                <fo:inline font-family="monospace">DefaultLdapAuthoritiesPopulator</fo:inline> is an implementation which
                will load the authorities by searching the directory for groups of which the user is
                a member (typically these will be <fo:inline font-family="monospace">groupOfNames</fo:inline> or
                <fo:inline font-family="monospace">groupOfUniqueNames</fo:inline> entries in the directory). Consult the Javadoc
                for this class for more details on how it works. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you want to use LDAP only for authentication, but load the authorities from a
                difference source (such as a database) then you can provide your own implementation
                of this interface and inject that instead.</fo:block></fo:block><fo:block id="ldap-bean-config"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Spring Bean Configuration</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Spring Bean Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A typical configuration, using some of the beans we've discussed here, might look
                like this: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6703">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"contextSource"</fo:inline>
        <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.ldap.DefaultSpringSecurityContextSource"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"ldap://monkeymachine:389/dc=springframework,dc=org"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"userDn"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"cn=manager,dc=springframework,dc=org"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"password"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"password"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"ldapAuthProvider"</fo:inline>
    <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.ldap.authentication.LdapAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;constructor-arg&gt;</fo:inline>
   <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.ldap.authentication.BindAuthenticator"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
     <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"contextSource"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
     <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"userDnPatterns"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
       <fo:inline font-weight="bold">&lt;list&gt;</fo:inline><fo:inline font-weight="bold">&lt;value&gt;</fo:inline>uid={0},ou=people<fo:inline font-weight="bold">&lt;/value&gt;</fo:inline><fo:inline font-weight="bold">&lt;/list&gt;</fo:inline>
     <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
   <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;/constructor-arg&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;constructor-arg&gt;</fo:inline>
   <fo:inline font-weight="bold">&lt;bean</fo:inline>
     <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.ldap.userdetails.DefaultLdapAuthoritiesPopulator"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
     <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"contextSource"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
     <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"ou=groups"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
     <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"groupRoleAttribute"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"ou"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
   <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;/constructor-arg&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
                </fo:block> This would set up the provider to access an LDAP server
                with URL <fo:inline font-family="monospace">ldap://monkeymachine:389/dc=springframework,dc=org</fo:inline>.
                Authentication will be performed by attempting to bind with the DN
                <fo:inline font-family="monospace">uid=&lt;user-login-name&gt;,ou=people,dc=springframework,dc=org</fo:inline>.
                After successful authentication, roles will be assigned to the user by searching
                under the DN <fo:inline font-family="monospace">ou=groups,dc=springframework,dc=org</fo:inline> with the default
                filter <fo:inline font-family="monospace">(member=&lt;user's-DN&gt;)</fo:inline>. The role name will be taken
                from the <fo:inline>“ou”</fo:inline> attribute of each match.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To configure a user search object, which uses the filter
                <fo:inline font-family="monospace">(uid=&lt;user-login-name&gt;)</fo:inline> for use instead of the DN-pattern
                (or in addition to it), you would configure the following bean <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6726">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"userSearch"</fo:inline>
    <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.ldap.search.FilterBasedLdapUserSearch"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">index</fo:inline>=<fo:inline font-weight="bold">"0"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">""</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">index</fo:inline>=<fo:inline font-weight="bold">"1"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"(uid={0})"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">index</fo:inline>=<fo:inline font-weight="bold">"2"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"contextSource"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline> 
                </fo:block> and use it by setting the
                <fo:inline font-family="monospace">BindAuthenticator</fo:inline> bean's userSearch
                property. The authenticator would then call the search object to obtain the correct
                user's DN before attempting to bind as this user.</fo:block></fo:block><fo:block id="ldap-custom-user-details"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">LDAP Attributes and Customized UserDetails</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">LDAP Attributes and Customized UserDetails</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The net result of an authentication using
                <fo:inline font-family="monospace">LdapAuthenticationProvider</fo:inline> is the same as a normal Spring
                Security authentication using the standard
                <fo:inline font-family="monospace">UserDetailsService</fo:inline> interface. A
                <fo:inline font-family="monospace">UserDetails</fo:inline> object is created and stored in the
                returned <fo:inline font-family="monospace">Authentication</fo:inline> object. As with using a
                <fo:inline font-family="monospace">UserDetailsService</fo:inline>, a common requirement is to be
                able to customize this implementation and add extra properties. When using LDAP,
                these will normally be attributes from the user entry. The creation of the
                <fo:inline font-family="monospace">UserDetails</fo:inline> object is controlled by the provider's
                <fo:inline font-family="monospace">UserDetailsContextMapper</fo:inline> strategy, which is
                responsible for mapping user objects to and from LDAP context data: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6761">
<fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">interface</fo:inline> UserDetailsContextMapper {
  UserDetails mapUserFromContext(DirContextOperations ctx, String username,
          Collection&lt;GrantedAuthority&gt; authorities);

  <fo:inline font-weight="bold">void</fo:inline> mapUserToContext(UserDetails user, DirContextAdapter ctx);
}
                </fo:block> Only the first method is relevant for authentication. If you
                provide an implementation of this interface and inject it into the
                <fo:inline font-family="monospace">LdapAuthenticationProvider</fo:inline>, you have control over exactly how
                the UserDetails object is created. The first parameter is an instance of Spring
                LDAP's <fo:inline font-family="monospace">DirContextOperations</fo:inline> which gives you access to
                the LDAP attributes which were loaded during authentication. The
                <fo:inline font-family="monospace">username</fo:inline> parameter is the name used to authenticate and the final
                parameter is the collection of authorities loaded for the user by the configured
                <fo:inline font-family="monospace">LdapAuthoritiesPopulator</fo:inline>. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The way the context data is loaded varies slightly depending on the type of
                authentication you are using. With the <fo:inline font-family="monospace">BindAuthenticator</fo:inline>, the
                context returned from the bind operation will be used to read the attributes,
                otherwise the data will be read using the standard context obtained from the
                configured <fo:inline font-family="monospace">ContextSource</fo:inline> (when a search is configured
                to locate the user, this will be the data returned by the search object). </fo:block></fo:block></fo:block><fo:block id="ldap-active-directory"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Active Directory Authentication</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">19.5 Active Directory Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Active Directory supports its own non-standard authentication options, and the normal usage pattern
            doesn't fit too cleanly with the standard <fo:inline font-family="monospace">LdapAuthenticationProvider</fo:inline>.
            Typically authentication is performed using the domain username (in the form <fo:inline font-family="monospace">user@domain</fo:inline>),
            rather than using an LDAP distinguished name. To make this easier, Spring Security 3.1 has an
            authentication provider which is customized for a typical Active Directory setup.
        </fo:block><fo:block id="d0e6795"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">ActiveDirectoryLdapAuthenticationProvider</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">ActiveDirectoryLdapAuthenticationProvider</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Configuring <fo:inline font-family="monospace">ActiveDirectoryLdapAuthenticationProvider</fo:inline> is
                quite straightforward. You just need to supply the domain name and an LDAP URL
                supplying the address of the server <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">2</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">2</fo:inline>It is also possible to obtain the server's IP address using a DNS lookup. This
                    is not currently supported, but hopefully will be in a future version.</fo:block></fo:footnote-body></fo:footnote>. An example configuration would then look like this: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6808">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"adAuthenticationProvider"</fo:inline>
  <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.ldap.authentication.ad.ActiveDirectoryLdapAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"mydomain.com"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"ldap://adserver.mydomain.com/"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
}
                </fo:block> Note that there is no need to specify a separate
                <fo:inline font-family="monospace">ContextSource</fo:inline> in order to define the server location - the bean
                is completely self-contained. A user named <fo:inline>“Sharon”</fo:inline>, for example, would
                then be able to authenticate by entering either the username
                <fo:inline font-family="monospace">sharon</fo:inline> or the full Active Directory
                <fo:inline font-family="monospace">userPrincipalName</fo:inline>, namely <fo:inline font-family="monospace">sharon@mydomain.com</fo:inline>.
                The user's directory entry will then be located, and the attributes returned for
                possible use in customizing the created <fo:inline font-family="monospace">UserDetails</fo:inline>
                object (a <fo:inline font-family="monospace">UserDetailsContextMapper</fo:inline> can be injected
                for this purpose, as described above). All interaction with the directory takes
                place with the identity of the user themselves. There is no concept of a
                <fo:inline>“manager”</fo:inline> user. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, the user authorities are obtained from the <fo:inline font-family="monospace">memberOf</fo:inline>
                attribute values of the user entry. The authorities allocated to the user can again
                be customized using a <fo:inline font-family="monospace">UserDetailsContextMapper</fo:inline>. You
                can also inject a <fo:inline font-family="monospace">GrantedAuthoritiesMaper</fo:inline> into the
                provider instance to control the authorities which end up in the
                <fo:inline font-family="monospace">Authentication</fo:inline> object.</fo:block><fo:block id="d0e6849"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Active Directory Error Codes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By default, a failed result will cause a standard Spring Security
                    <fo:inline font-family="monospace">BadCredentialsException</fo:inline>. If you set the property
                    <fo:inline font-family="monospace">convertSubErrorCodesToExceptions</fo:inline> to <fo:inline font-family="monospace">true</fo:inline>,
                    the exception messages will be parsed to attempt to extract the Active
                    Directory-specific error code and raise a more specific exception. Check the
                    class Javadoc for more information.</fo:block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="taglibs"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Spring Security has its own taglib which provides basic support for accessing security
        information and applying security constraints in JSPs. </fo:block><fo:block id="d0e6868"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Declaring the Taglib</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">20.1 Declaring the Taglib</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To use any of the tags, you must have the security taglib declared in your JSP:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6873">
    <fo:inline font-weight="bold">&lt;%@</fo:inline> <fo:inline font-weight="bold">taglib</fo:inline> <fo:inline font-weight="bold">prefix</fo:inline>=<fo:inline font-weight="bold">"sec"</fo:inline> <fo:inline font-weight="bold">uri</fo:inline>=<fo:inline font-weight="bold">"http://www.springframework.org/security/tags"</fo:inline> <fo:inline font-weight="bold">%&gt;</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="d0e6875"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">The <fo:inline font-family="monospace">authorize</fo:inline> Tag</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">20.2 The <fo:inline font-family="monospace">authorize</fo:inline> Tag</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This tag is used to determine whether its contents should be evaluated or not. In
            Spring Security 3.0, it can be used in two ways <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>The legacy options from Spring Security 2.0 are also supported, but
                discouraged.</fo:block></fo:footnote-body></fo:footnote>. The first approach uses a <fo:basic-link internal-destination="el-access-web"><fo:inline>web-security
            expression</fo:inline></fo:basic-link>, specified in the <fo:inline font-family="monospace">access</fo:inline> attribute of the tag. The
            expression evaluation will be delegated to the
            <fo:inline font-family="monospace">SecurityExpressionHandler&lt;FilterInvocation&gt;</fo:inline> defined in the application
            context (you should have web expressions enabled in your <fo:inline font-family="monospace">&lt;http&gt;</fo:inline>
            namespace configuration to make sure this service is available). So, for example, you
            might
            have<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6899"><fo:inline font-weight="bold">&lt;sec:authorize</fo:inline> <fo:inline font-weight="bold">access</fo:inline>=<fo:inline font-weight="bold">"hasRole('supervisor')"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>

This content will only be visible to users who have
the "supervisor" authority in their list of <fo:inline font-weight="bold">&lt;tt&gt;</fo:inline>GrantedAuthority<fo:inline font-weight="bold">&lt;/tt&gt;</fo:inline>s.

<fo:inline font-weight="bold">&lt;/sec:authorize&gt;</fo:inline></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A common requirement is to only show a particular link, if the user is actually
            allowed to click it. How can we determine in advance whether something will be allowed?
            This tag can also operate in an alternative mode which allows you to define a particular
            URL as an attribute. If the user is allowed to invoke that URL, then the tag body will
            be evaluated, otherwise it will be skipped. So you might have something
            like<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6903"><fo:inline font-weight="bold">&lt;sec:authorize</fo:inline> <fo:inline font-weight="bold">url</fo:inline>=<fo:inline font-weight="bold">"/admin"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>

This content will only be visible to users who are authorized to send requests to the "/admin" URL.

<fo:inline font-weight="bold">&lt;/sec:authorize&gt;</fo:inline></fo:block>To
            use this tag there must also be an instance of
            <fo:inline font-family="monospace">WebInvocationPrivilegeEvaluator</fo:inline> in your application
            context. If you are using the namespace, one will automatically be registered. This is
            an instance of <fo:inline font-family="monospace">DefaultWebInvocationPrivilegeEvaluator</fo:inline>, which
            creates a dummy web request for the supplied URL and invokes the security interceptor to
            see whether the request would succeed or fail. This allows you to delegate to the
            access-control setup you defined using <fo:inline font-family="monospace">intercept-url</fo:inline> declarations
            within the <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> namespace configuration and saves having to
            duplicate the information (such as the required roles) within your JSPs. This approach
            can also be combined with a <fo:inline font-family="monospace">method</fo:inline> attribute, supplying the HTTP
            method, for a more specific match.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The boolean result of evaluating the tag (whether it grants or denies access) can be
            stored in a page context scope variable by setting the <fo:inline font-family="monospace">var</fo:inline> attribute
            to the variable name, avoiding the need for duplicating and re-evaluating the condition
            at other points in the page.</fo:block><fo:block id="d0e6926"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Disabling Tag Authorization for Testing</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Disabling Tag Authorization for Testing</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Hiding a link in a page for unauthorized users doesn't prevent them from accessing
                the URL. They could just type it into their browser directly, for example. As part
                of your testing process, you may want to reveal the hidden areas in order to check
                that links really are secured at the back end. If you set the system property
                    <fo:inline font-family="monospace">spring.security.disableUISecurity</fo:inline> to <fo:inline font-family="monospace">true</fo:inline>,
                the <fo:inline font-family="monospace">authorize</fo:inline> tag will still run but will not hide its contents.
                By default it will also surround the content with <fo:inline font-family="monospace">&lt;span
                    class="securityHiddenUI"&gt;...&lt;/span&gt;</fo:inline> tags. This allows you to
                display <fo:inline>“hidden”</fo:inline> content with a particular CSS style such as a
                different background colour. Try running the <fo:inline>“tutorial”</fo:inline> sample
                application with this property enabled, for example.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can also set the properties <fo:inline font-family="monospace">spring.security.securedUIPrefix</fo:inline>
                and <fo:inline font-family="monospace">spring.security.securedUISuffix</fo:inline> if you want to change
                surrounding text from the default <fo:inline font-family="monospace">span</fo:inline> tags (or use empty strings
                to remove it completely).</fo:block></fo:block></fo:block><fo:block id="d0e6960"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">The <fo:inline font-family="monospace">authentication</fo:inline>Tag</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">20.3 The <fo:inline font-family="monospace">authentication</fo:inline>Tag</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This tag allows access to the current <fo:inline font-family="monospace">Authentication</fo:inline>
            object stored in the security context. It renders a property of the object directly in
            the JSP. So, for example, if the <fo:inline font-family="monospace">principal</fo:inline> property of the
            <fo:inline font-family="monospace">Authentication</fo:inline> is an instance of Spring Security's
            <fo:inline font-family="monospace">UserDetails</fo:inline> object, then using
            <fo:inline font-family="monospace">&lt;sec:authentication property="principal.username" /&gt;</fo:inline> will render
            the name of the current user.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Of course, it isn't necessary to use JSP tags for this kind of thing and some people
            prefer to keep as little logic as possible in the view. You can access the
            <fo:inline font-family="monospace">Authentication</fo:inline> object in your MVC controller (by calling
            <fo:inline font-family="monospace">SecurityContextHolder.getContext().getAuthentication()</fo:inline>) and add the data
            directly to your model for rendering by the view.</fo:block></fo:block><fo:block id="d0e6991"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">The <fo:inline font-family="monospace">accesscontrollist</fo:inline> Tag</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">20.4 The <fo:inline font-family="monospace">accesscontrollist</fo:inline> Tag</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This tag is only valid when used with Spring Security's ACL module. It checks a
            comma-separated list of required permissions for a specified domain object. If the
            current user has any of those permissions, then the tag body will be evaluated. If they
            don't, it will be skipped. An example might
            be<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e6999"><fo:inline font-weight="bold">&lt;sec:accesscontrollist</fo:inline> <fo:inline font-weight="bold">hasPermission</fo:inline>=<fo:inline font-weight="bold">"1,2"</fo:inline> <fo:inline font-weight="bold">domainObject</fo:inline>=<fo:inline font-weight="bold">"${someObject}"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>

This will be shown if the user has either of the permissions 
represented by the values "1" or "2" on the given object.

<fo:inline font-weight="bold">&lt;/sec:accesscontrollist&gt;</fo:inline></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The permissions are passed to the <fo:inline font-family="monospace">PermissionFactory</fo:inline>
            defined in the application context, converting them to ACL
            <fo:inline font-family="monospace">Permission</fo:inline> instances, so they may be any format which is
            supported by the factory - they don't have to be integers, they could be strings like
            <fo:inline font-family="monospace">READ</fo:inline> or <fo:inline font-family="monospace">WRITE</fo:inline>. If no
            <fo:inline font-family="monospace">PermissionFactory</fo:inline> is found, an instance of
            <fo:inline font-family="monospace">DefaultPermissionFactory</fo:inline> will be used. The
            <fo:inline font-family="monospace">AclService</fo:inline>from the application context will be used to
            load the <fo:inline font-family="monospace">Acl</fo:inline> instance for the supplied object. The
            <fo:inline font-family="monospace">Acl</fo:inline> will be invoked with the required permissions to
            check if any of them are granted.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This tag also supports the <fo:inline font-family="monospace">var</fo:inline> attribute, in the same way as the
            <fo:inline font-family="monospace">authorize</fo:inline> tag.</fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="jaas"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="d0e7042"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">21.1 Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security provides a package able to delegate authentication requests to the
            Java Authentication and Authorization Service (JAAS). This package is discussed in
            detail below.</fo:block></fo:block><fo:block id="jaas-abstractjaasauthenticationprovider"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">AbstractJaasAuthenticationProvider</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">21.2 AbstractJaasAuthenticationProvider</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">AbstractJaasAuthenticationProvider</fo:inline> is the basis for the
            provided JAAS <fo:inline font-family="monospace">AuthenticationProvider</fo:inline> implementations. Subclasses
            must implement a method that creates the <fo:inline font-family="monospace">LoginContext</fo:inline>. The
            <fo:inline font-family="monospace">AbstractJaasAuthenticationProvider</fo:inline> has a number of dependencies that can
            be injected into it that are discussed below.</fo:block><fo:block id="jaas-callbackhandler"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">JAAS CallbackHandler</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">JAAS CallbackHandler</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Most JAAS <fo:inline font-family="monospace">LoginModule</fo:inline>s require a callback of some sort. These
                callbacks are usually used to obtain the username and password from the user.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In a Spring Security deployment, Spring Security is responsible for this user
                interaction (via the authentication mechanism). Thus, by the time the authentication
                request is delegated through to JAAS, Spring Security's authentication mechanism
                will already have fully-populated an <fo:inline font-family="monospace">Authentication</fo:inline>
                object containing all the information required by the JAAS
                <fo:inline font-family="monospace">LoginModule</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Therefore, the JAAS package for Spring Security provides two default callback
                handlers, <fo:inline font-family="monospace">JaasNameCallbackHandler</fo:inline> and
                <fo:inline font-family="monospace">JaasPasswordCallbackHandler</fo:inline>. Each of these callback handlers
                implement <fo:inline font-family="monospace">JaasAuthenticationCallbackHandler</fo:inline>. In most cases these
                callback handlers can simply be used without understanding the internal
                mechanics.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For those needing full control over the callback behavior, internally
                <fo:inline font-family="monospace">AbstractJaasAuthenticationProvider</fo:inline> wraps these
                <fo:inline font-family="monospace">JaasAuthenticationCallbackHandler</fo:inline>s with an
                <fo:inline font-family="monospace">InternalCallbackHandler</fo:inline>. The
                <fo:inline font-family="monospace">InternalCallbackHandler</fo:inline> is the class that actually implements
                JAAS’ normal <fo:inline font-family="monospace">CallbackHandler</fo:inline> interface. Any time that the JAAS
                <fo:inline font-family="monospace">LoginModule</fo:inline> is used, it is passed a list of application context
                configured <fo:inline font-family="monospace">InternalCallbackHandler</fo:inline>s. If the
                <fo:inline font-family="monospace">LoginModule</fo:inline> requests a callback against the
                <fo:inline font-family="monospace">InternalCallbackHandler</fo:inline>s, the callback is in-turn passed to the
                <fo:inline font-family="monospace">JaasAuthenticationCallbackHandler</fo:inline>s being wrapped.</fo:block></fo:block><fo:block id="jaas-authoritygranter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">JAAS AuthorityGranter</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">JAAS AuthorityGranter</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">JAAS works with principals. Even "roles" are represented as principals in JAAS.
                Spring Security, on the other hand, works with
                <fo:inline font-family="monospace">Authentication</fo:inline> objects. Each
                <fo:inline font-family="monospace">Authentication</fo:inline> object contains a single principal,
                and multiple <fo:inline font-family="monospace">GrantedAuthority</fo:inline>s. To facilitate
                mapping between these different concepts, Spring Security's JAAS package includes an
                <fo:inline font-family="monospace">AuthorityGranter</fo:inline> interface.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An <fo:inline font-family="monospace">AuthorityGranter</fo:inline> is responsible for inspecting a JAAS
                principal and returning a set of <fo:inline font-family="monospace">String</fo:inline>s, representing the
                authorities assigned to the principal. For each returned authority string, the
                <fo:inline font-family="monospace">AbstractJaasAuthenticationProvider</fo:inline> creates a
                <fo:inline font-family="monospace">JaasGrantedAuthority</fo:inline> (which implements Spring Security’s
                <fo:inline font-family="monospace">GrantedAuthority</fo:inline> interface) containing the authority
                string and the JAAS principal that the
                <fo:inline font-family="monospace">AuthorityGranter</fo:inline> was passed. The
                <fo:inline font-family="monospace">AbstractJaasAuthenticationProvider</fo:inline> obtains the JAAS principals by
                firstly successfully authenticating the user’s credentials using the JAAS
                <fo:inline font-family="monospace">LoginModule</fo:inline>, and then accessing the
                <fo:inline font-family="monospace">LoginContext</fo:inline> it returns. A call to
                <fo:inline font-family="monospace">LoginContext.getSubject().getPrincipals()</fo:inline> is made, with each
                resulting principal passed to each <fo:inline font-family="monospace">AuthorityGranter</fo:inline>
                defined against the
                <fo:inline font-family="monospace">AbstractJaasAuthenticationProvider.setAuthorityGranters(List)</fo:inline>
                property.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring Security does not include any production
                <fo:inline font-family="monospace">AuthorityGranter</fo:inline>s given that every JAAS principal has
                an implementation-specific meaning. However, there is a
                <fo:inline font-family="monospace">TestAuthorityGranter</fo:inline> in the unit tests that demonstrates a simple
                <fo:inline font-family="monospace">AuthorityGranter</fo:inline> implementation.</fo:block></fo:block></fo:block><fo:block id="jaas-defaultjaasauthenticationprovider"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">DefaultJaasAuthenticationProvider</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">21.3 DefaultJaasAuthenticationProvider</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">DefaultJaasAuthenticationProvider</fo:inline> allows a JAAS
            <fo:inline font-family="monospace">Configuration</fo:inline> object to be injected into it as a dependency. It then
            creates a <fo:inline font-family="monospace">LoginContext</fo:inline> using the injected JAAS <fo:inline font-family="monospace">Configuration</fo:inline>.
            This means that <fo:inline font-family="monospace">DefaultJaasAuthenticationProvider</fo:inline> is not bound any particular implementation
            of <fo:inline font-family="monospace">Configuration</fo:inline> as <fo:inline font-family="monospace">JaasAuthenticationProvider</fo:inline> is.</fo:block><fo:block id="jaas-inmemoryconfiguration"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">InMemoryConfiguration</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">InMemoryConfiguration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In order to make it easy to inject a <fo:inline font-family="monospace">Configuration</fo:inline> into
                    <fo:inline font-family="monospace">DefaultJaasAuthenticationProvider</fo:inline>, a default in memory
                    implementation named <fo:inline font-family="monospace">InMemoryConfiguration</fo:inline> is provided. The
                    implementation constructor accepts a <fo:inline font-family="monospace">Map</fo:inline> where each key represents a
                    login configuration name and the value represents an <fo:inline font-family="monospace">Array</fo:inline> of
                    <fo:inline font-family="monospace">AppConfigurationEntry</fo:inline>s.
                    <fo:inline font-family="monospace">InMemoryConfiguration</fo:inline> also supports a default
                    <fo:inline font-family="monospace">Array</fo:inline> of <fo:inline font-family="monospace">AppConfigurationEntry</fo:inline> objects that
                    will be used if no mapping is found within the provided <fo:inline font-family="monospace">Map</fo:inline>. For
                    details, refer to the class level javadoc of <fo:inline font-family="monospace">InMemoryConfiguration</fo:inline>.</fo:block></fo:block><fo:block id="jaas-djap-config"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">DefaultJaasAuthenticationProvider Example Configuration</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">DefaultJaasAuthenticationProvider Example Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">While the Spring configuration for <fo:inline font-family="monospace">InMemoryConfiguration</fo:inline> can be
                    more verbose than the standarad JAAS configuration files, using it in conjuction with
                    <fo:inline font-family="monospace">DefaultJaasAuthenticationProvider</fo:inline> is more flexible than
                    <fo:inline font-family="monospace">JaasAuthenticationProvider</fo:inline> since it not dependant on the default
                    <fo:inline font-family="monospace">Configuration</fo:inline> implementation.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An example configuration of <fo:inline font-family="monospace">DefaultJaasAuthenticationProvider</fo:inline> using
                    <fo:inline font-family="monospace">InMemoryConfiguration</fo:inline> is provided below. Note that custom implementations of
                    <fo:inline font-family="monospace">Configuration</fo:inline> can easily be injected into
                    <fo:inline font-family="monospace">DefaultJaasAuthenticationProvider</fo:inline> as well.</fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7291">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"jaasAuthProvider"</fo:inline>
   <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.authentication.jaas.DefaultJaasAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"configuration"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.authentication.jaas.memory.InMemoryConfiguration"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
   <fo:inline font-weight="bold">&lt;constructor-arg&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;map&gt;</fo:inline>
     <fo:inline font-style="italic">&lt;!--
       SPRINGSECURITY is the default loginContextName
       for AbstractJaasAuthenticationProvider
     --&gt;</fo:inline>
     <fo:inline font-weight="bold">&lt;entry</fo:inline> <fo:inline font-weight="bold">key</fo:inline>=<fo:inline font-weight="bold">"SPRINGSECURITY"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;array&gt;</fo:inline>
       <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"javax.security.auth.login.AppConfigurationEntry"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"sample.SampleLoginModule"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
         <fo:inline font-weight="bold">&lt;constructor-arg&gt;</fo:inline>
          <fo:inline font-weight="bold">&lt;util:constant</fo:inline> <fo:inline font-weight="bold">static-field</fo:inline>=
            <fo:inline font-weight="bold">"javax.security.auth.login.AppConfigurationEntry$LoginModuleControlFlag.REQUIRED"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
         <fo:inline font-weight="bold">&lt;/constructor-arg&gt;</fo:inline>
         <fo:inline font-weight="bold">&lt;constructor-arg&gt;</fo:inline>
          <fo:inline font-weight="bold">&lt;map&gt;</fo:inline><fo:inline font-weight="bold">&lt;/map&gt;</fo:inline>
         <fo:inline font-weight="bold">&lt;/constructor-arg&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
       <fo:inline font-weight="bold">&lt;/array&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;/entry&gt;</fo:inline>
     <fo:inline font-weight="bold">&lt;/map&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/constructor-arg&gt;</fo:inline>
   <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authorityGranters"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
   <fo:inline font-weight="bold">&lt;list&gt;</fo:inline>
    <fo:inline font-style="italic">&lt;!-- You will need to write your own implementation of AuthorityGranter --&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.authentication.jaas.TestAuthorityGranter"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
   <fo:inline font-weight="bold">&lt;/list&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="jaas-jaasauthenticationprovider"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">JaasAuthenticationProvider</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">21.4 JaasAuthenticationProvider</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">JaasAuthenticationProvider</fo:inline> assumes the default <fo:inline font-family="monospace">Configuration</fo:inline> is an instance of
            <fo:basic-link external-destination="url(http://download.oracle.com/javase/1.4.2/docs/guide/security/jaas/spec/com/sun/security/auth/login/ConfigFile.html)"><fo:inline>
            ConfigFile</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://download.oracle.com/javase/1.4.2/docs/guide/security/jaas/spec/com/sun/security/auth/login/ConfigFile.html)">http://download.oracle.com/javase/1.4.2/docs/guide/security/jaas/spec/com/sun/security/auth/login/ConfigFile.html</fo:basic-link>]</fo:inline>. This assumption is made in order to attempt to update the <fo:inline font-family="monospace">Configuration</fo:inline>. The
            <fo:inline font-family="monospace">JaasAuthenticationProvider</fo:inline> then uses the default <fo:inline font-family="monospace">Configuration</fo:inline> to create the
            <fo:inline font-family="monospace">LoginContext</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Let’s assume we have a JAAS login configuration file,
            <fo:inline font-family="monospace">/WEB-INF/login.conf</fo:inline>, with the following contents:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7325">
JAASTest {
    sample.SampleLoginModule required;
};</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Like all Spring Security beans, the <fo:inline font-family="monospace">JaasAuthenticationProvider</fo:inline>
            is configured via the application context. The following definitions would correspond to
            the above JAAS login configuration file: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7332">
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"jaasAuthenticationProvider"</fo:inline>
   <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.authentication.jaas.JaasAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"loginConfig"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"/WEB-INF/login.conf"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"loginContextName"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"JAASTest"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
 <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"callbackHandlers"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;list&gt;</fo:inline>
   <fo:inline font-weight="bold">&lt;bean</fo:inline>
     <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.authentication.jaas.JaasNameCallbackHandler"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
   <fo:inline font-weight="bold">&lt;bean</fo:inline>
     <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.authentication.jaas.JaasPasswordCallbackHandler"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/list&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authorityGranters"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;list&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.authentication.jaas.TestAuthorityGranter"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/list&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="jaas-apiprovision"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Running as a Subject</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">21.5 Running as a Subject</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If configured, the <fo:inline font-family="monospace">JaasApiIntegrationFilter</fo:inline> will attempt to
            run as the <fo:inline font-family="monospace">Subject</fo:inline> on the
            <fo:inline font-family="monospace">JaasAuthenticationToken</fo:inline>. This means that the
            <fo:inline font-family="monospace">Subject</fo:inline> can be accessed using:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7352">
            Subject subject = Subject.getSubject(AccessController.getContext());
</fo:block>
            This integration can easily be configured using the
            <fo:basic-link internal-destination="nsa-http-jaas-api-provision"><fo:inline>jaas-api-provision</fo:inline></fo:basic-link> attribute. This
            feature is useful when integrating with legacy or external API's that rely on the
            JAAS Subject being populated.</fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="cas"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="cas-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">22.1 Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">JA-SIG produces an enterprise-wide single sign on system known as CAS. Unlike other
            initiatives, JA-SIG's Central Authentication Service is open source, widely used, simple
            to understand, platform independent, and supports proxy capabilities. Spring Security
            fully supports CAS, and provides an easy migration path from single-application
            deployments of Spring Security through to multiple-application deployments secured by an
            enterprise-wide CAS server.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can learn more about CAS at <fo:inline font-family="monospace">http://www.ja-sig.org/cas</fo:inline>. You will
            also need to visit this site to download the CAS Server files.</fo:block></fo:block><fo:block id="cas-how-it-works"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">How CAS Works</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">22.2 How CAS Works</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Whilst the CAS web site contains documents that detail the architecture of CAS, we
      present the general overview again here within the context of Spring Security. Spring Security
      3.x supports CAS 3. At the time of writing, the CAS server was at version 3.4.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Somewhere in your enterprise you will need to setup a CAS server. The CAS server is
            simply a standard WAR file, so there isn't anything difficult about setting up your
            server. Inside the WAR file you will customise the login and other single sign on pages
            displayed to users.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When deploying a CAS 3.4 server, you will also need to specify an
        <fo:inline font-family="monospace">AuthenticationHandler</fo:inline> in the
        <fo:inline font-family="monospace">deployerConfigContext.xml</fo:inline> included with CAS. The
        <fo:inline font-family="monospace">AuthenticationHandler</fo:inline> has a simple method that returns a boolean as to
      whether a given set of Credentials is valid. Your <fo:inline font-family="monospace">AuthenticationHandler</fo:inline>
      implementation will need to link into some type of backend authentication repository, such as
      an LDAP server or database. CAS itself includes numerous
        <fo:inline font-family="monospace">AuthenticationHandler</fo:inline>s out of the box to assist with this. When you
      download and deploy the server war file, it is set up to successfully authenticate users who
      enter a password matching their username, which is useful for testing.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Apart from the CAS server itself, the other key players are of course the secure web
      applications deployed throughout your enterprise. These web applications are known as
      "services". There are three types of services. Those that authenticate service tickets, those that
      can obtain proxy tickets, and those that authenticate proxy tickets. Authenticating a proxy ticket
      differs because the list of proxies must be validated and often times a proxy ticket can be reused.</fo:block><fo:block id="cas-sequence"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Spring Security and CAS Interaction Sequence</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Spring Security and CAS Interaction Sequence</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The basic interaction between a web browser, CAS server and a
    Spring Security-secured service is as follows:</fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e7403"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7404"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The web user is browsing the service's public pages. CAS or
        Spring Security is not involved.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7407"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The user eventually requests a page that is either secure or
        one of the beans it uses is secure. Spring Security's
        <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> will detect the
        <fo:inline font-family="monospace">AccessDeniedException</fo:inline> or <fo:inline font-family="monospace">AuthenticationException</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7419"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Because the user's <fo:inline font-family="monospace">Authentication</fo:inline> object (or lack
            thereof) caused an <fo:inline font-family="monospace">AuthenticationException</fo:inline>, the
              <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> will call the configured
              <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline>. If using CAS, this will be
            the <fo:inline font-family="monospace">CasAuthenticationEntryPoint</fo:inline> class.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7437"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The <fo:inline font-family="monospace">CasAuthenticationEntryPoint</fo:inline> will redirect the user's browser
            to the CAS server. It will also indicate a <fo:inline font-family="monospace">service</fo:inline> parameter, which
            is the callback URL for the Spring Security service (your application). For example, the
            URL to which the browser is redirected might be
              <fo:inline font-family="monospace">https://my.company.com/cas/login?service=https%3A%2F%2Fserver3.company.com%2Fwebapp%2Fj_spring_cas_security_check</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7449"><fo:list-item-label end-indent="label-end()"><fo:block>5.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>After the user's browser redirects to CAS, they will be
        prompted for their username and password. If the user presents a
        session cookie which indicates they've previously logged on, they
        will not be prompted to login again (there is an exception to this
        procedure, which we'll cover later). CAS will use the
        <fo:inline font-family="monospace">PasswordHandler</fo:inline> (or
        <fo:inline font-family="monospace">AuthenticationHandler</fo:inline> if using CAS 3.0)
        discussed above to decide whether the username and password is
        valid.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7458"><fo:list-item-label end-indent="label-end()"><fo:block>6.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Upon successful login, CAS will redirect the user's browser
        back to the original service. It will also include a
        <fo:inline font-family="monospace">ticket</fo:inline> parameter, which is an opaque string
        representing the "service ticket". Continuing our earlier example,
        the URL the browser is redirected to might be
        <fo:inline font-family="monospace">https://server3.company.com/webapp/j_spring_cas_security_check?ticket=ST-0-ER94xMJmn6pha35CQRoZ</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7467"><fo:list-item-label end-indent="label-end()"><fo:block>7.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Back in the service web application, the <fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline> is
            always listening for requests to <fo:inline font-family="monospace">/j_spring_cas_security_check</fo:inline> (this
            is configurable, but we'll use the defaults in this introduction). The processing filter
            will construct a <fo:inline font-family="monospace">UsernamePasswordAuthenticationToken</fo:inline> representing the
            service ticket. The principal will be equal to
              <fo:inline font-family="monospace">CasAuthenticationFilter.CAS_STATEFUL_IDENTIFIER</fo:inline>, whilst the credentials
            will be the service ticket opaque value. This authentication request will then be handed
            to the configured <fo:inline font-family="monospace">AuthenticationManager</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7485"><fo:list-item-label end-indent="label-end()"><fo:block>8.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The <fo:inline font-family="monospace">AuthenticationManager</fo:inline> implementation
        will be the <fo:inline font-family="monospace">ProviderManager</fo:inline>, which is in turn
        configured with the <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline>.
        The <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> only responds to
        <fo:inline font-family="monospace">UsernamePasswordAuthenticationToken</fo:inline>s containing
        the CAS-specific principal (such as
        <fo:inline font-family="monospace">CasAuthenticationFilter.CAS_STATEFUL_IDENTIFIER</fo:inline>)
        and <fo:inline font-family="monospace">CasAuthenticationToken</fo:inline>s (discussed
        later).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7509"><fo:list-item-label end-indent="label-end()"><fo:block>9.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> will validate the service ticket using a
            <fo:inline font-family="monospace">TicketValidator</fo:inline> implementation. This will typically be a
            <fo:inline font-family="monospace">Cas20ServiceTicketValidator</fo:inline> which is one of the classes
            included in the CAS client library. In the event the application needs to validate proxy tickets, the
            <fo:inline font-family="monospace">Cas20ProxyTicketValidator</fo:inline> is used. The
            <fo:inline font-family="monospace">TicketValidator</fo:inline> makes an HTTPS request to the CAS server in order to
            validate the service ticket. It may also include a proxy callback URL, which is included in this example:
            <fo:inline font-family="monospace">https://my.company.com/cas/proxyValidate?service=https%3A%2F%2Fserver3.company.com%2Fwebapp%2Fj_spring_cas_security_check&amp;ticket=ST-0-ER94xMJmn6pha35CQRoZ&amp;pgtUrl=https://server3.company.com/webapp/j_spring_cas_security_proxyreceptor</fo:inline>.
            </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7529"><fo:list-item-label end-indent="label-end()"><fo:block>10.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Back on the CAS server, the validation request will be
        received. If the presented service ticket matches the service URL
        the ticket was issued to, CAS will provide an affirmative response
        in XML indicating the username. If any proxy was involved in the
        authentication (discussed below), the list of proxies is also
        included in the XML response.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7532"><fo:list-item-label end-indent="label-end()"><fo:block>11.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>[OPTIONAL] If the request to the CAS validation service included the proxy callback
            URL (in the <fo:inline font-family="monospace">pgtUrl</fo:inline> parameter), CAS will include a
              <fo:inline font-family="monospace">pgtIou</fo:inline> string in the XML response. This <fo:inline font-family="monospace">pgtIou</fo:inline>
            represents a proxy-granting ticket IOU. The CAS server will then create its own HTTPS
            connection back to the <fo:inline font-family="monospace">pgtUrl</fo:inline>. This is to mutually authenticate the
            CAS server and the claimed service URL. The HTTPS connection will be used to send a
            proxy granting ticket to the original web application. For example,
              <fo:inline font-family="monospace">https://server3.company.com/webapp/j_spring_cas_security_proxyreceptor?pgtIou=PGTIOU-0-R0zlgrl4pdAQwBvJWO3vnNpevwqStbSGcq3vKB2SqSFFRnjPHt&amp;pgtId=PGT-1-si9YkkHLrtACBo64rmsi3v2nf7cpCResXg5MpESZFArbaZiOKH</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7550"><fo:list-item-label end-indent="label-end()"><fo:block>12.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The <fo:inline font-family="monospace">Cas20TicketValidator</fo:inline> will parse the XML received from the
            CAS server. It will return to the <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> a
              <fo:inline font-family="monospace">TicketResponse</fo:inline>, which includes the username (mandatory), proxy list
            (if any were involved), and proxy-granting ticket IOU (if the proxy callback was
            requested).</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7562"><fo:list-item-label end-indent="label-end()"><fo:block>13.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Next <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> will call
        a configured <fo:inline font-family="monospace">CasProxyDecider</fo:inline>. The
        <fo:inline font-family="monospace">CasProxyDecider</fo:inline> indicates whether the proxy
        list in the <fo:inline font-family="monospace">TicketResponse</fo:inline> is acceptable to the
        service. Several implementations are provided with Spring
        Security: <fo:inline font-family="monospace">RejectProxyTickets</fo:inline>,
        <fo:inline font-family="monospace">AcceptAnyCasProxy</fo:inline> and
        <fo:inline font-family="monospace">NamedCasProxyDecider</fo:inline>. These names are largely
        self-explanatory, except <fo:inline font-family="monospace">NamedCasProxyDecider</fo:inline>
        which allows a <fo:inline font-family="monospace">List</fo:inline> of trusted proxies to be
        provided.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7592"><fo:list-item-label end-indent="label-end()"><fo:block>14.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> will next
        request a <fo:inline font-family="monospace">AuthenticationUserDetailsService</fo:inline> to load the
        <fo:inline font-family="monospace">GrantedAuthority</fo:inline> objects that apply to the user
        contained in the <fo:inline font-family="monospace">Assertion</fo:inline>.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7606"><fo:list-item-label end-indent="label-end()"><fo:block>15.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>If there were no problems,
        <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> constructs a
        <fo:inline font-family="monospace">CasAuthenticationToken</fo:inline> including the details
        contained in the <fo:inline font-family="monospace">TicketResponse</fo:inline> and the
        <fo:inline font-family="monospace">GrantedAuthority</fo:inline>s.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7621"><fo:list-item-label end-indent="label-end()"><fo:block>16.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>Control then returns to
        <fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline>, which places the created
        <fo:inline font-family="monospace">CasAuthenticationToken</fo:inline> in the security context.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7630"><fo:list-item-label end-indent="label-end()"><fo:block>17.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block>The user's browser is redirected to the original page that
        caused the <fo:inline font-family="monospace">AuthenticationException</fo:inline> (or a
          <fo:basic-link internal-destination="form-login-flow-handling"><fo:inline>custom destination</fo:inline></fo:basic-link> depending on
          the configuration).</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It's good that you're still here! Let's now look at how this is configured</fo:block></fo:block></fo:block><fo:block id="cas-client"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Configuration of CAS Client</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">22.3 Configuration of CAS Client</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The web application side of CAS is made easy due to Spring Security. It is assumed you
            already know the basics of using Spring Security, so these are not covered again below.
            We'll assume a namespace based configuration is being used and add in the CAS beans as
            required. Each section builds upon the previous section. A full
            <fo:basic-link internal-destination="cas-sample"><fo:inline>CAS sample application</fo:inline></fo:basic-link> can be found in the Spring
            Security Samples.</fo:block><fo:block id="cas-st"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Service Ticket Authentication</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Service Ticket Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This section describes how to setup Spring Security to authenticate Service Tickets. Often times
                this is all a web application requires. You will need to add a <fo:inline font-family="monospace">ServiceProperties</fo:inline>
                bean to your application context. This represents your CAS service:</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7661">
  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"serviceProperties"</fo:inline>
        <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.cas.ServiceProperties"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"service"</fo:inline>
        <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"https://localhost:8443/cas-sample/j_spring_cas_security_check"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"sendRenew"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"false"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
    </fo:block> </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">service</fo:inline> must equal a URL that will be monitored by the
                <fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline>. The <fo:inline font-family="monospace">sendRenew</fo:inline> defaults to
                false, but should be set to true if your application is particularly sensitive. What
                this parameter does is tell the CAS login service that a single sign on login is
                unacceptable. Instead, the user will need to re-enter their username and password in
                order to gain access to the service.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The following beans should be configured to commence the CAS authentication process
                (assuming you're using a namespace configuration):</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7679">
  <fo:inline font-weight="bold">&lt;security:http</fo:inline> <fo:inline font-weight="bold">entry-point-ref</fo:inline>=<fo:inline font-weight="bold">"casEntryPoint"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
   ...
     <fo:inline font-weight="bold">&lt;security:custom-filter</fo:inline> <fo:inline font-weight="bold">position</fo:inline>=<fo:inline font-weight="bold">"CAS_FILTER"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"casFilter"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/security:http&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"casFilter"</fo:inline>
        <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.cas.web.CasAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"casEntryPoint"</fo:inline>
      <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.cas.web.CasAuthenticationEntryPoint"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"loginUrl"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"https://localhost:9443/cas/login"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"serviceProperties"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"serviceProperties"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

    </fo:block> </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">For CAS to operate, the <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> must have
            its <fo:inline font-family="monospace">authenticationEntryPoint</fo:inline> property set to the
            <fo:inline font-family="monospace">CasAuthenticationEntryPoint</fo:inline> bean. This can easily be done using
            <fo:basic-link internal-destination="ns-entry-point-ref"><fo:inline><fo:inline font-family="monospace">entry-point-ref</fo:inline></fo:inline></fo:basic-link> as is
            done in the example above. The <fo:inline font-family="monospace">CasAuthenticationEntryPoint</fo:inline> must refer to the
            <fo:inline font-family="monospace">ServiceProperties</fo:inline> bean (discussed above), which provides the URL
            to the enterprise's CAS login server. This is where the user's browser will be
            redirected.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline> has very similar properties to the
            <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline> (used for form-based
            logins). You can use these properties to customize things like behavior for authentication
            success and failure.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Next you need to add a <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> and its
            collaborators: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7716">
  <fo:inline font-weight="bold">&lt;security:authentication-manager</fo:inline> <fo:inline font-weight="bold">alias</fo:inline>=<fo:inline font-weight="bold">"authenticationManager"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;security:authentication-provider</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"casAuthenticationProvider"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/security:authentication-manager&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"casAuthenticationProvider"</fo:inline>
      <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.cas.authentication.CasAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationUserDetailsService"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.core.userdetails.UserDetailsByNameServiceWrapper"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"userService"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"serviceProperties"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"serviceProperties"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"ticketValidator"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.jasig.cas.client.validation.Cas20ServiceTicketValidator"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">index</fo:inline>=<fo:inline font-weight="bold">"0"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"https://localhost:9443/cas"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"key"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"an_id_for_this_auth_provider_only"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

  <fo:inline font-weight="bold">&lt;security:user-service</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"userService"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;security:user</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"joe"</fo:inline> <fo:inline font-weight="bold">password</fo:inline>=<fo:inline font-weight="bold">"joe"</fo:inline> <fo:inline font-weight="bold">authorities</fo:inline>=<fo:inline font-weight="bold">"ROLE_USER"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
    ...
  <fo:inline font-weight="bold">&lt;/security:user-service&gt;</fo:inline>
      </fo:block> The <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> uses a
            <fo:inline font-family="monospace">UserDetailsService</fo:inline> instance to load the authorities for a
            user, once they have been authenticated by CAS. We've shown a simple in-memory setup
            here. Note that the <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> does not actually use
            the password for authentication, but it does use the authorities.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The beans are all reasonably self-explanatory if you refer back to the
              <fo:basic-link internal-destination="cas-how-it-works"><fo:inline>How CAS Works</fo:inline></fo:basic-link> section.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This completes the most basic configuration for CAS. If you haven't made any
            mistakes, your web application should happily work within the
            framework of CAS single sign on. No other parts of Spring Security
            need to be concerned about the fact CAS handled authentication. In the following sections
            we will discuss some (optional) more advanced configurations.</fo:block></fo:block><fo:block id="cas-singlelogout"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Single Logout</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Single Logout</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The CAS protocol supports Single Logout and can be easily added to your Spring
                Security configuration. Below are updates to the Spring Security configuration
                that handle Single Logout <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7741">
  <fo:inline font-weight="bold">&lt;security:http</fo:inline> <fo:inline font-weight="bold">entry-point-ref</fo:inline>=<fo:inline font-weight="bold">"casEntryPoint"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  ...
    <fo:inline font-weight="bold">&lt;security:logout</fo:inline> <fo:inline font-weight="bold">logout-success-url</fo:inline>=<fo:inline font-weight="bold">"/cas-logout.jsp"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;security:custom-filter</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"requestSingleLogoutFilter"</fo:inline> <fo:inline font-weight="bold">before</fo:inline>=<fo:inline font-weight="bold">"LOGOUT_FILTER"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;security:custom-filter</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"singleLogoutFilter"</fo:inline> <fo:inline font-weight="bold">before</fo:inline>=<fo:inline font-weight="bold">"CAS_FILTER"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/security:http&gt;</fo:inline>

  <fo:inline font-style="italic">&lt;!-- This filter handles a Single Logout Request from the CAS Server --&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"singleLogoutFilter"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.jasig.cas.client.session.SingleSignOutFilter"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-style="italic">&lt;!-- This filter redirects to the CAS Server to signal Single Logout should be performed --&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"requestSingleLogoutFilter"</fo:inline>
        <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.web.authentication.logout.LogoutFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"https://localhost:9443/cas/logout"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;constructor-arg&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
          <fo:inline font-weight="bold">"org.springframework.security.web.authentication.logout.SecurityContextLogoutHandler"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/constructor-arg&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"filterProcessesUrl"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"/j_spring_cas_security_logout"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
            </fo:block> The <fo:inline font-family="monospace">logout</fo:inline> element logs the user out of the local application, but
                does not terminate the session with the CAS server or any other applications that have been logged
                into. The <fo:inline font-family="monospace">requestSingleLogoutFilter</fo:inline> filter will allow the url of
                <fo:inline font-family="monospace">/spring_security_cas_logout</fo:inline> to be requested to redirect the application to the
                configured CAS Server logout url. Then the CAS Server will send a Single Logout request to all the
                services that were signed into. The <fo:inline font-family="monospace">singleLogoutFilter</fo:inline> handles the Single Logout
                request by looking up the <fo:inline font-family="monospace">HttpSession</fo:inline> in a static <fo:inline font-family="monospace">Map</fo:inline>
                and then invalidating it.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It might be confusing why both the <fo:inline font-family="monospace">logout</fo:inline> element and the
                <fo:inline font-family="monospace">singleLogoutFilter</fo:inline> are needed. It is considered best practice to logout locally
                first since the <fo:inline font-family="monospace">SingleSignOutFilter</fo:inline> just stores the
                <fo:inline font-family="monospace">HttpSession</fo:inline> in a static <fo:inline font-family="monospace">Map</fo:inline> in order to
                call invalidate on it. With the configuration above, the flow of logout would be:
                <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e7779"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7780"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>The user requests <fo:inline font-family="monospace">/j_spring_security_logout</fo:inline> which would log the user
                        out of the local application and send the user to the logout success page.</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7785"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>The logout success page, <fo:inline font-family="monospace">/cas-logout.jsp</fo:inline>, should instruct the user
                        to click a link pointing to <fo:inline font-family="monospace">/j_spring_cas_security_logout</fo:inline> in order to logout
                        out of all applications.</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7793"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>When the user clicks the link, the user is redirected to the CAS single logout URL
                        (<fo:inline font-family="monospace">https://localhost:9443/cas/logout</fo:inline>).</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e7798"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block>On the CAS Server side, the CAS single logout URL then submits single logout requests to
                        all the CAS Services. On the CAS Service side, JASIG's
                        <fo:inline font-family="monospace">SingleSignOutFilter</fo:inline> processes the logout request by invaliditing the
                        original session.</fo:block></fo:list-item-body></fo:list-item></fo:list-block>
            </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The next step is to add the following to your web.xml
                <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7806">
  <fo:inline font-weight="bold">&lt;filter&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;filter-name&gt;</fo:inline>characterEncodingFilter<fo:inline font-weight="bold">&lt;/filter-name&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;filter-class&gt;</fo:inline>org.springframework.web.filter.CharacterEncodingFilter<fo:inline font-weight="bold">&lt;/filter-class&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;init-param&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;param-name&gt;</fo:inline>encoding<fo:inline font-weight="bold">&lt;/param-name&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;param-value&gt;</fo:inline>UTF-8<fo:inline font-weight="bold">&lt;/param-value&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/init-param&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/filter&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;filter-mapping&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;filter-name&gt;</fo:inline>characterEncodingFilter<fo:inline font-weight="bold">&lt;/filter-name&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;url-pattern&gt;</fo:inline>/*<fo:inline font-weight="bold">&lt;/url-pattern&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/filter-mapping&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;listener&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;listener-class&gt;</fo:inline>org.jasig.cas.client.session.SingleSignOutHttpSessionListener<fo:inline font-weight="bold">&lt;/listener-class&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/listener&gt;</fo:inline></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">When using the SingleSignOutFilter you might encounter some encoding issues. Therefore it is
                recommended to add the <fo:inline font-family="monospace">CharacterEncodingFilter</fo:inline> to ensure that the character
                encoding is correct when using the <fo:inline font-family="monospace">SingleSignOutFilter</fo:inline>. Again, refer to JASIG's
                documentation for details. The <fo:inline font-family="monospace">SingleSignOutHttpSessionListener</fo:inline> ensures that
                when an <fo:inline font-family="monospace">HttpSession</fo:inline> expires, the mapping used for single logout is
                removed.</fo:block></fo:block><fo:block id="cas-pt-client"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Authenticating to a Stateless Service with CAS</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Authenticating to a Stateless Service with CAS</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This section describes how to authenticate to a service using CAS. In other words,
                    this section discusses how to setup a client that uses a service that authenticates with
                    CAS. The next section describes how to setup a stateless service to Authenticate
                    using CAS.</fo:block><fo:block id="cas-pt-client-config"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Configuring CAS to Obtain Proxy Granting Tickets</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">In order to authenticate to a stateless service, the application needs to obtain a proxy granting ticket
                        (PGT). This section describes how to configure Spring Security to obtain a PGT building upon then
                        <fo:basic-link external-destination="url(cas-st)"><fo:inline>Service Ticket Authentication</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(cas-st)">cas-st</fo:basic-link>]</fo:inline> configuration.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The first step is to include a <fo:inline font-family="monospace">ProxyGrantingTicketStorage</fo:inline> in your Spring Security
                        configuration. This is used to store PGT's that are obtained by the
                        <fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline> so that they can be used to obtain proxy tickets. An example
                        configuration is shown below <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7845">
  <fo:inline font-style="italic">&lt;!--
    NOTE: In a real application you should not use an in memory implementation. You will also want
          to ensure to clean up expired tickets by calling ProxyGrantingTicketStorage.cleanup()
  --&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"pgtStorage"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.jasig.cas.client.proxy.ProxyGrantingTicketStorageImpl"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The next step is to update the <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> to be able to obtain proxy
                        tickets. To do this replace the <fo:inline font-family="monospace">Cas20ServiceTicketValidator</fo:inline> with a
                        <fo:inline font-family="monospace">Cas20ProxyTicketValidator</fo:inline>. The <fo:inline font-family="monospace">proxyCallbackUrl</fo:inline> should be set to
                        a URL that the application will receive PGT's at. Last, the configuration should also reference the
                        <fo:inline font-family="monospace">ProxyGrantingTicketStorage</fo:inline> so it can use a PGT to obtain proxy tickets.
                        You can find an example of the configuration changes that should be made below.
<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7864">
  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"casAuthenticationProvider"</fo:inline>
      <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.cas.authentication.CasAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    ...
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"ticketValidator"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.jasig.cas.client.validation.Cas20ProxyTicketValidator"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"https://localhost:9443/cas"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>

        <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"proxyCallbackUrl"</fo:inline>
            <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"https://localhost:8443/cas-sample/j_spring_cas_security_proxyreceptor"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"proxyGrantingTicketStorage"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"pgtStorage"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The last step is to update the <fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline> to accept PGT and to store them
                        in the <fo:inline font-family="monospace">ProxyGrantingTicketStorage</fo:inline>. It is important the the <fo:inline font-family="monospace">proxyReceptorUrl</fo:inline>
                        matches the <fo:inline font-family="monospace">proxyCallbackUrl</fo:inline> of the <fo:inline font-family="monospace">Cas20ProxyTicketValidator</fo:inline>. An example
                        configuration is shown below.
<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7883">
  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"casFilter"</fo:inline>
        <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.cas.web.CasAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    ...
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"proxyGrantingTicketStorage"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"pgtStorage"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"proxyReceptorUrl"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"/j_spring_cas_security_proxyreceptor"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
</fo:block></fo:block></fo:block><fo:block id="cas-pt-client-sample"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Calling a Stateless Service Using a Proxy Ticket</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Now that Spring Security obtains PGTs, you can use them to create proxy tickets which can be used to authenticate
                        to a stateless service. The <fo:basic-link internal-destination="cas-sample"><fo:inline>CAS sample application</fo:inline></fo:basic-link> contains a working example in
                        the <fo:inline font-family="monospace">ProxyTicketSampleServlet</fo:inline>. Example code can be found below:
<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7897">
  protected void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {
    // NOTE: The CasAuthenticationToken can also be obtained using
    // SecurityContextHolder.getContext().getAuthentication()
    final CasAuthenticationToken token = (CasAuthenticationToken) request.getUserPrincipal();
    // proxyTicket could be reused to make calls to the CAS service even if the
    // target url differs
    final String proxyTicket = token.getAssertion().getPrincipal().getProxyTicketFor(targetUrl);

    // Make a remote call using the proxy ticket
    final String serviceUrl = targetUrl+"?ticket="+URLEncoder.encode(proxyTicket, "UTF-8");
    String proxyResponse = CommonUtils.getResponseFromServer(serviceUrl, "UTF-8");
    ...
  }
</fo:block></fo:block></fo:block></fo:block><fo:block id="cas-pt"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Proxy Ticket Authentication</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Proxy Ticket Authentication</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> distinguishes
                    between stateful and stateless clients. A stateful client is
                    considered any that submits to the <fo:inline font-family="monospace">filterProcessUrl</fo:inline> of the
                    <fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline>. A stateless client is any that
                    presents an authentication request to <fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline>
                    on a URL other than the <fo:inline font-family="monospace">filterProcessUrl</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Because remoting protocols have no way of presenting themselves
                    within the context of an <fo:inline font-family="monospace">HttpSession</fo:inline>, it isn't
                    possible to rely on the default practice of storing the security context in the
                    session between requests. Furthermore, because the CAS server invalidates a
                    ticket after it has been validated by the <fo:inline font-family="monospace">TicketValidator</fo:inline>,
                    presenting the same proxy ticket on subsequent requests will not
                    work.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">One obvious option is to not use CAS at all for remoting
                    protocol clients. However, this would eliminate many of the desirable
                    features of CAS. As a middle-ground, the
                    <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> uses a
                    <fo:inline font-family="monospace">StatelessTicketCache</fo:inline>. This is used solely for stateless clients
                    which use a principal equal to
                    <fo:inline font-family="monospace">CasAuthenticationFilter.CAS_STATELESS_IDENTIFIER</fo:inline>. What
                    happens is the <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> will store
                    the resulting <fo:inline font-family="monospace">CasAuthenticationToken</fo:inline> in the
                    <fo:inline font-family="monospace">StatelessTicketCache</fo:inline>, keyed on the proxy ticket.
                    Accordingly, remoting protocol clients can present the same proxy
                    ticket and the <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> will not
                    need to contact the CAS server for validation (aside from the first
                    request). Once authenticated, the proxy ticket could be used for URLs other than the
                    original target service.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This section builds upon the previous sections to accomodate proxy ticket authentication.
                    The first step is to specify to authenticate all artifacts as shown below.
<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7953">
  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"serviceProperties"</fo:inline>
        <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.cas.ServiceProperties"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    ...
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticateAllArtifacts"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"true"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The next step is to specify <fo:inline font-family="monospace">serviceProperties</fo:inline> and the
                    <fo:inline font-family="monospace">authenticationDetailsSource</fo:inline> for the <fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline>.
                    The <fo:inline font-family="monospace">serviceProperties</fo:inline> property instructs the
                    <fo:inline font-family="monospace">CasAuthenticationFilter</fo:inline> to attempt to authenticate all artifacts instead of only
                    ones present on the <fo:inline font-family="monospace">filterProcessUrl</fo:inline>. The
                    <fo:inline font-family="monospace">ServiceAuthenticationDetailsSource</fo:inline> creates a
                    <fo:inline font-family="monospace">ServiceAuthenticationDetails</fo:inline> that ensures the current URL, based
                    upon the <fo:inline font-family="monospace">HttpServletRequest</fo:inline>, is used as the service URL when validating the ticket.
                    The method for generating the service URL can be customized by injecting a custom
                    <fo:inline font-family="monospace">AuthenticationDetailsSource</fo:inline> that returns a custom
                    <fo:inline font-family="monospace">ServiceAuthenticationDetails</fo:inline>.<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e7990">
  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"casFilter"</fo:inline>
      <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.cas.web.CasAuthenticationFilter"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    ...
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"serviceProperties"</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"serviceProperties"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"authenticationDetailsSource"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=
        <fo:inline font-weight="bold">"org.springframework.security.cas.web.authentication.ServiceAuthenticationDetailsSource"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
</fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You will also need to update the <fo:inline font-family="monospace">CasAuthenticationProvider</fo:inline> to handle proxy tickets.
                    To do this replace the <fo:inline font-family="monospace">Cas20ServiceTicketValidator</fo:inline> with a
                    <fo:inline font-family="monospace">Cas20ProxyTicketValidator</fo:inline>. You will need to configure the
                    <fo:inline font-family="monospace">statelessTicketCache</fo:inline> and which proxies you want to accept. You can find an example of the updates
                    required to accept all proxies below.
<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8006">
  <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"casAuthenticationProvider"</fo:inline>
      <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.cas.authentication.CasAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
    ...
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"ticketValidator"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.jasig.cas.client.validation.Cas20ProxyTicketValidator"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"https://localhost:9443/cas"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"acceptAnyProxy"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"true"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"statelessTicketCache"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.cas.authentication.EhCacheBasedTicketCache"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"cache"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
          <fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"net.sf.ehcache.Cache"</fo:inline>
              <fo:inline font-weight="bold">init-method</fo:inline>=<fo:inline font-weight="bold">"initialise"</fo:inline> <fo:inline font-weight="bold">destroy-method</fo:inline>=<fo:inline font-weight="bold">"dispose"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
            <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"casTickets"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
            <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"50"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
            <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"true"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
            <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"false"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
            <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"3600"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
            <fo:inline font-weight="bold">&lt;constructor-arg</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"900"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
          <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
        <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
      <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
    <fo:inline font-weight="bold">&lt;/property&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>
</fo:block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="x509"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="x509-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">23.1 Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The most common use of X.509 certificate authentication is in verifying the identity
            of a server when using SSL, most commonly when using HTTPS from a browser. The browser
            will automatically check that the certificate presented by a server has been issued (ie
            digitally signed) by one of a list of trusted certificate authorities which it
            maintains.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You can also use SSL with <fo:inline>“mutual authentication”</fo:inline>; the server will then
            request a valid certificate from the client as part of the SSL handshake. The server
            will authenticate the client by checking that its certificate is signed by an acceptable
            authority. If a valid certificate has been provided, it can be obtained through the
            servlet API in an application. Spring Security X.509 module extracts the certificate
            using a filter. It maps the certificate to an application user and loads that user's set
            of granted authorities for use with the standard Spring Security infrastructure.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You should be familiar with using certificates and setting up client authentication
            for your servlet container before attempting to use it with Spring Security. Most of the
            work is in creating and installing suitable certificates and keys. For example, if
            you're using Tomcat then read the instructions here <fo:inline font-family="monospace"><fo:basic-link external-destination="url(http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html)">http://tomcat.apache.org/tomcat-6.0-doc/ssl-howto.html</fo:basic-link></fo:inline>. It's important that you
            get this working before trying it out with Spring Security</fo:block></fo:block><fo:block id="d0e8028"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Adding X.509 Authentication to Your Web Application</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">23.2 Adding X.509 Authentication to Your Web Application</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Enabling X.509 client authentication is very straightforward. Just add the
            <fo:inline font-family="monospace">&lt;x509/&gt;</fo:inline> element to your http security namespace configuration.
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8037">
<fo:inline font-weight="bold">&lt;http&gt;</fo:inline>
 ...
    <fo:inline font-weight="bold">&lt;x509</fo:inline> <fo:inline font-weight="bold">subject-principal-regex</fo:inline>=<fo:inline font-weight="bold">"CN=(.*?),"</fo:inline> <fo:inline font-weight="bold">user-service-ref</fo:inline>=<fo:inline font-weight="bold">"userService"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>;
 ...
<fo:inline font-weight="bold">&lt;/http&gt;</fo:inline>
            </fo:block>
            The element has two optional attributes: <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e8040"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8041"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">subject-principal-regex</fo:inline>. The regular expression used to
                    extract a username from the certificate's subject name. The default value is
                    shown above. This is the username which will be passed to the
                    <fo:inline font-family="monospace">UserDetailsService</fo:inline> to load the authorities for
                    the user.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8049"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">user-service-ref</fo:inline>. This is the bean Id of the
                    <fo:inline font-family="monospace">UserDetailsService</fo:inline> to be used with X.509. It
                    isn't needed if there is only one defined in your application context.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block> The <fo:inline font-family="monospace">subject-principal-regex</fo:inline> should contain a single
            group. For example the default expression "CN=(.*?)," matches the common name field. So
            if the subject name in the certificate is "CN=Jimi Hendrix, OU=...", this will give a
            user name of "Jimi Hendrix". The matches are case insensitive. So "emailAddress=(.?),"
            will match "EMAILADDRESS=jimi@hendrix.org,CN=..." giving a user name "jimi@hendrix.org".
            If the client presents a certificate and a valid username is successfully extracted,
            then there should be a valid <fo:inline font-family="monospace">Authentication</fo:inline> object in the
            security context. If no certificate is found, or no corresponding user could be found
            then the security context will remain empty. This means that you can easily use X.509
            authentication with other options such as a form-based login. </fo:block></fo:block><fo:block id="x509-ssl-config"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Setting up SSL in Tomcat</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">23.3 Setting up SSL in Tomcat</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are some pre-generated certificates in the
            <fo:inline font-family="monospace">samples/certificate</fo:inline> directory in the Spring Security project. You
            can use these to enable SSL for testing if you don't want to generate your own. The file
            <fo:inline font-family="monospace">server.jks</fo:inline> contains the server certificate, private key and the
            issuing certificate authority certificate. There are also some client certificate files
            for the users from the sample applications. You can install these in your browser to
            enable SSL client authentication. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> To run tomcat with SSL support, drop the <fo:inline font-family="monospace">server.jks</fo:inline> file into
            the tomcat <fo:inline font-family="monospace">conf</fo:inline> directory and add the following connector to the
            <fo:inline font-family="monospace">server.xml</fo:inline> file
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8087">
<fo:inline font-weight="bold">&lt;Connector</fo:inline> <fo:inline font-weight="bold">port</fo:inline>=<fo:inline font-weight="bold">"8443"</fo:inline> <fo:inline font-weight="bold">protocol</fo:inline>=<fo:inline font-weight="bold">"HTTP/1.1"</fo:inline> <fo:inline font-weight="bold">SSLEnabled</fo:inline>=<fo:inline font-weight="bold">"true"</fo:inline> <fo:inline font-weight="bold">scheme</fo:inline>=<fo:inline font-weight="bold">"https"</fo:inline> <fo:inline font-weight="bold">secure</fo:inline>=<fo:inline font-weight="bold">"true"</fo:inline>
            <fo:inline font-weight="bold">clientAuth</fo:inline>=<fo:inline font-weight="bold">"true"</fo:inline> <fo:inline font-weight="bold">sslProtocol</fo:inline>=<fo:inline font-weight="bold">"TLS"</fo:inline>
            <fo:inline font-weight="bold">keystoreFile</fo:inline>=<fo:inline font-weight="bold">"${catalina.home}/conf/server.jks"</fo:inline>
            <fo:inline font-weight="bold">keystoreType</fo:inline>=<fo:inline font-weight="bold">"JKS"</fo:inline> <fo:inline font-weight="bold">keystorePass</fo:inline>=<fo:inline font-weight="bold">"password"</fo:inline>
            <fo:inline font-weight="bold">truststoreFile</fo:inline>=<fo:inline font-weight="bold">"${catalina.home}/conf/server.jks"</fo:inline>
            <fo:inline font-weight="bold">truststoreType</fo:inline>=<fo:inline font-weight="bold">"JKS"</fo:inline> <fo:inline font-weight="bold">truststorePass</fo:inline>=<fo:inline font-weight="bold">"password"</fo:inline><fo:inline font-weight="bold">
/&gt;</fo:inline>
                </fo:block>
            <fo:inline font-family="monospace" font-style="italic">clientAuth</fo:inline> can also be set to <fo:inline font-family="monospace" font-style="italic">want</fo:inline> if you
            still want SSL connections to succeed even if the client doesn't provide a certificate.
            Clients which don't present a certificate won't be able to access any objects secured by
            Spring Security unless you use a non-X.509 authentication mechanism, such as form
            authentication. </fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="runas"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="runas-overview"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Overview</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">24.1 Overview</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> is able to temporarily replace
            the <fo:inline font-family="monospace">Authentication</fo:inline> object in the
            <fo:inline font-family="monospace">SecurityContext</fo:inline> and
            <fo:inline font-family="monospace">SecurityContextHolder</fo:inline> during the secure object callback phase.
            This only occurs if the original <fo:inline font-family="monospace">Authentication</fo:inline> object
            was successfully processed by the <fo:inline font-family="monospace">AuthenticationManager</fo:inline>
            and <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>. The
            <fo:inline font-family="monospace">RunAsManager</fo:inline> will indicate the replacement
            <fo:inline font-family="monospace">Authentication</fo:inline> object, if any, that should be used during
            the <fo:inline font-family="monospace">SecurityInterceptorCallback</fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By temporarily replacing the <fo:inline font-family="monospace">Authentication</fo:inline> object
            during the secure object callback phase, the secured invocation will be able to call
            other objects which require different authentication and authorization credentials. It
            will also be able to perform any internal security checks for specific
            <fo:inline font-family="monospace">GrantedAuthority</fo:inline> objects. Because Spring Security
            provides a number of helper classes that automatically configure remoting protocols
            based on the contents of the <fo:inline font-family="monospace">SecurityContextHolder</fo:inline>, these run-as
            replacements are particularly useful when calling remote web services</fo:block></fo:block><fo:block id="runas-config"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Configuration</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">24.2 Configuration</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A <fo:inline font-family="monospace">RunAsManager</fo:inline> interface is provided by Spring Security:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8156">
  Authentication buildRunAs(Authentication authentication, Object object,
      List&lt;ConfigAttribute&gt; config);
  <fo:inline font-weight="bold">boolean</fo:inline> supports(ConfigAttribute attribute);
  <fo:inline font-weight="bold">boolean</fo:inline> supports(Class clazz);
            </fo:block> </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The first method returns the <fo:inline font-family="monospace">Authentication</fo:inline> object that
            should replace the existing <fo:inline font-family="monospace">Authentication</fo:inline> object for the
            duration of the method invocation. If the method returns <fo:inline font-family="monospace">null</fo:inline>, it
            indicates no replacement should be made. The second method is used by the
            <fo:inline font-family="monospace">AbstractSecurityInterceptor</fo:inline> as part of its startup validation of
            configuration attributes. The <fo:inline font-family="monospace">supports(Class)</fo:inline> method is called by a
            security interceptor implementation to ensure the configured
            <fo:inline font-family="monospace">RunAsManager</fo:inline> supports the type of secure object that the security
            interceptor will present.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">One concrete implementation of a <fo:inline font-family="monospace">RunAsManager</fo:inline> is provided with
            Spring Security. The <fo:inline font-family="monospace">RunAsManagerImpl</fo:inline> class returns a replacement
            <fo:inline font-family="monospace">RunAsUserToken</fo:inline> if any <fo:inline font-family="monospace">ConfigAttribute</fo:inline> starts with
            <fo:inline font-family="monospace">RUN_AS_</fo:inline>. If any such <fo:inline font-family="monospace">ConfigAttribute</fo:inline> is found, the
            replacement <fo:inline font-family="monospace">RunAsUserToken</fo:inline> will contain the same principal,
            credentials and granted authorities as the original
            <fo:inline font-family="monospace">Authentication</fo:inline> object, along with a new
            <fo:inline font-family="monospace">GrantedAuthorityImpl</fo:inline> for each <fo:inline font-family="monospace">RUN_AS_</fo:inline>
            <fo:inline font-family="monospace">ConfigAttribute</fo:inline>. Each new <fo:inline font-family="monospace">GrantedAuthorityImpl</fo:inline>
            will be prefixed with <fo:inline font-family="monospace">ROLE_</fo:inline>, followed by the
            <fo:inline font-family="monospace">RUN_AS</fo:inline> <fo:inline font-family="monospace">ConfigAttribute</fo:inline>. For example, a
            <fo:inline font-family="monospace">RUN_AS_SERVER</fo:inline> will result in the replacement
            <fo:inline font-family="monospace">RunAsUserToken</fo:inline> containing a <fo:inline font-family="monospace">ROLE_RUN_AS_SERVER</fo:inline>
            granted authority.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The replacement <fo:inline font-family="monospace">RunAsUserToken</fo:inline> is just like any other
            <fo:inline font-family="monospace">Authentication</fo:inline> object. It needs to be authenticated by
            the <fo:inline font-family="monospace">AuthenticationManager</fo:inline>, probably via delegation to a
            suitable <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>. The
            <fo:inline font-family="monospace">RunAsImplAuthenticationProvider</fo:inline> performs such authentication. It
            simply accepts as valid any <fo:inline font-family="monospace">RunAsUserToken</fo:inline> presented.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">To ensure malicious code does not create a <fo:inline font-family="monospace">RunAsUserToken</fo:inline> and
            present it for guaranteed acceptance by the
            <fo:inline font-family="monospace">RunAsImplAuthenticationProvider</fo:inline>, the hash of a key is stored in all
            generated tokens. The <fo:inline font-family="monospace">RunAsManagerImpl</fo:inline> and
            <fo:inline font-family="monospace">RunAsImplAuthenticationProvider</fo:inline> is created in the bean context with
            the same key: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8269">

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"runAsManager"</fo:inline>
    <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.access.intercept.RunAsManagerImpl"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"key"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"my_run_as_password"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline>

<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"runAsAuthenticationProvider"</fo:inline>
    <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"org.springframework.security.access.intercept.RunAsImplAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;property</fo:inline> <fo:inline font-weight="bold">name</fo:inline>=<fo:inline font-weight="bold">"key"</fo:inline> <fo:inline font-weight="bold">value</fo:inline>=<fo:inline font-weight="bold">"my_run_as_password"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/bean&gt;</fo:inline></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">By using the same key, each <fo:inline font-family="monospace">RunAsUserToken</fo:inline> can be validated it was
            created by an approved <fo:inline font-family="monospace">RunAsManagerImpl</fo:inline>. The
            <fo:inline font-family="monospace">RunAsUserToken</fo:inline> is immutable after creation for security
            reasons</fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="body" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="crypto"><fo:block font-family="sans-serif,Symbol,ZapfDingbats"><fo:block margin-left="0cm"><fo:block text-align="left" font-weight="bold" font-size="19.8pt"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"/></fo:block></fo:block></fo:block></fo:block><fo:block id="spring-security-crypto-introduction"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Introduction</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">25.1 Introduction</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The Spring Security Crypto module provides support for symmetric encryption, key generation, and password encoding.
        The code is distributed as part of the core module but has no dependencies on any other Spring Security (or Spring) code.
    </fo:block></fo:block><fo:block id="spring-security-crypto-encryption"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Encryptors</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">25.2 Encryptors</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The Encryptors class provides factory methods for constructing symmetric encryptors.
        Using this class, you can create ByteEncryptors to encrypt data in raw byte[] form.
        You can also construct TextEncryptors to encrypt text strings.
        Encryptors are thread safe.
    </fo:block><fo:block id="spring-security-crypto-encryption-bytes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">BytesEncryptor</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">BytesEncryptor</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Use the Encryptors.standard factory method to construct a "standard" BytesEncryptor:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8300">
Encryptors.standard(<fo:inline font-weight="bold" font-style="italic">"password"</fo:inline>, <fo:inline font-weight="bold" font-style="italic">"salt"</fo:inline>);
            </fo:block>
            The "standard" encryption method is 256-bit AES using PKCS #5's PBKDF2 (Password-Based Key Derivation Function #2).
            This method requires Java 6.
            The password used to generate the SecretKey should be kept in a secure place and not be shared.
            The salt is used to prevent dictionary attacks against the key in the event your encrypted data is compromised.
            A 16-byte random initialization vector is also applied so each encrypted message is unique.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The provided salt should be in hex-encoded String form, be random, and be at least 8 bytes in length.
            Such a salt may be generated using a KeyGenerator:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8305">
String salt = KeyGenerators.string().generateKey(); <fo:inline font-style="italic">// generates a random 8-byte salt that is then hex-encoded</fo:inline>
            </fo:block>
        </fo:block></fo:block><fo:block id="spring-security-crypto-encryption-text"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">TextEncryptor</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">TextEncryptor</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Use the Encryptors.text factory method to construct a standard TextEncryptor:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8313">
Encryptors.text(<fo:inline font-weight="bold" font-style="italic">"password"</fo:inline>, <fo:inline font-weight="bold" font-style="italic">"salt"</fo:inline>);
            </fo:block>
            A TextEncryptor uses a standard BytesEncryptor to encrypt text data.
            Encrypted results are returned as hex-encoded strings for easy storage on the filesystem or in the database.
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Use the Encryptors.queryableText factory method to construct a "queryable" TextEncryptor:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8318">
Encryptors.queryableText(<fo:inline font-weight="bold" font-style="italic">"password"</fo:inline>, <fo:inline font-weight="bold" font-style="italic">"salt"</fo:inline>);
            </fo:block>
            The difference between a queryable TextEncryptor and a standard TextEncryptor has to do with initialization vector (iv) handling.
            The iv used in a queryable TextEncryptor#encrypt operation is shared, or constant, and is not randomly generated.
            This means the same text encrypted multiple times will always produce the same encryption result.
            This is less secure, but necessary for encrypted data that needs to be queried against.
            An example of queryable encrypted text would be an OAuth apiKey.
        </fo:block></fo:block></fo:block><fo:block id="spring-security-crypto-keygenerators"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Key Generators</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">25.3 Key Generators</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The KeyGenerators class provides a number of convenience factory methods for constructing different types of key generators.
        Using this class, you can create a BytesKeyGenerator to generate byte[] keys.
        You can also construct a StringKeyGenerator to generate string keys.
        KeyGenerators are thread safe.
    </fo:block><fo:block id="d0e8326"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">BytesKeyGenerator</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">BytesKeyGenerator</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Use the KeyGenerators.secureRandom factory methods to generate a BytesKeyGenerator backed by a SecureRandom instance:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8331">
KeyGenerator generator = KeyGenerators.secureRandom();
<fo:inline font-weight="bold">byte</fo:inline>[] key = generator.generateKey();
            </fo:block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            The default key length is 8 bytes.
            There is also a KeyGenerators.secureRandom variant that provides control over the key length:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8336">
KeyGenerators.secureRandom(16);
            </fo:block>
        </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Use the KeyGenerators.shared factory method to construct a BytesKeyGenerator that always returns the same key on every invocation:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8341">
KeyGenerators.shared(16);
            </fo:block>
        </fo:block></fo:block><fo:block id="d0e8344"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">StringKeyGenerator</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">StringKeyGenerator</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
            Use the KeyGenerators.string factory method to construct a 8-byte, SecureRandom KeyGenerator that hex-encodes each key as a String:
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8349">
KeyGenerators.string();
            </fo:block>
        </fo:block></fo:block></fo:block><fo:block id="spring-security-crypto-passwordencoders"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Password Encoding</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">25.4 Password Encoding</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The password package of the spring-security-crypto module provides support for encoding passwords.
        <fo:inline font-family="monospace">PasswordEncoder</fo:inline> is the central service interface and has the following signature:
        <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8360">
<fo:inline font-weight="bold">public</fo:inline> <fo:inline font-weight="bold">interface</fo:inline> PasswordEncoder {
    String encode(String rawPassword);
    <fo:inline font-weight="bold">boolean</fo:inline> matches(String rawPassword, String encodedPassword);
}
        </fo:block>
        The matches method returns true if the rawPassword, once encoded, equals the encodedPassword.
        This method is designed to support password-based authentication schemes.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The <fo:inline font-family="monospace">StandardPasswordEncoder</fo:inline> implementation applies 1024 iterations of the SHA-256 hashing algorithm to the rawPassword combined with a site-wide secret and 8-byte random salt:
    </fo:block><fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8368">
StandardPasswordEncoder encoder = <fo:inline font-weight="bold">new</fo:inline> StandardPasswordEncoder(<fo:inline font-weight="bold" font-style="italic">"secret"</fo:inline>);
String result = encoder.encode(<fo:inline font-weight="bold" font-style="italic">"myPassword"</fo:inline>);
assertTrue(encoder.matches(<fo:inline font-weight="bold" font-style="italic">"myPassword"</fo:inline>, result));
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        The random salt ensures each hash is unique when the same password is used multiple times.
        The site-wide secret should be stored in a safe place separate from where passwords are stored, and is used to protect against a bruce force attack in the event the database of passwords is compromised.
        1024 iterations of the hashing algorithm strengthens the key and makes it more difficult to compromise using a brute force attack.
    </fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="back" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="appendix-schema"><fo:block><fo:block><fo:block margin-left="0cm" font-size="24.8832pt" font-weight="bold" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Appendix A. Security Database Schema</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> There are various database schema used by the framework and this appendix provides a
        single reference point to them all. You only need to provide the tables for the areas of
        functonality you require. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> DDL statements are given for the HSQLDB database. You can use these as a guideline for
        defining the schema for the database you are using. </fo:block><fo:block id="d0e8380"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">User Schema</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">A.1 User Schema</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The standard JDBC implementation of the
            <fo:inline font-family="monospace">UserDetailsService</fo:inline> (<fo:inline font-family="monospace">JdbcDaoImpl</fo:inline>)
            requires tables to load the password, account status (enabled or disabled) and a list of
            authorities (roles) for the
            user.<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="db_schema_users_authorities">
  create table users(
      username varchar_ignorecase(50) not null primary key,
      password varchar_ignorecase(50) not null,
      enabled boolean not null);

  create table authorities (
      username varchar_ignorecase(50) not null,
      authority varchar_ignorecase(50) not null,
      constraint fk_authorities_users foreign key(username) references users(username));
      create unique index ix_auth_username on authorities (username,authority);
</fo:block></fo:block><fo:block id="d0e8393"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Group Authorities</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Group Authorities</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Spring Security 2.0 introduced support for group authorities in
                <fo:inline font-family="monospace">JdbcDaoImpl</fo:inline>. The table structure if groups are enabled is as
                follows:<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="db-schema-groups">
create table groups (
  id bigint generated by default as identity(start with 0) primary key,
  group_name varchar_ignorecase(50) not null);

create table group_authorities (
  group_id bigint not null,
  authority varchar(50) not null,
  constraint fk_group_authorities_group foreign key(group_id) references groups(id));

create table group_members (
  id bigint generated by default as identity(start with 0) primary key,
  username varchar(50) not null,
  group_id bigint not null,
  constraint fk_group_members_group foreign key(group_id) references groups(id));
        </fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Remember that these tables are only required if you are using the provided JDBC
                <fo:inline font-family="monospace">UserDetailsService</fo:inline> implementation. If you write your
                own  or choose to implement <fo:inline font-family="monospace">AuthenticationProvider</fo:inline>
                without a <fo:inline font-family="monospace">UserDetailsService</fo:inline>, then you have complete
                freedom over how you store the data, as long as the interface contract is
                satisfied.</fo:block></fo:block></fo:block><fo:block id="d0e8414"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Persistent Login (Remember-Me) Schema</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">A.2 Persistent Login (Remember-Me) Schema</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This table is used to store data used by the more secure <fo:basic-link internal-destination="remember-me-persistent-token"><fo:inline>persistent token</fo:inline></fo:basic-link> remember-me
            implementation. If you are using <fo:inline font-family="monospace">JdbcTokenRepositoryImpl</fo:inline> either
            directly or through the namespace, then you will need this table.
            <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="db-schema-remeber-me">
create table persistent_logins (
  username varchar(64) not null,
  series varchar(64) primary key,
  token varchar(64) not null,
  last_used timestamp not null);
</fo:block></fo:block></fo:block><fo:block id="dbschema-acl"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">ACL Schema</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">A.3 ACL Schema</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">There are four tables used by the Spring Security <fo:basic-link internal-destination="domain-acls"><fo:inline>ACL</fo:inline></fo:basic-link> implementation. <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.2em" id="d0e8435"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8436"><fo:list-item-label end-indent="label-end()"><fo:block>1.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">acl_sid</fo:inline> stores the security identities recognised by the
                    ACL system. These can be unique principals or authorities which may apply to
                    multiple principals.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8441"><fo:list-item-label end-indent="label-end()"><fo:block>2.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">acl_class</fo:inline> defines the domain object types to which ACLs
                    apply. The <fo:inline font-family="monospace">class</fo:inline> column stores the Java class name of the
                    object. </fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8449"><fo:list-item-label end-indent="label-end()"><fo:block>3.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">acl_object_identity</fo:inline> stores the object identity definitions
                    of specific domai objects.</fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8454"><fo:list-item-label end-indent="label-end()"><fo:block>4.</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">acl_entry</fo:inline> stores the ACL permissions which apply to a
                    specific object identity and security identity.</fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It is assumed that the database will auto-generate the primary keys for each of the
            identities. The <fo:inline font-family="monospace">JdbcMutableAclService</fo:inline> has to be able to retrieve
            these when it has created a new row in the <fo:inline font-family="monospace">acl_sid</fo:inline> or
            <fo:inline font-family="monospace">acl_class</fo:inline> tables. It has two properties which define the SQL needed
            to retrieve these values <fo:inline font-family="monospace">classIdentityQuery</fo:inline> and
            <fo:inline font-family="monospace">sidIdentityQuery</fo:inline>. Both of these default to <fo:inline font-family="monospace">call
            identity()</fo:inline></fo:block><fo:block id="d0e8478"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Hypersonic SQL</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Hypersonic SQL</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default schema works with the embedded HSQLDB database that is used in unit
                tests within the
                framework.<fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="dbschema-acl-hsql">
create table acl_sid (
  id bigint generated by default as identity(start with 100) not null primary key,
  principal boolean not null,
  sid varchar_ignorecase(100) not null,
  constraint unique_uk_1 unique(sid,principal) );

create table acl_class (
  id bigint generated by default as identity(start with 100) not null primary key,
  class varchar_ignorecase(100) not null,
  constraint unique_uk_2 unique(class) );

create table acl_object_identity (
  id bigint generated by default as identity(start with 100) not null primary key,
  object_id_class bigint not null,
  object_id_identity bigint not null,
  parent_object bigint,
  owner_sid bigint not null,
  entries_inheriting boolean not null,
  constraint unique_uk_3 unique(object_id_class,object_id_identity),
  constraint foreign_fk_1 foreign key(parent_object)references acl_object_identity(id),
  constraint foreign_fk_2 foreign key(object_id_class)references acl_class(id),
  constraint foreign_fk_3 foreign key(owner_sid)references acl_sid(id) );

create table acl_entry (
  id bigint generated by default as identity(start with 100) not null primary key,
  acl_object_identity bigint not null,ace_order int not null,sid bigint not null,
  mask integer not null,granting boolean not null,audit_success boolean not null,
  audit_failure boolean not null,
  constraint unique_uk_4 unique(acl_object_identity,ace_order),
  constraint foreign_fk_4 foreign key(acl_object_identity)
      references acl_object_identity(id),
  constraint foreign_fk_5 foreign key(sid) references acl_sid(id) );

                </fo:block></fo:block></fo:block><fo:block id="d0e8485"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">PostgreSQL</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">PostgreSQL</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e8490">create table acl_sid(
  id bigserial not null primary key,
  principal boolean not null,
  sid varchar(100) not null,
  constraint unique_uk_1 unique(sid,principal));

create table acl_class(
  id bigserial not null primary key,
  class varchar(100) not null,
  constraint unique_uk_2 unique(class));

create table acl_object_identity(
  id bigserial primary key,
  object_id_class bigint not null,
  object_id_identity bigint not null,
  parent_object bigint,
  owner_sid bigint,
  entries_inheriting boolean not null,
  constraint unique_uk_3 unique(object_id_class,object_id_identity),
  constraint foreign_fk_1 foreign key(parent_object) references acl_object_identity(id),
  constraint foreign_fk_2 foreign key(object_id_class) references acl_class(id),
  constraint foreign_fk_3 foreign key(owner_sid) references acl_sid(id));

create table acl_entry(
  id bigserial primary key,
  acl_object_identity bigint not null,
  ace_order int not null,
  sid bigint not null,
  mask integer not null,
  granting boolean not null,
  audit_success boolean not null,
  audit_failure boolean not null,
  constraint unique_uk_4 unique(acl_object_identity,ace_order),
  constraint foreign_fk_4 foreign key(acl_object_identity)
      references acl_object_identity(id),
  constraint foreign_fk_5 foreign key(sid) references acl_sid(id));
</fo:block> </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">You will have to set the <fo:inline font-family="monospace">classIdentityQuery</fo:inline> and
                <fo:inline font-family="monospace">sidIdentityQuery</fo:inline> properties of
                <fo:inline font-family="monospace">JdbcMutableAclService</fo:inline> to the following values,
                respectively: <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e8504"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8505"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">select currval(pg_get_serial_sequence('acl_class',
                        'id'))</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8509"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:block><fo:inline font-family="monospace">select currval(pg_get_serial_sequence('acl_sid',
                        'id'))</fo:inline></fo:block></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="back" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="appendix-namespace"><fo:block><fo:block><fo:block margin-left="0cm" font-size="24.8832pt" font-weight="bold" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Appendix B. The Security Namespace</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This appendix provides a reference to the elements available in the security namespace
        and information on the underlying beans they create (a knowledge of the individual classes
        and how they work together is assumed - you can find more information in the project Javadoc
        and elsewhere in this document). If you haven't used the namespace before, please read the
        <fo:basic-link internal-destination="ns-config"><fo:inline>introductory chapter</fo:inline></fo:basic-link> on namespace configuration, as
        this is intended as a supplement to the information there. Using a good quality XML editor
        while editing a configuration based on the schema is recommended as this will provide
        contextual information on which elements and attributes are available as well as comments
        explaining their purpose. The namespace is written in <fo:basic-link external-destination="url(http://www.relaxng.org/)"><fo:inline>RELAX NG</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://www.relaxng.org/)">http://www.relaxng.org/</fo:basic-link>]</fo:inline> Compact format and later converted into
        an XSD schema. If you are familiar with this format, you may wish to examine the <fo:basic-link external-destination="url(https://fisheye.springsource.org/browse/spring-security/config/src/main/resources/org/springframework/security/config/spring-security-3.1.rnc)"><fo:inline>schema file</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(https://fisheye.springsource.org/browse/spring-security/config/src/main/resources/org/springframework/security/config/spring-security-3.1.rnc)">https://fisheye.springsource.org/browse/spring-security/config/src/main/resources/org/springframework/security/config/spring-security-3.1.rnc</fo:basic-link>]</fo:inline> directly.</fo:block><fo:block id="nsa-web"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Web Application Security</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">B.1 Web Application Security</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-debug"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;debug&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;debug&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Enables Spring Security debugging infrastructure. This will provide human-readable (multi-line)
                debugging information to monitor requests coming into the security filters. This may include sensitive
                information, such as request parameters or headers, and should only be used in a development
                environment.</fo:block></fo:block><fo:block id="nsa-http"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;http&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;http&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If you use an <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> element within your application, a
                <fo:inline font-family="monospace">FilterChainProxy</fo:inline> bean named "springSecurityFilterChain" is
                created and the configuration within the element is used to build a filter chain within
                <fo:inline font-family="monospace">FilterChainProxy</fo:inline>. As of Spring Security 3.1, additional
                <fo:inline font-family="monospace">http</fo:inline> elements can be used to add extra filter chains <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>See the <fo:basic-link internal-destination="ns-web-xml"><fo:inline>introductory chapter</fo:inline></fo:basic-link> for how to set
                    up the mapping from your <fo:inline font-family="monospace">web.xml</fo:inline></fo:block></fo:footnote-body></fo:footnote>. Some core filters are always created in a filter chain and others will be
                added to the stack depending on the attributes and child elements which are present. The
                positions of the standard filters are fixed (see <fo:basic-link internal-destination="filter-stack"><fo:inline>the
                filter order table</fo:inline></fo:basic-link> in the namespace introduction), removing a common source of
                errors with previous versions of the framework when users had to configure the filter
                chain explicitly in the <fo:inline font-family="monospace">FilterChainProxy</fo:inline> bean. You can, of course,
                still do this if you need full control of the configuration. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> All filters which require a reference to the
                <fo:inline font-family="monospace">AuthenticationManager</fo:inline> will be automatically injected with
                the internal instance created by the namespace configuration (see the <fo:basic-link internal-destination="ns-auth-manager"><fo:inline>introductory chapter</fo:inline></fo:basic-link> for more on the
                <fo:inline font-family="monospace">AuthenticationManager</fo:inline>). </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Each <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> namespace block always creates an
                <fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline>, an
                <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> and a
                <fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline>. These are fixed and cannot be replaced
                with alternatives. </fo:block><fo:block id="nsa-http-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;http&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The attributes on the <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> element control some of the
                    properties on the core filters. </fo:block><fo:block id="nsa-http-access-decision-manager-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">access-decision-manager-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Optional attribute specifying the ID of the
                        <fo:inline font-family="monospace">AccessDecisionManager</fo:inline> implementation which should
                        be used for authorizing HTTP requests. By default an
                        <fo:inline font-family="monospace">AffirmativeBased</fo:inline> implementation is used for with a
                        <fo:inline font-family="monospace">RoleVoter</fo:inline> and an
                        <fo:inline font-family="monospace">AuthenticatedVoter</fo:inline>. </fo:block></fo:block><fo:block id="nsa-http-access-denied-page"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">access-denied-page</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Deprecated in favour of the <fo:basic-link internal-destination="nsa-access-denied-handler"><fo:inline>access-denied-handler</fo:inline></fo:basic-link>
                        child element.</fo:block></fo:block><fo:block id="nsa-http-authentication-manager-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-manager-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A reference to the <fo:inline font-family="monospace">AuthenticationManager</fo:inline> used for the
                        <fo:inline font-family="monospace">FilterChain</fo:inline> created by this http element.</fo:block></fo:block><fo:block id="nsa-http-auto-config"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">auto-config</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Automatically registers a login form, BASIC authentication, anonymous authentication, logout
                        services, remember-me and servlet-api-integration. If set to "true", all of these capabilities are added
                        (although you can still customize the configuration of each by providing the respective element). If
                        unspecified, defaults to "false".</fo:block></fo:block><fo:block id="nsa-http-create-session"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">create-session</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Controls the eagerness with which an HTTP session is created by Spring Security classes.
                        Options include:
                        <fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e8656"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8657"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:inline font-family="monospace">always</fo:inline> - Spring Security will proactively create a session if one
                                does not exist.
                            </fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8661"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:inline font-family="monospace">ifRequired</fo:inline> - Spring Security will only create a session only if one
                                is required (default value).
                            </fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8665"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:inline font-family="monospace">never</fo:inline> - Spring Security will never create a session, but will
                                make use of one if the application does.</fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8669"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:inline font-family="monospace">stateless</fo:inline> - Spring Security will not create a session and ignore the
                                session for obtaining a Spring <fo:inline font-family="monospace">Authentication</fo:inline>.
                            </fo:block></fo:list-item-body></fo:list-item></fo:list-block>
                    </fo:block></fo:block><fo:block id="nsa-http-disable-url-rewriting"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">disable-url-rewriting</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Prevents session IDs from being appended to URLs in the application. Clients
                        must use cookies if this attribute is set to <fo:inline font-family="monospace">true</fo:inline>. The default is
                        <fo:inline font-family="monospace">false</fo:inline>.</fo:block></fo:block><fo:block id="nsa-http-entry-point-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">entry-point-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Normally the <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> used
                        will be set depending on which authentication mechanisms have been configured.
                        This attribute allows this behaviour to be overridden by defining a customized
                        <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> bean which will start
                        the authentication process.</fo:block></fo:block><fo:block id="nsa-http-jaas-api-provision"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">jaas-api-provision</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If available, runs the request as the <fo:inline font-family="monospace">Subject</fo:inline> acquired from
                        the <fo:inline font-family="monospace">JaasAuthenticationToken</fo:inline> which is implemented by
                        adding a <fo:inline font-family="monospace">JaasApiIntegrationFilter</fo:inline> bean to the stack.
                        Defaults to <fo:inline font-family="monospace">false</fo:inline>.</fo:block></fo:block><fo:block id="nsa-http-name"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">name</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A bean identifier, used for referring to the bean elsewhere in the context.</fo:block></fo:block><fo:block id="nsa-http-once-per-request"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">once-per-request</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Corresponds to the <fo:inline font-family="monospace">observeOncePerRequest</fo:inline> property of
                        <fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline>. Defaults to <fo:inline font-family="monospace">true</fo:inline>.</fo:block></fo:block><fo:block id="nsa-http-path-type"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">path-type</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Deprecated in favor of <fo:basic-link internal-destination="nsa-http-request-matcher"><fo:inline>request-matcher</fo:inline></fo:basic-link>.
                        </fo:block></fo:block><fo:block id="nsa-http-pattern"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">pattern</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defining a pattern for the <fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link> element controls the
                        requests which will be filtered through the list of filters which it defines.
                        The interpretation is dependent on the configured <fo:basic-link internal-destination="nsa-http-request-matcher"><fo:inline>request-matcher</fo:inline></fo:basic-link>. If no pattern is defined,
                        all requests will be matched, so the most specific patterns should be declared
                        first.</fo:block></fo:block><fo:block id="nsa-http-realm"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">realm</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Sets the realm name used for basic authentication (if enabled). Corresponds
                        to the <fo:inline font-family="monospace">realmName</fo:inline> property on
                        <fo:inline font-family="monospace">BasicAuthenticationEntryPoint</fo:inline>.</fo:block></fo:block><fo:block id="nsa-http-request-matcher"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">request-matcher</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines the <fo:inline font-family="monospace">RequestMatcher</fo:inline> strategy used in
                        the <fo:inline font-family="monospace">FilterChainProxy</fo:inline> and the beans created by the
                        <fo:inline font-family="monospace">intercept-url</fo:inline> to match incoming requests. Options are
                        currently <fo:inline font-family="monospace">ant</fo:inline>, <fo:inline font-family="monospace">regex</fo:inline> and
                        <fo:inline font-family="monospace">ciRegex</fo:inline>, for ant, regular-expression and case-insensitive
                        regular-expression repsectively. A separate instance is created for each
                        <fo:basic-link internal-destination="nsa-intercept-url"><fo:inline>intercept-url</fo:inline></fo:basic-link> element using its
                        <fo:basic-link internal-destination="nsa-intercept-url-pattern"><fo:inline>pattern</fo:inline></fo:basic-link> and
                        <fo:basic-link internal-destination="nsa-intercept-url-method"><fo:inline>method</fo:inline></fo:basic-link> attributes. Ant paths
                        are matched using an <fo:inline font-family="monospace">AntPathRequestMatcher</fo:inline> and regular expressions
                        are matched using a <fo:inline font-family="monospace">RegexRequestMatcher</fo:inline>. See the Javadoc
                        for these classes for more details on exactly how the matching is preformed. Ant
                        paths are the default strategy.</fo:block></fo:block><fo:block id="nsa-http-request-matcher-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">request-matcher-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A referenece to a bean that implements <fo:inline font-family="monospace">RequestMatcher</fo:inline> that
                        will determine if this <fo:inline font-family="monospace">FilterChain</fo:inline> should be used. This is a more
                        powerful alternative to <fo:basic-link internal-destination="nsa-http-pattern"><fo:inline>pattern</fo:inline></fo:basic-link>.</fo:block></fo:block><fo:block id="nsa-http-security"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">security</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A request pattern can be mapped to an empty filter chain, by setting this
                        attribute to <fo:inline font-family="monospace">none</fo:inline>. No security will be applied and none of
                        Spring Security's features will be available.</fo:block></fo:block><fo:block id="nsa-http-security-context-repository-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">security-context-repository-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Allows injection of a custom
                        <fo:inline font-family="monospace">SecurityContextRepository</fo:inline> into the
                        <fo:inline font-family="monospace">SecurityContextPersistenceFilter</fo:inline>.</fo:block></fo:block><fo:block id="nsa-http-servlet-api-provision"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">servlet-api-provision</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Provides versions of <fo:inline font-family="monospace">HttpServletRequest</fo:inline> security methods
                        such as <fo:inline font-family="monospace">isUserInRole()</fo:inline> and <fo:inline font-family="monospace">getPrincipal()</fo:inline>
                        which are implemented by adding a
                        <fo:inline font-family="monospace">SecurityContextHolderAwareRequestFilter</fo:inline> bean to the
                        stack. Defaults to <fo:inline font-family="monospace">true</fo:inline>.</fo:block></fo:block><fo:block id="nsa-http-use-expressions"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">use-expressions</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Enables EL-expressions in the <fo:inline font-family="monospace">access</fo:inline> attribute, as
                        described in the chapter on <fo:basic-link internal-destination="el-access-web"><fo:inline>expression-based
                        access-control</fo:inline></fo:basic-link>.</fo:block></fo:block></fo:block><fo:block id="nsa-http-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of &lt;http&gt;</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e8884"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8885"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-access-denied-handler"><fo:inline>access-denied-handler</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8888"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-anonymous"><fo:inline>anonymous</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8891"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-custom-filter"><fo:inline>custom-filter</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8894"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-expression-handler"><fo:inline>expression-handler</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8897"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-form-login"><fo:inline>form-login</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8900"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http-basic"><fo:inline>http-basic</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8903"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-intercept-url"><fo:inline>intercept-url</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8906"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-jee"><fo:inline>jee</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8909"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-logout"><fo:inline>logout</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8912"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-openid-login"><fo:inline>openid-login</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8915"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-port-mappings"><fo:inline>port-mappings</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8918"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-remember-me"><fo:inline>remember-me</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8921"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-request-cache"><fo:inline>request-cache</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8924"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-session-management"><fo:inline>session-management</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8927"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-x509"><fo:inline>x509</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-access-denied-handler"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;access-denied-handler&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;access-denied-handler&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This element allows you to set the <fo:inline font-family="monospace">errorPage</fo:inline> property for the
                default <fo:inline font-family="monospace">AccessDeniedHandler</fo:inline> used by the
                <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline>, using the
                <fo:basic-link internal-destination="nsa-access-denied-handler-error-page"><fo:inline>error-page</fo:inline></fo:basic-link> attribute, or
                to supply your own implementation using the
                <fo:basic-link internal-destination="nsa-access-denied-handler-ref"><fo:inline>ref</fo:inline></fo:basic-link> attribute. This is discussed
                in more detail in the section on the <fo:basic-link internal-destination="access-denied-handler"><fo:inline>
                <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline></fo:inline></fo:basic-link>.</fo:block><fo:block id="nsa-access-denied-handler-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;access-denied-handler&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e8961"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e8962"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-access-denied-handler-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;access-denied-handler&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-access-denied-handler-error-page"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">error-page</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The access denied page that an authenticated user will be redirected to if they request a
                        page which they don't have the authority to access.</fo:block></fo:block><fo:block id="nsa-access-denied-handler-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean of type <fo:inline font-family="monospace">AccessDeniedHandler
                        </fo:inline>.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-anonymous"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;anonymous&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;anonymous&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Adds an <fo:inline font-family="monospace">AnonymousAuthenticationFilter</fo:inline> to the stack and an
                <fo:inline font-family="monospace">AnonymousAuthenticationProvider</fo:inline>. Required if you are using
                the <fo:inline font-family="monospace">IS_AUTHENTICATED_ANONYMOUSLY</fo:inline> attribute.</fo:block><fo:block id="nsa-anonymous-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;anonymous&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9005"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9006"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-anonymous-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;anonymous&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-anonymous-enabled"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">enabled</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">With the default namespace setup, the anonymous "authentication" facility is automatically
                        enabled. You can disable it using this property.</fo:block></fo:block><fo:block id="nsa-anonymous-granted-authority"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">granted-authority</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The granted authority that should be assigned to the anonymous request. Commonly this is used
                        to assign the anonymous request particular roles, which can subsequently be used in authorization
                        decisions. If unset, defaults to <fo:inline font-family="monospace">ROLE_ANONYMOUS</fo:inline>.</fo:block></fo:block><fo:block id="nsa-anonymous-key"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">key</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The key shared between the provider and filter. This generally does not need to be set. If
                        unset, it will default to a secure randomly generated value. This means setting this value can
                        improve startup time when using the anonymous functionality since secure random values can take
                        a while to be generated.</fo:block></fo:block><fo:block id="nsa-anonymous-username"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">username</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The username that should be assigned to the anonymous request. This allows the principal to
                        be identified, which may be important for logging and auditing. if unset, defaults to
                        <fo:inline font-family="monospace">anonymousUser</fo:inline>.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-custom-filter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;custom-filter&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;custom-filter&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This element is used to add a filter to the filter chain. It doesn't create any
                additional beans but is used to select a bean of type
                <fo:inline font-family="monospace">javax.servlet.Filter</fo:inline> which is already defined in the
                application context and add that at a particular position in the filter chain
                maintained by Spring Security. Full details can be found in the <fo:basic-link internal-destination="ns-custom-filters"><fo:inline>
                namespace chapter</fo:inline></fo:basic-link>.</fo:block><fo:block id="nsa-custom-filter-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;custom-filter&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9061"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9062"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-custom-filter-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;custom-filter&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-custom-filter-after"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">after</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The filter immediately after which the custom-filter should be placed in the chain. This
                        feature will only be needed by advanced users who wish to mix their own filters into the
                        security filter chain and have some knowledge of the standard Spring Security filters. The
                        filter names map to specific Spring Security implementation filters.</fo:block></fo:block><fo:block id="nsa-custom-filter-before"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">before</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The filter immediately before which the custom-filter should be placed in the chain</fo:block></fo:block><fo:block id="nsa-custom-filter-position"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">position</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The explicit position at which the custom-filter should be placed in the chain. Use if you
                        are replacing a standard filter.</fo:block></fo:block><fo:block id="nsa-custom-filter-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean that implements <fo:inline font-family="monospace">Filter</fo:inline>.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-expression-handler"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;expression-handler&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;expression-handler&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines the <fo:inline font-family="monospace">SecurityExpressionHandler</fo:inline> instance which will be used if
                expression-based access-control is enabled. A default implementation (with no ACL support) will be used
                if not supplied.</fo:block><fo:block id="nsa-expression-handler-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;expression-handler&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9111"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9112"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-global-method-security"><fo:inline>global-method-security</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9115"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-expression-handler-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;expression-handler&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-expression-handler-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean that implements <fo:inline font-family="monospace">SecurityExpressionHandler</fo:inline>.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-form-login"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;form-login&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;form-login&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Used to add an <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline> to the
                filter stack and an <fo:inline font-family="monospace">LoginUrlAuthenticationEntryPoint</fo:inline> to the
                application context to provide authentication on demand. This will always take
                precedence over other namespace-created entry points. If no attributes are supplied,
                a login page will be generated automatically at the URL "/spring_security_login" <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">2</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">2</fo:inline>This feature is really just provided for convenience and is not intended for
                    production (where a view technology will have been chosen and can be used to
                    render a customized login page). The class
                    <fo:inline font-family="monospace">DefaultLoginPageGeneratingFilter</fo:inline> is responsible for
                    rendering the login page and will provide login forms for both normal form login
                    and/or OpenID if required.</fo:block></fo:footnote-body></fo:footnote> The behaviour can be customized using the <fo:basic-link internal-destination="nsa-form-login-attributes"><fo:inline>
                    <fo:inline font-family="monospace">&lt;form-login&gt;</fo:inline> Attributes</fo:inline></fo:basic-link>.</fo:block><fo:block id="nsa-form-login-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;form-login&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9162"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9163"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-form-login-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;form-login&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-form-login-always-use-default-target"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">always-use-default-target</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If set to <fo:inline font-family="monospace">true</fo:inline>, the user will always start at the value given by
                        <fo:basic-link internal-destination="nsa-form-login-default-target-url"><fo:inline>default-target-url</fo:inline></fo:basic-link>, regardless
                        of how they arrived at the login page. Maps to the <fo:inline font-family="monospace">alwaysUseDefaultTargetUrl</fo:inline>
                        property of <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline>. Default value is
                        <fo:inline font-family="monospace">false</fo:inline>.</fo:block></fo:block><fo:block id="nsa-form-login-authentication-details-source-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-details-source-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Reference to an <fo:inline font-family="monospace">AuthenticationDetailsSource</fo:inline> which will be used
                        by the authentication filter</fo:block></fo:block><fo:block id="nsa-form-login-authentication-failure-handler-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-failure-handler-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Can be used as an alternative to
                        <fo:basic-link internal-destination="nsa-form-login-authentication-failure-url"><fo:inline>authentication-failure-url</fo:inline></fo:basic-link>,
                        giving you full control over the navigation flow after an authentication failure. The value
                        should be he name of an <fo:inline font-family="monospace">AuthenticationFailureHandler</fo:inline> bean in the
                        application context.</fo:block></fo:block><fo:block id="nsa-form-login-authentication-failure-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-failure-url</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Maps to the <fo:inline font-family="monospace">authenticationFailureUrl</fo:inline> property of
                        <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline>. Defines the URL the
                        browser will be redirected to on login failure. Defaults to
                        <fo:inline font-family="monospace">/spring_security_login?login_error</fo:inline>, which will be automatically handled by
                        the automatic login page generator, re-rendering the login page with an error message.</fo:block></fo:block><fo:block id="nsa-form-login-authentication-success-handler-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-success-handler-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This can be used as an alternative to
                        <fo:basic-link internal-destination="nsa-form-login-default-target-url"><fo:inline>default-target-url</fo:inline></fo:basic-link>
                        and <fo:basic-link internal-destination="nsa-form-login-always-use-default-target"><fo:inline>always-use-default-target</fo:inline></fo:basic-link>,
                        giving you full control over the navigation flow after a successful authentication. The value
                        should be the name of an <fo:inline font-family="monospace">AuthenticationSuccessHandler</fo:inline> bean in
                        the application context. By default, an implementation of
                        <fo:inline font-family="monospace">SavedRequestAwareAuthenticationSuccessHandler</fo:inline> is used and
                        injected with the <fo:basic-link internal-destination="nsa-form-login-default-target-url"><fo:inline>default-target-url
                        </fo:inline></fo:basic-link>.</fo:block></fo:block><fo:block id="nsa-form-login-default-target-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">default-target-url</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Maps to the <fo:inline font-family="monospace">defaultTargetUrl</fo:inline> property of
                        <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline>. If not set, the
                        default value is "/" (the application root). A user will be taken to this URL
                        after logging in, provided they were not asked to login while attempting to
                        access a secured resource, when they will be taken to the originally requested
                        URL.</fo:block></fo:block><fo:block id="nsa-form-login-login-page"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">login-page</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The URL that should be used to render the login page. Maps to the
                        <fo:inline font-family="monospace">loginFormUrl</fo:inline> property of the
                        <fo:inline font-family="monospace">LoginUrlAuthenticationEntryPoint</fo:inline>. Defaults to
                        "/spring_security_login".</fo:block></fo:block><fo:block id="nsa-form-login-login-processing-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">login-processing-url</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Maps to the <fo:inline font-family="monospace">filterProcessesUrl</fo:inline> property of
                        <fo:inline font-family="monospace">UsernamePasswordAuthenticationFilter</fo:inline>. The default value
                        is "/j_spring_security_check".</fo:block></fo:block><fo:block id="nsa-form-login-password-parameter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">password-parameter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The name of the request parameter which contains the password. Defaults to "j_password".</fo:block></fo:block><fo:block id="nsa-form-login-username-parameter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">username-parameter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The name of the request parameter which contains the username. Defaults to "j_username".</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-http-basic"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;http-basic&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;http-basic&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Adds a <fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline> and
                <fo:inline font-family="monospace">BasicAuthenticationEntryPoint</fo:inline> to the configuration. The
                latter will only be used as the configuration entry point if form-based login is not
                enabled.</fo:block><fo:block id="nsa-http-basic-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;http-basic&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9314"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9315"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-http-basic-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;http-basic&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-http-basic-authentication-details-source-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-details-source-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Reference to an <fo:inline font-family="monospace">AuthenticationDetailsSource</fo:inline> which will be used
                        by the authentication filter</fo:block></fo:block><fo:block id="nsa-http-basic-entry-point-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">entry-point-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Sets the <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline> which is used by the
                        <fo:inline font-family="monospace">BasicAuthenticationFilter</fo:inline>.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-http-firewall"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;http-firewall&gt;</fo:inline> Element</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;http-firewall&gt;</fo:inline> Element</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This is a top-level element which can be used to inject a custom implementation of
                <fo:inline font-family="monospace">HttpFirewall</fo:inline> into the
                <fo:inline font-family="monospace">FilterChainProxy</fo:inline> created by the namespace. The default
                implementation should be suitable for most applications.</fo:block><fo:block id="nsa-http-firewall-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;http-firewall&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-http-firewall-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean that implements <fo:inline font-family="monospace">HttpFirewall</fo:inline>.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-intercept-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This element is used to define the set of URL patterns that the application is
                interested in and to configure how they should be handled. It is used to construct
                the <fo:inline font-family="monospace">FilterInvocationSecurityMetadataSource</fo:inline> used by
                the <fo:inline font-family="monospace">FilterSecurityInterceptor</fo:inline>. It is also responsible for
                configuring a <fo:inline font-family="monospace">ChannelAuthenticationFilter</fo:inline> if particular URLs
                need to be accessed by HTTPS, for example. When matching the specified patterns
                against an incoming request, the matching is done in the order in which the elements
                are declared. So the most specific matches patterns should come first and the most
                general should come last.</fo:block><fo:block id="nsa-intercept-url-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9391"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9392"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-filter-invocation-definition-source"><fo:inline>filter-invocation-definition-source</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9395"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-filter-security-metadata-source"><fo:inline>filter-security-metadata-source</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9398"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-intercept-url-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-intercept-url-access"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">access</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Lists the access attributes which will be stored in the
                        <fo:inline font-family="monospace">FilterInvocationSecurityMetadataSource</fo:inline> for the
                        defined URL pattern/method combination. This should be a comma-separated list of
                        the security configuration attributes (such as role names).</fo:block></fo:block><fo:block id="nsa-intercept-url-filters"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">filters</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Can only take the value <fo:inline>“none”</fo:inline>. This will cause any matching
                        request to bypass the Spring Security filter chain entirely. None of the rest of
                        the <fo:inline font-family="monospace">&lt;http&gt;</fo:inline> configuration will have any effect on the
                        request and there will be no security context available for its duration. Access
                        to secured methods during the request will fail.</fo:block></fo:block><fo:block id="nsa-intercept-url-method"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">method</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The HTTP Method which will be used in combination with the pattern to match
                        an incoming request. If omitted, any method will match. If an identical pattern
                        is specified with and without a method, the method-specific match will take
                        precedence.</fo:block></fo:block><fo:block id="nsa-intercept-url-pattern"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">pattern</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The pattern which defines the URL path. The content will depend on the
                        <fo:inline font-family="monospace">request-matcher</fo:inline> attribute from the containing http element,
                        so will default to ant path syntax.</fo:block></fo:block><fo:block id="nsa-intercept-url-requires-channel"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">requires-channel</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Can be <fo:inline>“http”</fo:inline> or <fo:inline>“https”</fo:inline> depending on whether a
                        particular URL pattern should be accessed over HTTP or HTTPS respectively.
                        Alternatively the value <fo:inline>“any”</fo:inline> can be used when there is no
                        preference. If this attribute is present on any
                        <fo:inline font-family="monospace">&lt;intercept-url&gt;</fo:inline> element, then a
                        <fo:inline font-family="monospace">ChannelAuthenticationFilter</fo:inline> will be added to the filter
                        stack and its additional dependencies added to the application
                        context.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If a <fo:inline font-family="monospace">&lt;port-mappings&gt;</fo:inline> configuration is added, this
                        will be used to by the <fo:inline font-family="monospace">SecureChannelProcessor</fo:inline> and
                        <fo:inline font-family="monospace">InsecureChannelProcessor</fo:inline> beans to determine the ports
                        used for redirecting to HTTP/HTTPS. </fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-jee"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;jee&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;jee&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Adds a J2eePreAuthenticatedProcessingFilter to the filter chain to provide integration with container
                authentication.</fo:block><fo:block id="nsa-jee-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;jee&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9486"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9487"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-jee-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;jee&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-jee-mappable-roles"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">mappable-roles</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A comma-separate list of roles to look for in the incoming HttpServletRequest.</fo:block></fo:block><fo:block id="nsa-jee-user-service-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-service-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A reference to a user-service (or UserDetailsService bean) Id</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-logout"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;logout&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;logout&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Adds a <fo:inline font-family="monospace">LogoutFilter</fo:inline> to the filter stack. This is
                configured with a <fo:inline font-family="monospace">SecurityContextLogoutHandler</fo:inline>.</fo:block><fo:block id="nsa-logout-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;logout&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9524"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9525"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-logout-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;logout&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-logout-delete-cookies"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt">The <fo:inline font-family="monospace">delete-cookies</fo:inline> attribute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A comma-separated list of the names of cookies which should be deleted when the user logs out.
                    </fo:block></fo:block><fo:block id="nsa-logout-invalidate-session"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt">The <fo:inline font-family="monospace">invalidate-session</fo:inline> attribute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Maps to the <fo:inline font-family="monospace">invalidateHttpSession</fo:inline> of the
                        <fo:inline font-family="monospace">SecurityContextLogoutHandler</fo:inline>. Defaults to "true", so the
                        session will be invalidated on logout.</fo:block></fo:block><fo:block id="nsa-logout-logout-success-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt">The <fo:inline font-family="monospace">logout-success-url</fo:inline> attribute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The destination URL which the user will be taken to after logging out.
                        Defaults to "/". </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Setting this attribute will inject the <fo:inline font-family="monospace">SessionManagementFilter</fo:inline>
                        with a <fo:inline font-family="monospace">SimpleRedirectInvalidSessionStrategy</fo:inline> configured with
                        the attribute value. When an invalid session ID is submitted, the strategy will be invoked,
                        redirecting to the configured URL.</fo:block></fo:block><fo:block id="nsa-logout-logout-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt">The <fo:inline font-family="monospace">logout-url</fo:inline> attribute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The URL which will cause a logout (i.e. which will be processed by the
                        filter). Defaults to "/j_spring_security_logout". </fo:block></fo:block><fo:block id="nsa-logout-success-handler-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt">The <fo:inline font-family="monospace">success-handler-ref</fo:inline> attribute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">May be used to supply an instance of <fo:inline font-family="monospace">LogoutSuccessHandler</fo:inline>
                        which will be invoked to control the navigation after logging out.
                    </fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-openid-login"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;openid-login&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;openid-login&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Similar to <fo:inline font-family="monospace">&lt;form-login&gt;</fo:inline> and has the same attributes. The
                default value for <fo:inline font-family="monospace">login-processing-url</fo:inline> is
                "/j_spring_openid_security_check". An
                <fo:inline font-family="monospace">OpenIDAuthenticationFilter</fo:inline> and
                <fo:inline font-family="monospace">OpenIDAuthenticationProvider</fo:inline> will be registered. The latter
                requires a reference to a <fo:inline font-family="monospace">UserDetailsService</fo:inline>. Again,
                this can be specified by <fo:inline font-family="monospace">id</fo:inline>, using the <fo:inline font-family="monospace">user-service-ref</fo:inline>
                attribute, or will be located automatically in the application context. </fo:block><fo:block id="nsa-openid-login-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;openid-login&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9622"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9623"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-openid-login-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;openid-login&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-openid-login-always-use-default-target"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">always-use-default-target</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Whether the user should always be redirected to the default-target-url after login.</fo:block></fo:block><fo:block id="nsa-openid-login-authentication-details-source-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-details-source-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Reference to an AuthenticationDetailsSource which will be used by the authentication filter</fo:block></fo:block><fo:block id="nsa-openid-login-authentication-failure-handler-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-failure-handler-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Reference to an AuthenticationFailureHandler bean which should be used to handle a failed
                        authentication request. Should not be used in combination with authentication-failure-url as the
                        implementation should always deal with navigation to the subsequent destination</fo:block></fo:block><fo:block id="nsa-openid-login-authentication-failure-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-failure-url</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The URL for the login failure page. If no login failure URL is specified, Spring Security will
                        automatically create a failure login URL at /spring_security_login?login_error and a corresponding
                        filter to render that login failure URL when requested.</fo:block></fo:block><fo:block id="nsa-openid-login-authentication-success-handler-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-success-handler-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Reference to an AuthenticationSuccessHandler bean which should be used to handle a successful
                        authentication request. Should not be used in combination with
                        <fo:basic-link internal-destination="nsa-openid-login-default-target-url"><fo:inline>default-target-url</fo:inline></fo:basic-link> (or
                        <fo:basic-link internal-destination="nsa-openid-login-always-use-default-target"><fo:inline>
                        always-use-default-target</fo:inline></fo:basic-link>) as the implementation should always deal with navigation
                        to the subsequent destination</fo:block></fo:block><fo:block id="nsa-openid-login-default-target-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">default-target-url</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The URL that will be redirected to after successful authentication, if the user's previous action
                        could not be resumed. This generally happens if the user visits a login page without having first requested a
                        secured operation that triggers authentication. If unspecified, defaults to the root of the application.</fo:block></fo:block><fo:block id="nsa-openid-login-login-page"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">login-page</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The URL for the login page. If no login URL is specified, Spring Security will automatically
                        create a login URL at /spring_security_login and a corresponding filter to render that login URL when requested.
                    </fo:block></fo:block><fo:block id="nsa-openid-login-login-processing-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">login-processing-url</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The URL that the login form is posted to. If unspecified, it defaults to /j_spring_security_check.</fo:block></fo:block><fo:block id="nsa-openid-login-password-parameter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">password-parameter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The name of the request parameter which contains the password. Defaults to "j_password".</fo:block></fo:block><fo:block id="nsa-openid-login-user-service-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-service-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A reference to a user-service (or UserDetailsService bean) Id</fo:block></fo:block><fo:block id="nsa-openid-login-username-parameter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">username-parameter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The name of the request parameter which contains the username. Defaults to "j_username".</fo:block></fo:block></fo:block><fo:block id="nsa-openid-login-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of &lt;openid-login&gt;</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9706"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9707"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-attribute-exchange"><fo:inline>attribute-exchange</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-attribute-exchange"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;attribute-exchange&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;attribute-exchange&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The <fo:inline font-family="monospace">attribute-exchange</fo:inline> element defines the list of
                attributes which should be requested from the identity provider. An example can be found
                in the <fo:basic-link internal-destination="ns-openid"><fo:inline>OpenID Support</fo:inline></fo:basic-link> section of the namespace configuration
                chapter. More than one can be used, in which case each must have an <fo:inline font-family="monospace">identifier-match</fo:inline>
                attribute, containing a regular expression which is matched against the supplied
                OpenID identifier. This allows different attribute lists to be fetched from
                different providers (Google, Yahoo etc).</fo:block><fo:block id="nsa-attribute-exchange-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;attribute-exchange&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9730"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9731"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-openid-login"><fo:inline>openid-login</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-attribute-exchange-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;attribute-exchange&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-attribute-exchange-identifier-match"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">identifier-match</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A regular expression which will be compared against the claimed identity, when deciding which
                        attribute-exchange configuration to use during authentication.</fo:block></fo:block></fo:block><fo:block id="nsa-attribute-exchange-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;attribute-exchange&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9750"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9751"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-openid-attribute"><fo:inline>openid-attribute</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-openid-attribute"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;openid-attribute&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;openid-attribute&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Attributes used when making an OpenID AX
                <fo:basic-link external-destination="url(http://openid.net/specs/openid-attribute-exchange-1_0.html#fetch_request)"><fo:inline>
                    Fetch Request</fo:inline></fo:basic-link><fo:inline hyphenate="false"> [<fo:basic-link external-destination="url(http://openid.net/specs/openid-attribute-exchange-1_0.html#fetch_request)">http://openid.net/specs/openid-attribute-exchange-1_0.html#fetch_request</fo:basic-link>]</fo:inline></fo:block><fo:block id="nsa-openid-attribute-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;openid-attribute&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9767"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9768"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-attribute-exchange"><fo:inline>attribute-exchange</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-openid-attribute-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;openid-attribute&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-openid-attribute-count"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">count</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies the number of attributes that you wish to get back. For example, return 3 emails.
                        The default value is 1.</fo:block></fo:block><fo:block id="nsa-openid-attribute-name"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">name</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies the name of the attribute that you wish to get back. For example, email.</fo:block></fo:block><fo:block id="nsa-openid-attribute-required"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">required</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies if this attribute is required to the OP, but does not error out if the OP does not
                        return the attribute. Default is false.</fo:block></fo:block><fo:block id="nsa-openid-attribute-type"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">type</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies the attribute type. For example, http://axschema.org/contact/email. See your OP's
                        documentation for valid attribute types.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-port-mappings"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;port-mappings&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;port-mappings&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> By default, an instance of <fo:inline font-family="monospace">PortMapperImpl</fo:inline> will be added to
                the configuration for use in redirecting to secure and insecure URLs. This element
                can optionally be used to override the default mappings which that class defines.
                Each child <fo:inline font-family="monospace">&lt;port-mapping&gt;</fo:inline> element defines a pair of
                HTTP:HTTPS ports. The default mappings are 80:443 and 8080:8443. An example of
                overriding these can be found in the <fo:basic-link internal-destination="ns-requires-channel"><fo:inline>namespace introduction</fo:inline></fo:basic-link>. </fo:block><fo:block id="nsa-port-mappings-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;port-mappings&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9820"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9821"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-port-mappings-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;port-mappings&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9829"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9830"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-port-mapping"><fo:inline>port-mapping</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-port-mapping"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;port-mapping&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;port-mapping&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Provides a method to map http ports to https ports when forcing a redirect.</fo:block><fo:block id="nsa-port-mapping-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;port-mapping&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9844"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9845"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-port-mappings"><fo:inline>port-mappings</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-port-mapping-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;port-mapping&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-port-mapping-http"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">http</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The http port to use.</fo:block></fo:block><fo:block id="nsa-port-mapping-https"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">https</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The https port to use.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-remember-me"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;remember-me&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;remember-me&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Adds the <fo:inline font-family="monospace">RememberMeAuthenticationFilter</fo:inline> to the stack. This
                in turn will be configured with either a
                <fo:inline font-family="monospace">TokenBasedRememberMeServices</fo:inline>, a
                <fo:inline font-family="monospace">PersistentTokenBasedRememberMeServices</fo:inline> or a user-specified
                bean implementing <fo:inline font-family="monospace">RememberMeServices</fo:inline> depending on the
                attribute settings. </fo:block><fo:block id="nsa-remember-me-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;remember-me&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e9888"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e9889"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-remember-me-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;remember-me&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-remember-me-authentication-success-handler-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-success-handler-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Sets the <fo:inline font-family="monospace">authenticationSuccessHandler</fo:inline> property on the
                        <fo:inline font-family="monospace">RememberMeAuthenticationFilter</fo:inline> if custom navigation is required.
                        The value should be the name of a <fo:inline font-family="monospace">AuthenticationSuccessHandler</fo:inline>
                        bean in the application context. </fo:block></fo:block><fo:block id="nsa-remember-me-data-source-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">data-source-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A reference to a <fo:inline font-family="monospace">DataSource</fo:inline> bean. If this is set,
                        <fo:inline font-family="monospace">PersistentTokenBasedRememberMeServices</fo:inline> will be used and configured with a
                        <fo:inline font-family="monospace">JdbcTokenRepositoryImpl</fo:inline> instance. </fo:block></fo:block><fo:block id="nsa-remember-me-key"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">key</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Maps to the "key" property of
                        <fo:inline font-family="monospace">AbstractRememberMeServices</fo:inline>. Should be set to a unique
                        value to ensure that remember-me cookies are only valid within the one
                        application <fo:footnote><fo:inline><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">3</fo:inline></fo:inline><fo:footnote-body font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" text-align="justify" start-indent="0pt" text-indent="0pt" hyphenate="false" wrap-option="wrap" linefeed-treatment="treat-as-space"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">3</fo:inline>This doesn't affect the use of
                            <fo:inline font-family="monospace">PersistentTokenBasedRememberMeServices</fo:inline>, where the
                            tokens are stored on the server side.</fo:block></fo:footnote-body></fo:footnote>. If this is not set a secure random value will be generated. Since generating secure
                        random values can take a while, setting this value explicitly can help improve startup times when
                        using the remember me functionality.</fo:block></fo:block><fo:block id="nsa-remember-me-services-alias"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">services-alias</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Exports the internally defined <fo:inline font-family="monospace">RememberMeServices</fo:inline> as a bean alias,
                        allowing it to be used by other beans in the application context.</fo:block></fo:block><fo:block id="nsa-remember-me-services-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">services-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Allows complete control of the
                        <fo:inline font-family="monospace">RememberMeServices</fo:inline> implementation that will be
                        used by the filter. The value should be the <fo:inline font-family="monospace">id</fo:inline> of a bean in the application
                        context which implements this interface. Should also implement
                        <fo:inline font-family="monospace">LogoutHandler</fo:inline> if a logout filter is in use.</fo:block></fo:block><fo:block id="nsa-remember-me-token-repository-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">token-repository-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Configures a <fo:inline font-family="monospace">PersistentTokenBasedRememberMeServices</fo:inline>
                        but allows the use of a custom
                        <fo:inline font-family="monospace">PersistentTokenRepository</fo:inline> bean. </fo:block></fo:block><fo:block id="nsa-remember-me-token-validity-seconds"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">token-validity-seconds</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Maps to the <fo:inline font-family="monospace">tokenValiditySeconds</fo:inline> property of
                        <fo:inline font-family="monospace">AbstractRememberMeServices</fo:inline>. Specifies the period in
                        seconds for which the remember-me cookie should be valid. By default it will be
                        valid for 14 days. </fo:block></fo:block><fo:block id="nsa-remember-me-use-secure-cookie"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">use-secure-cookie</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">It is recommended that remember-me cookies are only submitted over HTTPS and thus should
                        be flagged as <fo:inline>“secure”</fo:inline>. By default, a secure cookie will be used if the
                        connection over which the login request is made is secure (as it should be).
                        If you set this property to <fo:inline font-family="monospace">false</fo:inline>, secure cookies will not be used.
                        Setting it to <fo:inline font-family="monospace">true</fo:inline> will always set the secure flag on the cookie.
                        This attribute maps to the <fo:inline font-family="monospace">useSecureCookie</fo:inline> property of
                        <fo:inline font-family="monospace">AbstractRememberMeServices</fo:inline>.
                    </fo:block></fo:block><fo:block id="nsa-remember-me-user-service-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-service-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The remember-me services implementations require access to a
                        <fo:inline font-family="monospace">UserDetailsService</fo:inline>, so there has to be one
                        defined in the application context. If there is only one, it will be selected
                        and used automatically by the namespace configuration. If there are multiple
                        instances, you can specify a bean <fo:inline font-family="monospace">id</fo:inline> explicitly using this attribute. </fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-request-cache"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;request-cache&gt;</fo:inline> Element</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;request-cache&gt;</fo:inline> Element</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Sets the <fo:inline font-family="monospace">RequestCache</fo:inline> instance which will be used
                by the <fo:inline font-family="monospace">ExceptionTranslationFilter</fo:inline> to store request
                information before invoking an
                <fo:inline font-family="monospace">AuthenticationEntryPoint</fo:inline>. </fo:block><fo:block id="nsa-request-cache-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;request-cache&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10045"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10046"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-request-cache-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;request-cache&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-request-cache-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean that is a <fo:inline font-family="monospace">RequestCache</fo:inline>.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-session-management"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;session-management&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;session-management&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Session-management related functionality is implemented by the addition of a
                <fo:inline font-family="monospace">SessionManagementFilter</fo:inline> to the filter stack.</fo:block><fo:block id="nsa-session-management-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;session-management&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10077"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10078"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-session-management-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;session-management&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-session-management-invalid-session-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">invalid-session-url</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Setting this attribute will inject the <fo:inline font-family="monospace">SessionManagementFilter</fo:inline>
                        with a <fo:inline font-family="monospace">SimpleRedirectInvalidSessionStrategy</fo:inline> configured with
                        the attribute value. When an invalid session ID is submitted, the strategy will be invoked,
                        redirecting to the configured URL.
                    </fo:block></fo:block><fo:block id="nsa-session-management-session-authentication-error-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">session-authentication-error-url</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines the URL of the error page which should be shown when the SessionAuthenticationStrategy
                        raises an exception. If not set, an unauthorized (402) error code will be returned to the client.
                        Note that this attribute doesn't apply if the error occurs during a form-based login, where the URL
                        for authentication failure will take precedence.</fo:block></fo:block><fo:block id="nsa-session-management-session-authentication-strategy-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">session-authentication-strategy-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Allows injection of the SessionAuthenticationStrategy instance used by the
                        SessionManagementFilter</fo:block></fo:block><fo:block id="nsa-session-management-session-fixation-protection"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">session-fixation-protection</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Indicates whether an existing session should be invalidated when a user
                        authenticates and a new session started. If set to "none" no change will be
                        made. "newSession" will create a new empty session. "migrateSession" will create
                        a new session and copy the session attributes to the new session. Defaults to
                        "migrateSession".</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If session fixation protection is enabled, the
                        <fo:inline font-family="monospace">SessionManagementFilter</fo:inline> is injected with an appropriately
                        configured <fo:inline font-family="monospace">DefaultSessionAuthenticationStrategy</fo:inline>. See the
                        Javadoc for this class for more details. </fo:block></fo:block></fo:block><fo:block id="nsa-session-management-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child elements of <fo:inline font-family="monospace">&lt;session-management&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10129"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10130"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-concurrency-control"><fo:inline>concurrency-control</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-concurrency-control"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;concurrency-control&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;concurrency-control&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Adds support for concurrent session control, allowing limits to be placed on the
                number of active sessions a user can have. A
                <fo:inline font-family="monospace">ConcurrentSessionFilter</fo:inline> will be created, and a
                <fo:inline font-family="monospace">ConcurrentSessionControlStrategy</fo:inline> will be used with the
                <fo:inline font-family="monospace">SessionManagementFilter</fo:inline>. If a <fo:inline font-family="monospace">form-login</fo:inline>
                element has been declared, the strategy object will also be injected into the
                created authentication filter. An instance of
                <fo:inline font-family="monospace">SessionRegistry</fo:inline> (a
                <fo:inline font-family="monospace">SessionRegistryImpl</fo:inline> instance unless the user wishes to use a
                custom bean) will be created for use by the strategy.</fo:block><fo:block id="nsa-concurrency-control-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;concurrency-control&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10162"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10163"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-session-management"><fo:inline>session-management</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-concurrency-control-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;concurrency-control&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-concurrency-control-error-if-maximum-exceeded"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">error-if-maximum-exceeded</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If set to "true" a
                        <fo:inline font-family="monospace">SessionAuthenticationException</fo:inline> will be raised
                        when a user attempts to exceed the maximum allowed number of sessions. The
                        default behaviour is to expire the original session. </fo:block></fo:block><fo:block id="nsa-concurrency-control-expired-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">expired-url</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The URL a user will be redirected to if they attempt to use a session which
                        has been "expired" by the concurrent session controller because the user has
                        exceeded the number of allowed sessions and has logged in again elsewhere.
                        Should be set unless <fo:inline font-family="monospace">exception-if-maximum-exceeded</fo:inline> is set. If
                        no value is supplied, an expiry message will just be written directly back to
                        the response. </fo:block></fo:block><fo:block id="nsa-concurrency-control-max-sessions"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">max-sessions</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Maps to the <fo:inline font-family="monospace">maximumSessions</fo:inline> property of
                        <fo:inline font-family="monospace">ConcurrentSessionControlStrategy</fo:inline>.</fo:block></fo:block><fo:block id="nsa-concurrency-control-session-registry-alias"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">session-registry-alias</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> It can also be useful to have a reference to the internal session registry
                        for use in your own beans or an admin interface. You can expose the internal bean
                        using the <fo:inline font-family="monospace">session-registry-alias</fo:inline> attribute, giving it a name
                        that you can use elsewhere in your configuration. </fo:block></fo:block><fo:block id="nsa-concurrency-control-session-registry-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">session-registry-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> The user can supply their own <fo:inline font-family="monospace">SessionRegistry</fo:inline>
                        implementation using the <fo:inline font-family="monospace">session-registry-ref</fo:inline> attribute. The
                        other concurrent session control beans will be wired up to use it. </fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-x509"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;x509&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;x509&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Adds support for X.509 authentication. An
                <fo:inline font-family="monospace">X509AuthenticationFilter</fo:inline> will be added to the stack and an
                <fo:inline font-family="monospace">Http403ForbiddenEntryPoint</fo:inline> bean will be created. The latter
                will only be used if no other authentication mechanisms are in use (its only
                functionality is to return an HTTP 403 error code). A
                <fo:inline font-family="monospace">PreAuthenticatedAuthenticationProvider</fo:inline> will also be created
                which delegates the loading of user authorities to a
                <fo:inline font-family="monospace">UserDetailsService</fo:inline>. </fo:block><fo:block id="nsa-x509-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;x509&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10245"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10246"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-http"><fo:inline>http</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-x509-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;x509&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-x509-authentication-details-source-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-details-source-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A reference to an <fo:inline font-family="monospace">AuthenticationDetailsSource</fo:inline></fo:block></fo:block><fo:block id="nsa-x509-subject-principal-regex"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">subject-principal-regex</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Defines a regular expression which will be used to extract the username from
                        the certificate (for use with the
                        <fo:inline font-family="monospace">UserDetailsService</fo:inline>). </fo:block></fo:block><fo:block id="nsa-x509-user-service-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-service-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Allows a specific <fo:inline font-family="monospace">UserDetailsService</fo:inline> to be
                        used with X.509 in the case where multiple instances are configured. If not set,
                        an attempt will be made to locate a suitable instance automatically and use
                        that. </fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-filter-chain-map"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;filter-chain-map&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;filter-chain-map&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Used to explicitly configure a FilterChainProxy instance with a FilterChainMap</fo:block><fo:block id="nsa-filter-chain-map-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;filter-chain-map&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-filter-chain-map-path-type"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">path-type</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Superseded by the
                        <fo:basic-link internal-destination="nsa-filter-chain-map-request-matcher"><fo:inline>request-matcher</fo:inline></fo:basic-link> attribute</fo:block></fo:block><fo:block id="nsa-filter-chain-map-request-matcher"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">request-matcher</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Supersedes the 'path-type' attribute. Defines the strategy use for matching incoming requests.
                        Currently the options are 'ant' (for ant path patterns), 'regex' for regular expressions and 'ciRegex' for
                        case-insensitive regular expressions.</fo:block></fo:block></fo:block><fo:block id="nsa-filter-chain-map-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;filter-chain-map&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10311"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10312"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-filter-chain"><fo:inline>filter-chain</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-filter-chain"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;filter-chain&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;filter-chain&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Used within to define a specific URL pattern and the list of filters which apply to the URLs matching
                that pattern. When multiple filter-chain elements are assembled in a list in order to configure a FilterChainProxy,
                the most specific patterns must be placed at the top of the list, with most general ones at the bottom.</fo:block><fo:block id="nsa-filter-chain-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;filter-chain&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10326"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10327"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-filter-chain-map"><fo:inline>filter-chain-map</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-filter-chain-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;filter-chain&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-filter-chain-filters"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">filters</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A comma separated list of references to Spring beans that implement
                        <fo:inline font-family="monospace">Filter</fo:inline>. The value "none" means that no
                        <fo:inline font-family="monospace">Filter</fo:inline>'s should be used for this
                        <fo:inline font-family="monospace">FilterChain</fo:inline>.</fo:block></fo:block><fo:block id="nsa-filter-chain-pattern"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">pattern</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A-pattern that creates RequestMatcher in combination with the
                        <fo:basic-link internal-destination="nsa-filter-chain-map-request-matcher"><fo:inline>request-matcher</fo:inline></fo:basic-link></fo:block></fo:block><fo:block id="nsa-filter-chain-request-matcher-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">request-matcher-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A reference to a <fo:inline font-family="monospace">RequestMatcher</fo:inline> that will be used to determine if the
                        <fo:inline font-family="monospace">Filter</fo:inline>'s from the <fo:inline font-family="monospace">filters</fo:inline> attribute should be invoked.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-filter-invocation-definition-source"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;filter-invocation-definition-source&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;filter-invocation-definition-source&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Deprecated synonym for filter-security-metadata-source</fo:block><fo:block id="nsa-filter-invocation-definition-source-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;filter-invocation-definition-source&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-filter-invocation-definition-source-id"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">id</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A bean identifier, used for referring to the bean elsewhere in the context.</fo:block></fo:block><fo:block id="nsa-filter-invocation-definition-source-lowercase-comparisons"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">lowercase-comparisons</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Compare after forcing to lowercase</fo:block></fo:block><fo:block id="nsa-filter-invocation-definition-source-path-type"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">path-type</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Superseded by
                        <fo:basic-link internal-destination="nsa-filter-invocation-definition-source-request-matcher"><fo:inline>request-matcher</fo:inline></fo:basic-link></fo:block></fo:block><fo:block id="nsa-filter-invocation-definition-source-request-matcher"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">request-matcher</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Supersedes the 'path-type' attribute. Defines the strategy use for matching incoming requests.
                        Currently the options are 'ant' (for ant path patterns), 'regex' for regular expressions and 'ciRegex' for
                        case-insensitive regular expressions.</fo:block></fo:block><fo:block id="nsa-filter-invocation-definition-source-use-expressions"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">use-expressions</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Enables the use of expressions in the 'access' attributes in &lt;intercept-url&gt; elements
                        rather than the traditional list of configuration attributes. Defaults to 'false'. If
                        enabled, each attribute should contain a single boolean expression. If the expression evaluates to 'true', access will be
                        granted.</fo:block></fo:block></fo:block><fo:block id="nsa-filter-invocation-definition-source-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;filter-invocation-definition-source&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10421"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10422"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-intercept-url"><fo:inline>intercept-url</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-filter-security-metadata-source"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;filter-security-metadata-source&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;filter-security-metadata-source&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Used to explicitly configure a FilterSecurityMetadataSource bean for use with a FilterSecurityInterceptor. Usually
                only needed if you are configuring a FilterChainProxy explicitly, rather than using the
                &lt;http&gt; element. The intercept-url elements used should only contain pattern, method and access attributes. Any
                others will result in a configuration error.</fo:block><fo:block id="nsa-filter-security-metadata-source-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;filter-security-metadata-source&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-filter-security-metadata-source-id"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">id</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A bean identifier, used for referring to the bean elsewhere in the context.</fo:block></fo:block><fo:block id="nsa-filter-security-metadata-source-lowercase-comparisons"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">lowercase-comparisons</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Compare after forcing to lower case</fo:block></fo:block><fo:block id="nsa-filter-security-metadata-source-path-type"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">path-type</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Superseded by
                        <fo:basic-link internal-destination="nsa-filter-security-metadata-source-request-matcher"><fo:inline>request-matcher</fo:inline></fo:basic-link>
                        </fo:block></fo:block><fo:block id="nsa-filter-security-metadata-source-request-matcher"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">request-matcher</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Supersedes the 'path-type' attribute. Defines the strategy use for matching incoming requests.
                        Currently the options are 'ant' (for ant path patterns), 'regex' for regular expressions and 'ciRegex' for
                        case-insensitive regular expressions.</fo:block></fo:block><fo:block id="nsa-filter-security-metadata-source-use-expressions"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">use-expressions</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Enables the use of expressions in the 'access' attributes in
                        &lt;intercept-url&gt; elements rather than the traditional list of configuration attributes. Defaults to 'false'. If
                        enabled, each attribute should contain a single boolean expression. If the expression evaluates to 'true',
                        access will be granted.</fo:block></fo:block></fo:block><fo:block id="nsa-filter-security-metadata-source-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;filter-security-metadata-source&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10474"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10475"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-intercept-url"><fo:inline>intercept-url</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block></fo:block><fo:block id="nsa-authentication"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Authentication Services</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">B.2 Authentication Services</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Before Spring Security 3.0, an <fo:inline font-family="monospace">AuthenticationManager</fo:inline>
            was automatically registered internally. Now you must register one explicitly using the
            <fo:inline font-family="monospace">&lt;authentication-manager&gt;</fo:inline> element. This creates an instance of
            Spring Security's <fo:inline font-family="monospace">ProviderManager</fo:inline> class, which needs to be
            configured with a list of one or more
            <fo:inline font-family="monospace">AuthenticationProvider</fo:inline> instances. These can either be
            created using syntax elements provided by the namespace, or they can be standard bean
            definitions, marked for addition to the list using the
            <fo:inline font-family="monospace">authentication-provider</fo:inline> element. </fo:block><fo:block id="nsa-authentication-manager"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;authentication-manager&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;authentication-manager&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Every Spring Security application which uses the namespace must have include this
                element somewhere. It is responsible for registering the
                <fo:inline font-family="monospace">AuthenticationManager</fo:inline> which provides authentication
                services to the application. All elements
                which create <fo:inline font-family="monospace">AuthenticationProvider</fo:inline> instances should
                be children of this element.</fo:block><fo:block id="nsa-authentication-manager-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;authentication-manager&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-authentication-manager-alias"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">alias</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This attribute allows you to define an alias name for the
                        internal instance for use in your own configuration. Its use is described in the
                        <fo:basic-link internal-destination="ns-auth-manager"><fo:inline>namespace introduction</fo:inline></fo:basic-link>.</fo:block></fo:block><fo:block id="nsa-authentication-manager-erase-credentials"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">erase-credentials</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If set to true, the AuthenticationManger will attempt to clear any credentials data in the
                        returned Authentication object, once the user has been authenticated. Literally it maps to
                        the <fo:inline font-family="monospace">eraseCredentialsAfterAuthentication</fo:inline> property of the
                        <fo:inline font-family="monospace">ProviderManager</fo:inline>. This is discussed in the <fo:basic-link internal-destination="core-services-erasing-credentials"><fo:inline>Core Services</fo:inline></fo:basic-link> chapter.</fo:block></fo:block><fo:block id="nsa-authentication-manager-id"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">id</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This attribute allows you to define an id for the internal instance for use in your own
                        configuration. It is the same a the alias element, but provides a more consistent experience
                        with elements that use the id attribute.</fo:block></fo:block></fo:block><fo:block id="nsa-authentication-manager-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;authentication-manager&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10550"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10551"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-authentication-provider"><fo:inline>authentication-provider</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10554"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-ldap-authentication-provider"><fo:inline>ldap-authentication-provider</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-authentication-provider"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Unless used with a <fo:inline font-family="monospace">ref</fo:inline> attribute, this element is
                shorthand for configuring a <fo:basic-link internal-destination="core-services-dao-provider"><fo:inline><fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline></fo:inline></fo:basic-link>.
                <fo:inline font-family="monospace">DaoAuthenticationProvider</fo:inline> loads user information from a
                <fo:inline font-family="monospace">UserDetailsService</fo:inline> and compares the
                username/password combination with the values supplied at login. The
                <fo:inline font-family="monospace">UserDetailsService</fo:inline> instance can be defined either
                by using an available namespace element (<fo:inline font-family="monospace">jdbc-user-service</fo:inline> or
                by using the <fo:inline font-family="monospace">user-service-ref</fo:inline> attribute to point to a bean
                defined elsewhere in the application context). You can find examples of these
                variations in the <fo:basic-link internal-destination="ns-auth-providers"><fo:inline>namespace
                introduction</fo:inline></fo:basic-link>. </fo:block><fo:block id="nsa-authentication-provider-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10593"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10594"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-authentication-manager"><fo:inline>authentication-manager</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-authentication-provider-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-authentication-provider-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean that implements <fo:inline font-family="monospace">AuthenticationProvider
                        </fo:inline>.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If you have written your own
                        <fo:inline font-family="monospace">AuthenticationProvider</fo:inline> implementation (or want to
                        configure one of Spring Security's own implementations as a traditional bean for
                        some reason, then you can use the following syntax to add it to the internal
                        <fo:inline font-family="monospace">ProviderManager</fo:inline>'s list: <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e10619">
<fo:inline font-weight="bold">&lt;security:authentication-manager&gt;</fo:inline>
  <fo:inline font-weight="bold">&lt;security:authentication-provider</fo:inline> <fo:inline font-weight="bold">ref</fo:inline>=<fo:inline font-weight="bold">"myAuthenticationProvider"</fo:inline><fo:inline font-weight="bold"> /&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;/security:authentication-manager&gt;</fo:inline>
<fo:inline font-weight="bold">&lt;bean</fo:inline> <fo:inline font-weight="bold">id</fo:inline>=<fo:inline font-weight="bold">"myAuthenticationProvider"</fo:inline> <fo:inline font-weight="bold">class</fo:inline>=<fo:inline font-weight="bold">"com.something.MyAuthenticationProvider"</fo:inline><fo:inline font-weight="bold">/&gt;</fo:inline>
    </fo:block></fo:block></fo:block><fo:block id="nsa-authentication-provider-user-service-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-service-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A reference to a bean that implements UserDetailsService that may be created using the standard bean
                        element or the custom user-service element.</fo:block></fo:block></fo:block><fo:block id="nsa-authentication-provider-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;authentication-provider&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10632"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10633"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-jdbc-user-service"><fo:inline>jdbc-user-service</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10636"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-ldap-user-service"><fo:inline>ldap-user-service</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10639"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-password-encoder"><fo:inline>password-encoder</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10642"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-user-service"><fo:inline>user-service</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-jdbc-user-service"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;jdbc-user-service&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;jdbc-user-service&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Causes creation of a JDBC-based UserDetailsService.</fo:block><fo:block id="nsa-jdbc-user-service-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;jdbc-user-service&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-jdbc-user-service-authorities-by-username-query"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authorities-by-username-query</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An SQL statement to query for a user's granted authorities given a username.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default is
                        <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e10664">select username, authority from authorities where username = ?</fo:block></fo:block></fo:block><fo:block id="nsa-jdbc-user-service-cache-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">cache-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a cache for use with a UserDetailsService.</fo:block></fo:block><fo:block id="nsa-jdbc-user-service-data-source-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">data-source-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The bean ID of the DataSource which provides the required tables.</fo:block></fo:block><fo:block id="nsa-jdbc-user-service-group-authorities-by-username-query"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">group-authorities-by-username-query</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An SQL statement to query user's group authorities given a username.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default is
                        <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e10686">select
  g.id, g.group_name, ga.authority
from
  groups g, group_members gm, group_authorities ga
where
  gm.username = ? and g.id = ga.group_id and g.id = gm.group_id</fo:block></fo:block></fo:block><fo:block id="nsa-jdbc-user-service-id"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">id</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A bean identifier, used for referring to the bean elsewhere in the context.</fo:block></fo:block><fo:block id="nsa-jdbc-user-service-role-prefix"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">role-prefix</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A non-empty string prefix that will be added to role strings loaded from persistent
                        storage (default is "ROLE_"). Use the value "none" for no prefix in cases where the default is non-empty.</fo:block></fo:block><fo:block id="nsa-jdbc-user-service-users-by-username-query"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">users-by-username-query</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An SQL statement to query a username, password, and enabled status given a username.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The default is
                        <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e10708">select username, password, enabled from users where username = ?</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-password-encoder"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;password-encoder&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;password-encoder&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Authentication providers can optionally be configured to use a password
                encoder as described in the <fo:basic-link internal-destination="ns-password-encoder"><fo:inline>namespace introduction</fo:inline></fo:basic-link>. This will result in the bean being injected
                with the appropriate <fo:inline font-family="monospace">PasswordEncoder</fo:inline>
                instance, potentially with an accompanying
                <fo:inline font-family="monospace">SaltSource</fo:inline> bean to provide salt values for
                hashing. </fo:block><fo:block id="nsa-password-encoder-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;password-encoder&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10730"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10731"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-authentication-provider"><fo:inline>authentication-provider</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10734"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-password-compare"><fo:inline>password-compare</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-password-encoder-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;password-encoder&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-password-encoder-base64"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">base64</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Whether a string should be base64 encoded</fo:block></fo:block><fo:block id="nsa-password-encoder-hash"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">hash</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines the hashing algorithm used on user passwords. We recommend strongly against using
                        MD4, as it is a very weak hashing algorithm.</fo:block></fo:block><fo:block id="nsa-password-encoder-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean that implements <fo:inline font-family="monospace">PasswordEncoder
                        </fo:inline>.</fo:block></fo:block></fo:block><fo:block id="nsa-password-encoder-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;password-encoder&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10768"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10769"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-salt-source"><fo:inline>salt-source</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-salt-source"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;salt-source&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;salt-source&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Password salting strategy. A system-wide constant or a property from the UserDetails object
                can be used.</fo:block><fo:block id="nsa-salt-source-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;salt-source&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10783"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10784"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-password-encoder"><fo:inline>password-encoder</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-salt-source-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;salt-source&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-salt-source-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean Id.</fo:block></fo:block><fo:block id="nsa-salt-source-system-wide"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">system-wide</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A single value that will be used as the salt for a password encoder.</fo:block></fo:block><fo:block id="nsa-salt-source-user-property"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-property</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A property of the UserDetails object which will be used as salt by a password encoder.
                        Typically something like "username" might be used.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-user-service"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;user-service&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;user-service&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Creates an in-memory UserDetailsService from a properties file or a list of "user" child
                elements. Usernames are converted to lower-case internally to allow for case-insensitive lookups, so
                this should not be used if case-sensitivity is required.</fo:block><fo:block id="nsa-user-service-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;user-service&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-user-service-id"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">id</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A bean identifier, used for referring to the bean elsewhere in the context.</fo:block></fo:block><fo:block id="nsa-user-service-properties"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">properties</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The location of a Properties file where each line is in the format of
                        <fo:block space-before.minimum="1em" space-before.optimum="1em" space-before.maximum="1em" space-after.minimum="0.1em" space-after.optimum="0.1em" space-after.maximum="0.1em" hyphenate="false" wrap-option="no-wrap" white-space-collapse="false" white-space-treatment="preserve" linefeed-treatment="preserve" text-align="start" border-color="#444444" border-style="solid" border-width="0.1pt" padding-top="0.5em" padding-left="0.5em" padding-right="0.5em" padding-bottom="0.5em" margin-left="0.5em" margin-right="0.5em" font-family="monospace" font-size="8pt" background-color="#F0F0F0" id="d0e10833">username=password,grantedAuthority[,grantedAuthority][,enabled|disabled]</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-user-service-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;user-service&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10840"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10841"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-user"><fo:inline>user</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-user"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;user&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;user&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Represents a user in the application.</fo:block><fo:block id="nsa-user-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;user&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e10855"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e10856"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-user-service"><fo:inline>user-service</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-user-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;user&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-user-authorities"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authorities</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">One of more authorities granted to the user. Separate authorities with a comma
                        (but no space). For example, "ROLE_USER,ROLE_ADMINISTRATOR"</fo:block></fo:block><fo:block id="nsa-user-disabled"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">disabled</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Can be set to "true" to mark an account as disabled and unusable.</fo:block></fo:block><fo:block id="nsa-user-locked"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">locked</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Can be set to "true" to mark an account as locked and unusable.</fo:block></fo:block><fo:block id="nsa-user-name"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">name</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The username assigned to the user.</fo:block></fo:block><fo:block id="nsa-user-password"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">password</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The password assigned to the user. This may be hashed if the corresponding
                        authentication provider supports hashing (remember to set the "hash" attribute of the
                        "user-service" element). This attribute be omitted in the case where the data will
                        not be used for authentication, but only for accessing authorities. If omitted, the
                        namespace will generate a random value, preventing its accidental use for
                        authentication. Cannot be empty.</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-method-security"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Method Security</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">B.3 Method Security</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-global-method-security"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This element is the primary means of adding support for securing methods on
                Spring Security beans. Methods can be secured by the use of annotations (defined at
                the interface or class level) or by defining a set of pointcuts as child elements,
                using AspectJ syntax. </fo:block><fo:block id="nsa-global-method-security-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-global-method-security-access-decision-manager-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">access-decision-manager-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Method security uses the same <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>
                        configuration as web security, but this can be overridden using this attribute. By default
                        an AffirmativeBased implementation is used for with a RoleVoter and an AuthenticatedVoter. </fo:block></fo:block><fo:block id="nsa-global-method-security-authentication-manager-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">authentication-manager-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A reference to an <fo:inline font-family="monospace">AuthenticationManager</fo:inline>
                        that should be used for method security.</fo:block></fo:block><fo:block id="nsa-global-method-security-jsr250-annotations"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">jsr250-annotations</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies whether JSR-250 style attributes are to be used (for example "RolesAllowed"). This
                        will require the javax.annotation.security classes on the classpath. Setting this to true also
                        adds a <fo:inline font-family="monospace">Jsr250Voter</fo:inline> to the
                        <fo:inline font-family="monospace">AccessDecisionManager</fo:inline>, so you need to make sure you do this if
                        you are using a custom implementation and want to use these annotations.</fo:block></fo:block><fo:block id="nsa-global-method-security-metadata-source-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">&lt;metadata-source-ref&gt;</fo:inline> Attribute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> An external <fo:inline font-family="monospace">MethodSecurityMetadataSource</fo:inline>
                        instance can be supplied which will take priority over other sources
                        (such as the default annotations).
                    </fo:block></fo:block><fo:block id="nsa-global-method-security-mode"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt">The <fo:inline font-family="monospace">mode</fo:inline> Attribute</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This attribute can be set to <fo:inline>“aspectj”</fo:inline> to specify that AspectJ
                        should be used instead of the default Spring AOP. Secured methods must be woven
                        with the <fo:inline font-family="monospace">AnnotationSecurityAspect</fo:inline> from the
                        <fo:inline font-family="monospace">spring-security-aspects</fo:inline> module. </fo:block></fo:block><fo:block id="nsa-global-method-security-order"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">order</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Allows the advice "order" to be set for the method security interceptor.</fo:block></fo:block><fo:block id="nsa-global-method-security-pre-post-annotations"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">pre-post-annotations</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies whether the use of Spring Security's pre and post invocation annotations (@PreFilter,
                        @PreAuthorize, @PostFilter, @PostAuthorize) should be enabled for this application context.
                        Defaults to "disabled".</fo:block></fo:block><fo:block id="nsa-global-method-security-proxy-target-class"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">proxy-target-class</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If true, class based proxying will be used instead of interface based proxying.</fo:block></fo:block><fo:block id="nsa-global-method-security-run-as-manager-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">run-as-manager-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A reference to an optional <fo:inline font-family="monospace">RunAsManager</fo:inline> implementation which
                        will be used by the configured <fo:inline font-family="monospace">MethodSecurityInterceptor</fo:inline></fo:block></fo:block><fo:block id="nsa-global-method-security-secured-annotations"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">secured-annotations</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies whether the use of Spring Security's @Secured annotations should be enabled for this
                        application context. Defaults to "disabled".</fo:block></fo:block></fo:block><fo:block id="nsa-global-method-security-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11005"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11006"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-after-invocation-provider"><fo:inline>after-invocation-provider</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11009"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-expression-handler"><fo:inline>expression-handler</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11012"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-pre-post-annotation-handling"><fo:inline>pre-post-annotation-handling</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11015"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-protect-pointcut"><fo:inline>protect-pointcut</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-after-invocation-provider"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;after-invocation-provider&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;after-invocation-provider&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This element can be used to decorate an
                <fo:inline font-family="monospace">AfterInvocationProvider</fo:inline> for use by the security
                interceptor maintained by the <fo:inline font-family="monospace">&lt;global-method-security&gt;</fo:inline>
                namespace. You can define zero or more of these within the
                <fo:inline font-family="monospace">global-method-security</fo:inline> element, each with a
                <fo:inline font-family="monospace">ref</fo:inline> attribute pointing to an
                <fo:inline font-family="monospace">AfterInvocationProvider</fo:inline> bean instance within your
                application context. </fo:block><fo:block id="nsa-after-invocation-provider-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;after-invocation-provider&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11044"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11045"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-global-method-security"><fo:inline>global-method-security</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-after-invocation-provider-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;after-invocation-provider&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-after-invocation-provider-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean that implements <fo:inline font-family="monospace">
                            AfterInvocationProvider</fo:inline>.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-pre-post-annotation-handling"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;pre-post-annotation-handling&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;pre-post-annotation-handling&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Allows the default expression-based mechanism for handling Spring Security's pre and post invocation
                annotations (@PreFilter, @PreAuthorize, @PostFilter, @PostAuthorize) to be replace entirely. Only
                applies if these annotations are enabled.</fo:block><fo:block id="nsa-pre-post-annotation-handling-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;pre-post-annotation-handling&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11073"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11074"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-global-method-security"><fo:inline>global-method-security</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-pre-post-annotation-handling-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;pre-post-annotation-handling&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11082"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11083"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-invocation-attribute-factory"><fo:inline>invocation-attribute-factory</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11086"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-post-invocation-advice"><fo:inline>post-invocation-advice</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11089"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-pre-invocation-advice"><fo:inline>pre-invocation-advice</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-invocation-attribute-factory"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;invocation-attribute-factory&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;invocation-attribute-factory&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines the PrePostInvocationAttributeFactory instance which is used to generate pre and post
                invocation metadata from the annotated methods.</fo:block><fo:block id="nsa-invocation-attribute-factory-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;invocation-attribute-factory&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11103"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11104"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-pre-post-annotation-handling"><fo:inline>pre-post-annotation-handling</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-invocation-attribute-factory-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;invocation-attribute-factory&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-invocation-attribute-factory-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean Id.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-post-invocation-advice"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;post-invocation-advice&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;post-invocation-advice&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Customizes the <fo:inline font-family="monospace">PostInvocationAdviceProvider</fo:inline> with the ref as the
                <fo:inline font-family="monospace">PostInvocationAuthorizationAdvice</fo:inline> for the &lt;pre-post-annotation-handling&gt;
                element.</fo:block><fo:block id="nsa-post-invocation-advice-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;post-invocation-advice&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11135"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11136"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-pre-post-annotation-handling"><fo:inline>pre-post-annotation-handling</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-post-invocation-advice-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;post-invocation-advice&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-post-invocation-advice-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean Id.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-pre-invocation-advice"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;pre-invocation-advice&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;pre-invocation-advice&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Customizes the <fo:inline font-family="monospace">PreInvocationAuthorizationAdviceVoter</fo:inline> with the ref as the
                <fo:inline font-family="monospace">PreInvocationAuthorizationAdviceVoter</fo:inline> for the
                &lt;pre-post-annotation-handling&gt; element.</fo:block><fo:block id="nsa-pre-invocation-advice-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;pre-invocation-advice&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11167"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11168"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-pre-post-annotation-handling"><fo:inline>pre-post-annotation-handling</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-pre-invocation-advice-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;pre-invocation-advice&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-pre-invocation-advice-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a Spring bean Id.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-protect-pointcut"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Securing Methods using <fo:inline font-family="monospace">&lt;protect-pointcut&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Securing Methods using <fo:inline font-family="monospace">&lt;protect-pointcut&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> Rather than defining security attributes on an individual method or class
                basis using the <fo:inline font-family="monospace">@Secured</fo:inline> annotation, you can define
                cross-cutting security constraints across whole sets of methods and interfaces
                in your service layer using the <fo:inline font-family="monospace">&lt;protect-pointcut&gt;</fo:inline>
                element. You can find an example in the <fo:basic-link internal-destination="ns-protect-pointcut"><fo:inline>namespace introduction</fo:inline></fo:basic-link>.</fo:block><fo:block id="nsa-protect-pointcut-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;protect-pointcut&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11203"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11204"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-global-method-security"><fo:inline>global-method-security</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-protect-pointcut-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;protect-pointcut&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-protect-pointcut-access"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">access</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Access configuration attributes list that applies to all methods matching the pointcut,
                        e.g. "ROLE_A,ROLE_B"</fo:block></fo:block><fo:block id="nsa-protect-pointcut-expression"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">expression</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">An AspectJ expression, including the 'execution' keyword. For example, 'execution(int
                        com.foo.TargetObject.countLength(String))' (without the quotes).</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-intercept-methods"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;intercept-methods&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;intercept-methods&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Can be used inside a bean definition to add a security interceptor to the bean and set up access
                configuration attributes for the bean's methods</fo:block><fo:block id="nsa-intercept-methods-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;intercept-methods&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-intercept-methods-access-decision-manager-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">access-decision-manager-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Optional AccessDecisionManager bean ID to be used by the created method security interceptor.</fo:block></fo:block></fo:block><fo:block id="nsa-intercept-methods-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;intercept-methods&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11246"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11247"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-protect"><fo:inline>protect</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-method-security-metadata-source"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;method-security-metadata-source&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;method-security-metadata-source&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Creates a MethodSecurityMetadataSource instance</fo:block><fo:block id="nsa-method-security-metadata-source-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;method-security-metadata-source&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-method-security-metadata-source-id"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">id</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A bean identifier, used for referring to the bean elsewhere in the context.</fo:block></fo:block><fo:block id="nsa-method-security-metadata-source-use-expressions"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">use-expressions</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Enables the use of expressions in the 'access' attributes in
                        &lt;intercept-url&gt; elements rather than the traditional list of configuration attributes.
                        Defaults to 'false'. If enabled, each attribute should contain a single boolean expression.
                        If the expression evaluates to 'true', access will be granted.</fo:block></fo:block></fo:block><fo:block id="nsa-method-security-metadata-source-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;method-security-metadata-source&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11278"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11279"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-protect"><fo:inline>protect</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-protect"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;protect&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;protect&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a protected method and the access control configuration attributes that apply to it. We
                strongly advise you NOT to mix "protect" declarations with any services provided "global-method-security".</fo:block><fo:block id="nsa-protect-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;protect&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11293"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11294"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-intercept-methods"><fo:inline>intercept-methods</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11297"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-method-security-metadata-source"><fo:inline>method-security-metadata-source</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-protect-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;protect&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-protect-access"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">access</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Access configuration attributes list that applies to the method, e.g. "ROLE_A,ROLE_B".</fo:block></fo:block><fo:block id="nsa-protect-method"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">method</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A method name</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-ldap"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">LDAP Namespace Options</fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">B.4 LDAP Namespace Options</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> LDAP is covered in some details in <fo:basic-link internal-destination="ldap"><fo:inline>its own
            chapter</fo:inline></fo:basic-link>. We will expand on that here with some explanation of how the
            namespace options map to Spring beans. The LDAP implementation uses Spring LDAP
            extensively, so some familiarity with that project's API may be useful. </fo:block><fo:block id="nsa-ldap-server"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker">Defining the LDAP Server using the <fo:inline font-family="monospace">&lt;ldap-server&gt;</fo:inline>
                Element</fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Defining the LDAP Server using the <fo:inline font-family="monospace">&lt;ldap-server&gt;</fo:inline>
                Element</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This element sets up a Spring LDAP
                <fo:inline font-family="monospace">ContextSource</fo:inline> for use by the other LDAP beans,
                defining the location of the LDAP server and other information (such as a
                username and password, if it doesn't allow anonymous access) for connecting to
                it. It can also be used to create an embedded server for testing. Details of the
                syntax for both options are covered in the <fo:basic-link internal-destination="ldap-server"><fo:inline>LDAP
                chapter</fo:inline></fo:basic-link>. The actual <fo:inline font-family="monospace">ContextSource</fo:inline>
                implementation is <fo:inline font-family="monospace">DefaultSpringSecurityContextSource</fo:inline>
                which extends Spring LDAP's <fo:inline font-family="monospace">LdapContextSource</fo:inline> class. The
                <fo:inline font-family="monospace">manager-dn</fo:inline> and <fo:inline font-family="monospace">manager-password</fo:inline> attributes
                map to the latter's <fo:inline font-family="monospace">userDn</fo:inline> and <fo:inline font-family="monospace">password</fo:inline>
                properties respectively. </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> If you only have one server defined in your application context, the other
                LDAP namespace-defined beans will use it automatically. Otherwise, you can give
                the element an "id" attribute and refer to it from other namespace beans using
                the <fo:inline font-family="monospace">server-ref</fo:inline> attribute. This is actually the bean <fo:inline font-family="monospace">id</fo:inline> of the
                <fo:inline font-family="monospace">ContextSource</fo:inline> instance, if you want to use it in other
                traditional Spring beans. </fo:block><fo:block id="nsa-ldap-server-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;ldap-server&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-ldap-server-id"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">id</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A bean identifier, used for referring to the bean elsewhere in the context.</fo:block></fo:block><fo:block id="nsa-ldap-server-ldif"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">ldif</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Explicitly specifies an ldif file resource to load into an embedded LDAP server. The ldiff
                        is should be a Spring resource pattern (i.e. classpath:init.ldiff). The default is
                        classpath*:*.ldiff</fo:block></fo:block><fo:block id="nsa-ldap-server-manager-dn"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">manager-dn</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Username (DN) of the "manager" user identity which will be used to authenticate to a
                        (non-embedded) LDAP server. If omitted, anonymous access will be used.</fo:block></fo:block><fo:block id="nsa-ldap-server-manager-password"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">manager-password</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The password for the manager DN. This is required if the manager-dn is specified.</fo:block></fo:block><fo:block id="nsa-ldap-server-port"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">port</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies an IP port number. Used to configure an embedded LDAP server, for example. The
                        default value is 33389.</fo:block></fo:block><fo:block id="nsa-ldap-server-root"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">root</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Optional root suffix for the embedded LDAP server. Default is "dc=springframework,dc=org"
                        </fo:block></fo:block><fo:block id="nsa-ldap-server-url"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">url</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Specifies the ldap server URL when not using the embedded LDAP server.</fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;ldap-authentication-provider&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;ldap-authentication-provider&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This element is shorthand for the creation of an
                <fo:inline font-family="monospace">LdapAuthenticationProvider</fo:inline> instance. By default this will
                be configured with a <fo:inline font-family="monospace">BindAuthenticator</fo:inline> instance and a
                <fo:inline font-family="monospace">DefaultAuthoritiesPopulator</fo:inline>. As with all namespace
                authentication providers, it must be included as a child of the
                <fo:inline font-family="monospace">authentication-provider</fo:inline> element.</fo:block><fo:block id="nsa-ldap-authentication-provider-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;ldap-authentication-provider&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11441"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11442"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-authentication-manager"><fo:inline>authentication-manager</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-ldap-authentication-provider-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;ldap-authentication-provider&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider-group-role-attribute"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">group-role-attribute</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The LDAP attribute name which contains the role name which will be used within Spring
                        Security. Maps to the <fo:inline font-family="monospace">DefaultLdapAuthoritiesPopulator</fo:inline>'s
                        <fo:inline font-family="monospace">groupRoleAttribute</fo:inline> property. Defaults to "cn".</fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider-group-search-base"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">group-search-base</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Search base for group membership searches. Maps to the
                        <fo:inline font-family="monospace">DefaultLdapAuthoritiesPopulator</fo:inline>'s <fo:inline font-family="monospace">groupSearchBase</fo:inline>
                        constructor argument. Defaults to "" (searching from the root).</fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider-group-search-filter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">group-search-filter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Group search filter. Maps to the <fo:inline font-family="monospace">DefaultLdapAuthoritiesPopulator</fo:inline>'s
                        <fo:inline font-family="monospace">groupSearchFilter</fo:inline> property. Defaults to (uniqueMember={0}).
                        The substituted parameter is the DN of the user.</fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider-role-prefix"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">role-prefix</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A non-empty string prefix that will be added to role strings loaded from persistent.
                        Maps to the <fo:inline font-family="monospace">DefaultLdapAuthoritiesPopulator</fo:inline>'s
                        <fo:inline font-family="monospace">rolePrefix</fo:inline> property. Defaults to "ROLE_". Use the value "none" for
                        no prefix in cases where the default is non-empty.</fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider-server-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">server-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The optional server to use. If omitted, and a default LDAP server is registered (using
                        &lt;ldap-server&gt; with no Id), that server will be used.</fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider-user-context-mapper-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-context-mapper-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Allows explicit customization of the loaded user object by specifying a
                        UserDetailsContextMapper bean which will be called with the context information
                        from the user's directory entry</fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider-user-details-class"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-details-class</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Allows the objectClass of the user entry to be specified. If set, the framework will
                        attempt to load standard attributes for the defined class into the returned UserDetails
                        object</fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider-user-dn-pattern"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-dn-pattern</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If your users are at a fixed location in the directory (i.e. you can work
                        out the DN directly from the username without doing a directory search), you
                        can use this attribute to map directly to the DN. It maps directly to the
                        <fo:inline font-family="monospace">userDnPatterns</fo:inline> property of
                        <fo:inline font-family="monospace">AbstractLdapAuthenticator</fo:inline>. The value is a specific pattern
                        used to build the user's DN, for example "uid={0},ou=people". The key
                        "{0}" must be present and will be substituted with the username.</fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider-user-search-base"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-search-base</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Search base for user searches. Defaults to "". Only used with a 'user-search-filter'.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you need to perform a search to locate the user in the directory, then
                        you can set these attributes to control the search. The
                        <fo:inline font-family="monospace">BindAuthenticator</fo:inline> will be configured with a
                        <fo:inline font-family="monospace">FilterBasedLdapUserSearch</fo:inline> and the attribute values
                        map directly to the first two arguments of that bean's constructor. If these
                        attributes aren't set and no <fo:inline font-family="monospace">user-dn-pattern</fo:inline> has been
                        supplied as an alternative, then the default search values of
                        <fo:inline font-family="monospace">user-search-filter="(uid={0})"</fo:inline> and
                        <fo:inline font-family="monospace">user-search-base=""</fo:inline> will be used. </fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider-user-search-filter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-search-filter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The LDAP filter used to search for users (optional). For example "(uid={0})". The
                        substituted parameter is the user's login name.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">If you need to perform a search to locate the user in the directory, then
                        you can set these attributes to control the search. The
                        <fo:inline font-family="monospace">BindAuthenticator</fo:inline> will be configured with a
                        <fo:inline font-family="monospace">FilterBasedLdapUserSearch</fo:inline> and the attribute values
                        map directly to the first two arguments of that bean's constructor. If these
                        attributes aren't set and no <fo:inline font-family="monospace">user-dn-pattern</fo:inline> has been
                        supplied as an alternative, then the default search values of
                        <fo:inline font-family="monospace">user-search-filter="(uid={0})"</fo:inline> and
                        <fo:inline font-family="monospace">user-search-base=""</fo:inline> will be used. </fo:block></fo:block></fo:block><fo:block id="nsa-ldap-authentication-provider-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;ldap-authentication-provider&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11579"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11580"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-password-compare"><fo:inline>password-compare</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-password-compare"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;password-compare&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;password-compare&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This is used as child element to <fo:inline font-family="monospace">&lt;ldap-provider&gt;</fo:inline>
                and switches the authentication strategy from
                <fo:inline font-family="monospace">BindAuthenticator</fo:inline> to
                <fo:inline font-family="monospace">PasswordComparisonAuthenticator</fo:inline>.</fo:block><fo:block id="nsa-password-compare-parents"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Parent Elements of <fo:inline font-family="monospace">&lt;password-compare&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11603"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11604"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-ldap-authentication-provider"><fo:inline>ldap-authentication-provider</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block><fo:block id="nsa-password-compare-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;password-compare&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-password-compare-hash"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">hash</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines the hashing algorithm used on user passwords. We recommend strongly against
                        using MD4, as it is a very weak hashing algorithm.</fo:block></fo:block><fo:block id="nsa-password-compare-password-attribute"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">password-attribute</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The attribute in the directory which contains the user password. Defaults to "userPassword".
                        </fo:block></fo:block></fo:block><fo:block id="nsa-password-compare-children"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">Child Elements of <fo:inline font-family="monospace">&lt;password-compare&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:list-block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em" provisional-label-separation="0.2em" provisional-distance-between-starts="1.0em" id="d0e11629"><fo:list-item space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em" id="d0e11630"><fo:list-item-label end-indent="label-end()"><fo:block>•</fo:block></fo:list-item-label><fo:list-item-body start-indent="body-start()"><fo:block><fo:basic-link internal-destination="nsa-password-encoder"><fo:inline>password-encoder</fo:inline></fo:basic-link></fo:block></fo:list-item-body></fo:list-item></fo:list-block></fo:block></fo:block><fo:block id="nsa-ldap-user-service"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">&lt;ldap-user-service&gt;</fo:inline></fo:marker><fo:block font-size="13.75pt" space-before.optimum="0.6em" space-before.minimum="0.6em" space-before.maximum="0.6em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;ldap-user-service&gt;</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em"> This element configures an LDAP
                <fo:inline font-family="monospace">UserDetailsService</fo:inline>. The class used is
                <fo:inline font-family="monospace">LdapUserDetailsService</fo:inline> which is a combination of a
                <fo:inline font-family="monospace">FilterBasedLdapUserSearch</fo:inline> and a
                <fo:inline font-family="monospace">DefaultLdapAuthoritiesPopulator</fo:inline>. The attributes it supports
                have the same usage as in <fo:inline font-family="monospace">&lt;ldap-provider&gt;</fo:inline>. </fo:block><fo:block id="nsa-ldap-user-service-attributes"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="11pt" space-before.optimum="0.4em" space-before.minimum="0.4em" space-before.maximum="0.4em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em"><fo:inline font-family="monospace">&lt;ldap-user-service&gt;</fo:inline> Attributes</fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block id="nsa-ldap-user-service-cache-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">cache-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Defines a reference to a cache for use with a UserDetailsService.</fo:block></fo:block><fo:block id="nsa-ldap-user-service-group-role-attribute"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">group-role-attribute</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The LDAP attribute name which contains the role name which will be used within Spring
                        Security. Defaults to "cn".</fo:block></fo:block><fo:block id="nsa-ldap-user-service-group-search-base"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">group-search-base</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Search base for group membership searches. Defaults to "" (searching from the root).</fo:block></fo:block><fo:block id="nsa-ldap-user-service-group-search-filter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">group-search-filter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Group search filter. Defaults to (uniqueMember={0}). The substituted parameter is the DN of
                        the user.</fo:block></fo:block><fo:block id="nsa-ldap-user-service-id"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">id</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A bean identifier, used for referring to the bean elsewhere in the context.</fo:block></fo:block><fo:block id="nsa-ldap-user-service-role-prefix"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">role-prefix</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">A non-empty string prefix that will be added to role strings loaded from persistent
                        storage (e.g. "ROLE_"). Use the value "none" for no prefix in cases where the default is
                        non-empty.</fo:block></fo:block><fo:block id="nsa-ldap-user-service-server-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">server-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The optional server to use. If omitted, and a default LDAP server is registered (using
                            &lt;ldap-server&gt; with no Id), that server will be used.</fo:block></fo:block><fo:block id="nsa-ldap-user-service-user-context-mapper-ref"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-context-mapper-ref</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Allows explicit customization of the loaded user object by specifying a
                        UserDetailsContextMapper bean which will be called with the context information from the
                        user's directory entry</fo:block></fo:block><fo:block id="nsa-ldap-user-service-user-details-class"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-details-class</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Allows the objectClass of the user entry to be specified. If set, the framework will
                        attempt to load standard attributes for the defined class into the returned UserDetails object
                        </fo:block></fo:block><fo:block id="nsa-ldap-user-service-user-search-base"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-search-base</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Search base for user searches. Defaults to "". Only used with a 'user-search-filter'.</fo:block></fo:block><fo:block id="nsa-ldap-user-service-user-search-filter"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:block font-size="13.2pt"><fo:inline font-family="monospace">user-search-filter</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The LDAP filter used to search for users (optional). For example "(uid={0})". The
                        substituted parameter is the user's login name.</fo:block></fo:block></fo:block></fo:block></fo:block></fo:flow></fo:page-sequence><fo:page-sequence xmlns:axf="http://www.antennahouse.com/names/XSL/Extensions" hyphenate="false" master-reference="back" language="en" format="1" initial-page-number="auto" force-page-count="no-force" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2"><fo:static-content flow-name="xsl-region-before-first"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-odd"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-even"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"><fo:table table-layout="fixed" width="100%" border-bottom-width="0.5pt" border-bottom-style="solid" border-bottom-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="center" display-align="before" relative-align="baseline"><fo:block>Spring Security </fo:block></fo:table-cell><fo:table-cell text-align="right" display-align="before" relative-align="baseline"><fo:block/></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-before-blank"><fo:block font-family="serif" margin-left="-5em" margin-right="-5em"/></fo:static-content><fo:static-content flow-name="xsl-footnote-separator"><fo:block><fo:leader color="black" leader-pattern="rule" leader-length="1in"/></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-first"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-odd"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-even"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"><fo:table table-layout="fixed" width="100%" border-top-width="0.5pt" border-top-style="solid" border-top-color="black"><fo:table-column column-number="1" column-width="proportional-column-width(1)"/><fo:table-column column-number="2" column-width="proportional-column-width(1)"/><fo:table-column column-number="3" column-width="proportional-column-width(1)"/><fo:table-body><fo:table-row block-progression-dimension.minimum="14pt"><fo:table-cell text-align="start" display-align="after" relative-align="baseline"><fo:block>3.2.0.M1</fo:block></fo:table-cell><fo:table-cell text-align="center" display-align="after" relative-align="baseline"><fo:block/></fo:table-cell><fo:table-cell text-align="end" display-align="after" relative-align="baseline"><fo:block><fo:page-number/></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block></fo:static-content><fo:static-content flow-name="xsl-region-after-blank"><fo:block font-family="serif,Symbol,ZapfDingbats" margin-left="0cm"/></fo:static-content><fo:flow flow-name="xsl-region-body" start-indent="0pt" end-indent="0pt"><fo:block id="appendix-dependencies"><fo:block><fo:block><fo:block margin-left="0cm" font-size="24.8832pt" font-weight="bold" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always" space-before.optimum="11pt" space-before.minimum="11pt * 0.8" space-before.maximum="11pt * 1.2" hyphenate="false" text-align="start" start-indent="0cm" hyphenation-character="-" hyphenation-push-character-count="2" hyphenation-remain-character-count="2">Appendix C. Spring Security Dependencies</fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">
        This appendix provides a reference of the modules in Spring Security and the additional
        dependencies that they require in order to function in a running application. We don't include
        dependenices that are only used when building or testing Spring Security itself. Nor do we include
        transitive dependencies which are required by external dependencies.
    </fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The version of Spring required is listed on the project website, so the specific versions
        are omitted for Spring dependencies below. Note that some of the dependencies listed as
        <fo:inline>“optional”</fo:inline> below may still be required for other non-security functionality in
        a Spring application. Also dependencies listed as <fo:inline>“optional”</fo:inline> may not actually be marked
        as such in the project's Maven pom files if they are used in most applications. They are
        <fo:inline>“optional”</fo:inline> only in the sense that you don't need them unless you are using the
        specified functionality.</fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Where a module depends on another Spring Security module, the non-optional dependencies of the
        module it depends on are also assumed to be required and are not listed separately.
    </fo:block><fo:block id="d0e11744"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">spring-security-core</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">C.1 <fo:inline font-family="monospace">spring-security-core</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The core module must be included in any  project using Spring Security.
            <fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="deps-core"><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-next.within-column="always">Table C.1. Core Depenendencies</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.1pt" border-end-width="0.1pt" border-top-width="0.1pt" border-bottom-width="0.1pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(2)"/><fo:table-column column-number="2"/><fo:table-column column-number="3" column-width="proportional-column-width(3)"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Dependency</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Version</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="center"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>aopalliance</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>1.0</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required for method security implementation.</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>ehcache</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>1.6.2</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if the ehcache-based user cache implementation is used (optional).</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-aop</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Method security is based on Spring AOP</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-beans</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required for Spring configuration</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-expression</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required for expression-based method security (optional)</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-jdbc</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if using a database to store user data (optional).</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-tx</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if using a database to store user data (optional).</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>aspectjrt</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>1.6.10</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if using AspectJ support (optional).</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>jsr250-api</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>1.0</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if you are using JSR-250 method-security annotations (optional).</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block>
        </fo:block></fo:block><fo:block id="d0e11834"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">spring-security-remoting</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">C.2 <fo:inline font-family="monospace">spring-security-remoting</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This module is typically required in web applications which use the Servlet API.
            <fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="deps-remoting"><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-next.within-column="always">Table C.2. Remoting Dependencies</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.1pt" border-end-width="0.1pt" border-top-width="0.1pt" border-bottom-width="0.1pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(2)"/><fo:table-column column-number="2"/><fo:table-column column-number="3" column-width="proportional-column-width(3)"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Dependency</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Version</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="center"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-core</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-web</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required for clients which use HTTP remoting support.</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block>
        </fo:block></fo:block><fo:block id="d0e11869"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">spring-security-web</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">C.3 <fo:inline font-family="monospace">spring-security-web</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This module is typically required in web applications which use the Servlet API.
            <fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="deps-web"><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-next.within-column="always">Table C.3. Web Dependencies</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.1pt" border-end-width="0.1pt" border-top-width="0.1pt" border-bottom-width="0.1pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(2)"/><fo:table-column column-number="2"/><fo:table-column column-number="3" column-width="proportional-column-width(3)"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Dependency</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Version</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="center"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-core</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-web</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Spring web support classes are used extensively.</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-jdbc</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required for JDBC-based persistent remember-me token repository (optional).</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-tx</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required by remember-me persistent token repository implementations (optional).</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block>
        </fo:block></fo:block><fo:block id="d0e11918"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">spring-security-ldap</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">C.4 <fo:inline font-family="monospace">spring-security-ldap</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This module is only required if you are using LDAP authentication.
            <fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="deps-ldap"><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-next.within-column="always">Table C.4. LDAP Dependencies</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.1pt" border-end-width="0.1pt" border-top-width="0.1pt" border-bottom-width="0.1pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(2)"/><fo:table-column column-number="2"/><fo:table-column column-number="3" column-width="proportional-column-width(3)"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Dependency</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Version</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="center"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-core</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-ldap-core</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>1.3.0</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">LDAP support is based on Spring LDAP.</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-tx</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Data exception classes are required.</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>apache-ds <fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline></fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>1.5.5</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if you are using an embedded LDAP server (optional).</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>shared-ldap</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>0.9.15</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if you are using an embedded LDAP server (optional).</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>ldapsdk</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>4.1</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" text-align="left"><fo:block>
                                <fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Mozilla LdapSDK. Used for decoding LDAP password policy controls if you are
                                    using password-policy functionality with OpenLDAP, for example.
                                </fo:block>
                            </fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table><fo:block keep-with-previous.within-column="always"><fo:block font-family="serif,Symbol,ZapfDingbats" font-size="8.8pt" font-weight="normal" font-style="normal" space-before="2pt" text-align="justify"><fo:block><fo:inline font-family="serif,Symbol,ZapfDingbats" font-size="75%" font-weight="normal" font-style="normal" baseline-shift="super">1</fo:inline>The modules <fo:inline font-family="monospace">apacheds-core</fo:inline>,
                                <fo:inline font-family="monospace">apacheds-core-entry</fo:inline>, <fo:inline font-family="monospace">apacheds-protocol-shared</fo:inline>,
                                <fo:inline font-family="monospace">apacheds-protocol-ldap</fo:inline> and <fo:inline font-family="monospace">apacheds-server-jndi</fo:inline> are required.
                            </fo:block></fo:block></fo:block></fo:block>
        </fo:block></fo:block><fo:block id="d0e12005"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">spring-security-config</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">C.5 <fo:inline font-family="monospace">spring-security-config</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">This module is required if you are using Spring Security namespace configuration.
            <fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="deps-config"><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-next.within-column="always">Table C.5. Config Dependencies</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.1pt" border-end-width="0.1pt" border-top-width="0.1pt" border-bottom-width="0.1pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(2)"/><fo:table-column column-number="2"/><fo:table-column column-number="3" column-width="proportional-column-width(3)"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Dependency</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Version</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="center"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-core</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-web</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Required if you are using any web-related namespace configuration (optional).</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-ldap</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Required if you are using the LDAP namespace options (optional).</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-openid</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Required if you are using OpenID authentication (optional).</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>aspectjweaver</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>1.6.10</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if using the protect-pointcut namespace syntax (optional).</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block>
        </fo:block></fo:block><fo:block id="d0e12059"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">spring-security-acl</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">C.6 <fo:inline font-family="monospace">spring-security-acl</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The ACL module.
            <fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="deps-acl"><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-next.within-column="always">Table C.6. ACL Dependencies</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.1pt" border-end-width="0.1pt" border-top-width="0.1pt" border-bottom-width="0.1pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(2)"/><fo:table-column column-number="2"/><fo:table-column column-number="3" column-width="proportional-column-width(3)"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Dependency</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Version</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="center"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-core</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>ehcache</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>1.6.2</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if the ehcache-based ACL cache implementation is used (optional if you are using your own implementation).</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-jdbc</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if you are using the default JDBC-based AclService (optional if you implement your own).</fo:block></fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-tx</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if you are using the default JDBC-based AclService (optional if you implement your own).</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block>
        </fo:block></fo:block><fo:block id="d0e12109"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">spring-security-cas</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">C.7 <fo:inline font-family="monospace">spring-security-cas</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The CAS module provides integration with JA-SIG CAS.
            <fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="deps-cas"><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-next.within-column="always">Table C.7. CAS Dependencies</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.1pt" border-end-width="0.1pt" border-top-width="0.1pt" border-bottom-width="0.1pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(2)"/><fo:table-column column-number="2"/><fo:table-column column-number="3" column-width="proportional-column-width(3)"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Dependency</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Version</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="center"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-core</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-web</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>cas-client-core</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>3.1.12</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>The JA-SIG CAS Client. This is the basis of the Spring Security integration.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>ehcache</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>1.6.2</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" text-align="left"><fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Required if you are using the ehcache-based ticket cache (optional).</fo:block></fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block>
        </fo:block></fo:block><fo:block id="d0e12157"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">spring-security-openid</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">C.8 <fo:inline font-family="monospace">spring-security-openid</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">The OpenID module.
            <fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="deps-openid"><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-next.within-column="always">Table C.8. OpenID Dependencies</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.1pt" border-end-width="0.1pt" border-top-width="0.1pt" border-bottom-width="0.1pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(2)"/><fo:table-column column-number="2"/><fo:table-column column-number="3" column-width="proportional-column-width(3)"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Dependency</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Version</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="center"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-core</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-web</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>openid4java-nodeps</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>0.9.6</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>Spring Security's OpenID integration uses OpenID4Java.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>httpclient</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>4.1.1</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>openid4java-nodeps depends on HttpClient 4.</fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>guice</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>2.0</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" text-align="left"><fo:block>openid4java-nodeps depends on Guice 2.</fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block>
        </fo:block></fo:block><fo:block id="d0e12211"><fo:block><fo:block><fo:block keep-together.within-column="always" margin-left="0cm" font-family="sans-serif,Symbol,ZapfDingbats"><fo:block keep-with-next.within-column="always"><fo:block font-family="sans-serif" font-weight="bold" keep-with-next.within-column="always" space-before.minimum="0.8em" space-before.optimum="1.0em" space-before.maximum="1.2em" text-align="start" start-indent="0cm"><fo:marker marker-class-name="section.head.marker"><fo:inline font-family="monospace">spring-security-taglibs</fo:inline></fo:marker><fo:block font-size="16.5pt" space-before.optimum="0.8em" space-before.minimum="0.8em" space-before.maximum="0.8em" space-after.optimum="0.1em" space-after.minimum="0.1em" space-after.maximum="0.1em">C.9 <fo:inline font-family="monospace">spring-security-taglibs</fo:inline></fo:block></fo:block></fo:block></fo:block></fo:block></fo:block><fo:block space-before.optimum="1em" space-before.minimum="0.8em" space-before.maximum="1.2em">Provides Spring Security's JSP tag implementations.
            <fo:block xmlns:rx="http://www.renderx.com/XSL/Extensions" space-before.minimum="0.5em" space-before.optimum="1em" space-before.maximum="2em" space-after.minimum="0.5em" space-after.optimum="1em" space-after.maximum="2em" keep-together.within-column="auto" id="deps-taglibs"><fo:block space-before.optimum="0.1em" space-before.minimum="0.1em" space-before.maximum="0.1em" font-weight="normal" font-size="11pt" hyphenate="false" space-after.minimum="0.4em" space-after.optimum="0.6em" space-after.maximum="0.8em" font-style="italic" keep-with-next.within-column="always">Table C.9. Taglib Dependencies</fo:block><fo:table border-before-width.conditionality="retain" border-collapse="collapse" border-start-style="solid" border-end-style="solid" border-top-style="solid" border-bottom-style="solid" border-start-width="0.1pt" border-end-width="0.1pt" border-top-width="0.1pt" border-bottom-width="0.1pt" border-start-color="black" border-end-color="black" border-top-color="black" border-bottom-color="black" table-layout="fixed" width="100%"><fo:table-column column-number="1" column-width="proportional-column-width(2)"/><fo:table-column column-number="2"/><fo:table-column column-number="3" column-width="proportional-column-width(3)"/><fo:table-header start-indent="0pt" end-indent="0pt"><fo:table-row keep-with-next.within-column="always"><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Dependency</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="center"><fo:block font-weight="bold">Version</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="center"><fo:block font-weight="bold">Description</fo:block></fo:table-cell></fo:table-row></fo:table-header><fo:table-body start-indent="0pt" end-indent="0pt"><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-core</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-web</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-security-acl</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-bottom-width="0.1pt" border-bottom-style="solid" border-bottom-color="black" text-align="left"><fo:block>
                                Required if you are using the <fo:inline font-family="monospace">accesscontrollist</fo:inline> tag or
                                <fo:inline font-family="monospace">hasPermission()</fo:inline> expressions with ACLs (optional).
                            </fo:block></fo:table-cell></fo:table-row><fo:table-row><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block>spring-expression</fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" border-end-width="0.1pt" border-end-style="solid" border-end-color="black" text-align="left"><fo:block> </fo:block></fo:table-cell><fo:table-cell padding-start="2pt" padding-end="2pt" padding-top="4pt" padding-bottom="4pt" padding-left="4pt" padding-right="4pt" text-align="left"><fo:block>Required if you are using SPEL expressions in your tag access constraints.</fo:block></fo:table-cell></fo:table-row></fo:table-body></fo:table></fo:block>
        </fo:block></fo:block></fo:flow></fo:page-sequence></fo:root>