<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_10) on Thu Jan 24 08:47:30 PST 2013 -->
<title>Log4jWebConfigurer (Spring Framework 3.2.1.RELEASE API)</title>
<meta name="date" content="2013-01-24">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Log4jWebConfigurer (Spring Framework 3.2.1.RELEASE API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>Spring Framework</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/springframework/web/util/Log4jConfigListener.html" title="class in org.springframework.web.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/springframework/web/util/NestedServletException.html" title="class in org.springframework.web.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/springframework/web/util/Log4jWebConfigurer.html" target="_top">Frames</a></li>
<li><a href="Log4jWebConfigurer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.springframework.web.util</div>
<h2 title="Class Log4jWebConfigurer" class="title">Class Log4jWebConfigurer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.springframework.web.util.Log4jWebConfigurer</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public abstract class <span class="strong">Log4jWebConfigurer</span>
extends <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">Convenience class that performs custom log4j initialization for web environments,
 allowing for log file paths within the web application, with the option to
 perform automatic refresh checks (for runtime changes in logging configuration).

 <p><b>WARNING: Assumes an expanded WAR file</b>, both for loading the configuration
 file and for writing the log files. If you want to keep your WAR unexpanded or
 don't need application-specific log files within the WAR directory, don't use
 log4j setup within the application (thus, don't use Log4jConfigListener or
 Log4jConfigServlet). Instead, use a global, VM-wide log4j setup (for example,
 in JBoss) or JDK 1.4's <code>java.util.logging</code> (which is global too).

 <p>Supports three init parameters at the servlet context level (that is,
 context-param entries in web.xml):

 <ul>
 <li><i>"log4jConfigLocation":</i><br>
 Location of the log4j config file; either a "classpath:" location (e.g.
 "classpath:myLog4j.properties"), an absolute file URL (e.g. "file:C:/log4j.properties),
 or a plain path relative to the web application root directory (e.g.
 "/WEB-INF/log4j.properties"). If not specified, default log4j initialization
 will apply ("log4j.properties" or "log4j.xml" in the class path; see the
 log4j documentation for details).
 <li><i>"log4jRefreshInterval":</i><br>
 Interval between config file refresh checks, in milliseconds. If not specified,
 no refresh checks will happen, which avoids starting log4j's watchdog thread.
 <li><i>"log4jExposeWebAppRoot":</i><br>
 Whether the web app root system property should be exposed, allowing for log
 file paths relative to the web application root directory. Default is "true";
 specify "false" to suppress expose of the web app root system property. See
 below for details on how to use this system property in log file locations.
 </ul>

 <p>Note: <code>initLogging</code> should be called before any other Spring activity
 (when using log4j), for proper initialization before any Spring logging attempts.

 <p>Log4j's watchdog thread will asynchronously check whether the timestamp
 of the config file has changed, using the given interval between checks.
 A refresh interval of 1000 milliseconds (one second), which allows to
 do on-demand log level changes with immediate effect, is not unfeasible.

 <p><b>WARNING:</b> Log4j's watchdog thread does not terminate until VM shutdown;
 in particular, it does not terminate on LogManager shutdown. Therefore, it is
 recommended to <i>not</i> use config file refreshing in a production J2EE
 environment; the watchdog thread would not stop on application shutdown there.

 <p>By default, this configurer automatically sets the web app root system property,
 for "${key}" substitutions within log file locations in the log4j config file,
 allowing for log file paths relative to the web application root directory.
 The default system property key is "webapp.root", to be used in a log4j config
 file like as follows:

 <p><code>log4j.appender.myfile.File=${webapp.root}/WEB-INF/demo.log</code>

 <p>Alternatively, specify a unique context-param "webAppRootKey" per web application.
 For example, with "webAppRootKey = "demo.root":

 <p><code>log4j.appender.myfile.File=${demo.root}/WEB-INF/demo.log</code>

 <p><b>WARNING:</b> Some containers (like Tomcat) do <i>not</i> keep system properties
 separate per web app. You have to use unique "webAppRootKey" context-params per web
 app then, to avoid clashes. Other containers like Resin do isolate each web app's
 system properties: Here you can use the default key (i.e. no "webAppRootKey"
 context-param at all) without worrying.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>12.08.2003</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Juergen Hoeller</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/springframework/util/Log4jConfigurer.html" title="class in org.springframework.util"><code>Log4jConfigurer</code></a>, 
<a href="../../../../org/springframework/web/util/Log4jConfigListener.html" title="class in org.springframework.web.util"><code>Log4jConfigListener</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/springframework/web/util/Log4jWebConfigurer.html#CONFIG_LOCATION_PARAM">CONFIG_LOCATION_PARAM</a></strong></code>
<div class="block">Parameter specifying the location of the log4j config file</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/springframework/web/util/Log4jWebConfigurer.html#EXPOSE_WEB_APP_ROOT_PARAM">EXPOSE_WEB_APP_ROOT_PARAM</a></strong></code>
<div class="block">Parameter specifying whether to expose the web app root system property</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../org/springframework/web/util/Log4jWebConfigurer.html#REFRESH_INTERVAL_PARAM">REFRESH_INTERVAL_PARAM</a></strong></code>
<div class="block">Parameter specifying the refresh interval for checking the log4j config file</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/springframework/web/util/Log4jWebConfigurer.html#Log4jWebConfigurer()">Log4jWebConfigurer</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/springframework/web/util/Log4jWebConfigurer.html#initLogging(javax.servlet.ServletContext)">initLogging</a></strong>(<a href="http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet">ServletContext</a>&nbsp;servletContext)</code>
<div class="block">Initialize log4j, including setting the web app root system property.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/springframework/web/util/Log4jWebConfigurer.html#shutdownLogging(javax.servlet.ServletContext)">shutdownLogging</a></strong>(<a href="http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet">ServletContext</a>&nbsp;servletContext)</code>
<div class="block">Shut down log4j, properly releasing all file locks
 and resetting the web app root system property.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="CONFIG_LOCATION_PARAM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CONFIG_LOCATION_PARAM</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> CONFIG_LOCATION_PARAM</pre>
<div class="block">Parameter specifying the location of the log4j config file</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.springframework.web.util.Log4jWebConfigurer.CONFIG_LOCATION_PARAM">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="REFRESH_INTERVAL_PARAM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>REFRESH_INTERVAL_PARAM</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> REFRESH_INTERVAL_PARAM</pre>
<div class="block">Parameter specifying the refresh interval for checking the log4j config file</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.springframework.web.util.Log4jWebConfigurer.REFRESH_INTERVAL_PARAM">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EXPOSE_WEB_APP_ROOT_PARAM">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EXPOSE_WEB_APP_ROOT_PARAM</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> EXPOSE_WEB_APP_ROOT_PARAM</pre>
<div class="block">Parameter specifying whether to expose the web app root system property</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../constant-values.html#org.springframework.web.util.Log4jWebConfigurer.EXPOSE_WEB_APP_ROOT_PARAM">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Log4jWebConfigurer()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Log4jWebConfigurer</h4>
<pre>public&nbsp;Log4jWebConfigurer()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="initLogging(javax.servlet.ServletContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initLogging</h4>
<pre>public static&nbsp;void&nbsp;initLogging(<a href="http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet">ServletContext</a>&nbsp;servletContext)</pre>
<div class="block">Initialize log4j, including setting the web app root system property.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>servletContext</code> - the current ServletContext</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/springframework/web/util/WebUtils.html#setWebAppRootSystemProperty(javax.servlet.ServletContext)"><code>WebUtils.setWebAppRootSystemProperty(javax.servlet.ServletContext)</code></a></dd></dl>
</li>
</ul>
<a name="shutdownLogging(javax.servlet.ServletContext)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shutdownLogging</h4>
<pre>public static&nbsp;void&nbsp;shutdownLogging(<a href="http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html?is-external=true" title="class or interface in javax.servlet">ServletContext</a>&nbsp;servletContext)</pre>
<div class="block">Shut down log4j, properly releasing all file locks
 and resetting the web app root system property.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>servletContext</code> - the current ServletContext</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../org/springframework/web/util/WebUtils.html#removeWebAppRootSystemProperty(javax.servlet.ServletContext)"><code>WebUtils.removeWebAppRootSystemProperty(javax.servlet.ServletContext)</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em>Spring Framework</em></div>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/springframework/web/util/Log4jConfigListener.html" title="class in org.springframework.web.util"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../org/springframework/web/util/NestedServletException.html" title="class in org.springframework.web.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/springframework/web/util/Log4jWebConfigurer.html" target="_top">Frames</a></li>
<li><a href="Log4jWebConfigurer.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
